(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{7144:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{A3:()=>D,AL:()=>te,AV:()=>x,Cc:()=>X,IN:()=>Jt,Su:()=>R,UR:()=>G,Uv:()=>Ye,WW:()=>ee,Wg:()=>rt,Ww:()=>ye,Y7:()=>pe,YD:()=>et,Yd:()=>Me,Yj:()=>ps,aw:()=>fn,ik:()=>Gn,kF:()=>pi,kx:()=>ie,my:()=>Gr,o9:()=>xe,qk:()=>we,sX:()=>Ue,t7:()=>Nt,uH:()=>V,yW:()=>T,yy:()=>k});const je=function(O){const P=[];let L=0;for(let Ie=0;Ie<O.length;Ie++){let q=O.charCodeAt(Ie);q<128?P[L++]=q:q<2048?(P[L++]=q>>6|192,P[L++]=63&q|128):55296==(64512&q)&&Ie+1<O.length&&56320==(64512&O.charCodeAt(Ie+1))?(q=65536+((1023&q)<<10)+(1023&O.charCodeAt(++Ie)),P[L++]=q>>18|240,P[L++]=q>>12&63|128,P[L++]=q>>6&63|128,P[L++]=63&q|128):(P[L++]=q>>12|224,P[L++]=q>>6&63|128,P[L++]=63&q|128)}return P},Je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,P){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let q=0;q<O.length;q+=3){const ut=O[q],Et=q+1<O.length,Ot=Et?O[q+1]:0,Kr=q+2<O.length,vt=Kr?O[q+2]:0;let Te=(15&Ot)<<2|vt>>6,Yr=63&vt;Kr||(Yr=64,Et||(Te=64)),Ie.push(L[ut>>2],L[(3&ut)<<4|Ot>>4],L[Te],L[Yr])}return Ie.join("")},encodeString(O,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(O):this.encodeByteArray(je(O),P)},decodeString(O,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(O):function(O){const P=[];let L=0,Ie=0;for(;L<O.length;){const q=O[L++];if(q<128)P[Ie++]=String.fromCharCode(q);else if(q>191&&q<224){const ut=O[L++];P[Ie++]=String.fromCharCode((31&q)<<6|63&ut)}else if(q>239&&q<365){const Kr=((7&q)<<18|(63&O[L++])<<12|(63&O[L++])<<6|63&O[L++])-65536;P[Ie++]=String.fromCharCode(55296+(Kr>>10)),P[Ie++]=String.fromCharCode(56320+(1023&Kr))}else{const ut=O[L++],Et=O[L++];P[Ie++]=String.fromCharCode((15&q)<<12|(63&ut)<<6|63&Et)}}return P.join("")}(this.decodeStringToByteArray(O,P))},decodeStringToByteArray(O,P){this.init_();const L=P?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let q=0;q<O.length;){const ut=L[O.charAt(q++)],Ot=q<O.length?L[O.charAt(q)]:0;++q;const vt=q<O.length?L[O.charAt(q)]:64;++q;const tn=q<O.length?L[O.charAt(q)]:64;if(++q,null==ut||null==Ot||null==vt||null==tn)throw new J;Ie.push(ut<<2|Ot>>4),64!==vt&&(Ie.push(Ot<<4&240|vt>>2),64!==tn&&Ie.push(vt<<6&192|tn))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class J extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rt=function(O){return function(O){const P=je(O);return Je.encodeByteArray(P,!0)}(O).replace(/\./g,"")},ee=function(O){try{return Je.decodeString(O,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ye(O,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return P}for(const L in P)!P.hasOwnProperty(L)||!ce(L)||(O[L]=ye(O[L],P[L]));return O}function ce(O){return"__proto__"!==O}const z=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=O&&ee(O[1]);return P&&JSON.parse(P)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},Me=()=>{var O;return null===(O=z())||void 0===O?void 0:O.config},Ue=O=>{var P;return null===(P=z())||void 0===P?void 0:P[`_${O}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,L)=>{this.resolve=P,this.reject=L})}wrapCallback(P){return(L,Ie)=>{L?this.reject(L):this.resolve(Ie),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(L):P(L,Ie))}}}function et(O,P){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=P||"demo-project",q=O.iat||0,ut=O.sub||O.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:q,exp:q+3600,auth_time:q,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},O);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(Et)),""].join(".")}function R(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function T(){var O;const P=null===(O=z())||void 0===O?void 0:O.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function V(){return"object"==typeof self&&self.self===self}function X(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const O=R();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function we(){return!T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"==typeof indexedDB}catch{return!1}}function D(){return new Promise((O,P)=>{try{let L=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Ie);q.onsuccess=()=>{q.result.close(),L||self.indexedDB.deleteDatabase(Ie),O(!0)},q.onupgradeneeded=()=>{L=!1},q.onerror=()=>{var ut;P((null===(ut=q.error)||void 0===ut?void 0:ut.message)||"")}}catch(L){P(L)}})}class ie extends Error{constructor(P,L,Ie){super(L),this.code=P,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(P,L,Ie){this.service=P,this.serviceName=L,this.errors=Ie}create(P,...L){const Ie=L[0]||{},q=`${this.service}/${P}`,ut=this.errors[P],Et=ut?function We(O,P){return O.replace(dt,(L,Ie)=>{const q=P[Ie];return null!=q?String(q):`<${Ie}?>`})}(ut,Ie):"Error";return new ie(q,`${this.serviceName}: ${Et} (${q}).`,Ie)}}const dt=/\{\$([^}]+)}/g;function pe(O,P){return Object.prototype.hasOwnProperty.call(O,P)}function Nt(O){for(const P in O)if(Object.prototype.hasOwnProperty.call(O,P))return!1;return!0}function Jt(O,P){if(O===P)return!0;const L=Object.keys(O),Ie=Object.keys(P);for(const q of L){if(!Ie.includes(q))return!1;const ut=O[q],Et=P[q];if(rn(ut)&&rn(Et)){if(!Jt(ut,Et))return!1}else if(ut!==Et)return!1}for(const q of Ie)if(!L.includes(q))return!1;return!0}function rn(O){return null!==O&&"object"==typeof O}function Gn(O){const P=[];for(const[L,Ie]of Object.entries(O))Array.isArray(Ie)?Ie.forEach(q=>{P.push(encodeURIComponent(L)+"="+encodeURIComponent(q))}):P.push(encodeURIComponent(L)+"="+encodeURIComponent(Ie));return P.length?"&"+P.join("&"):""}function fn(O){const P={};return O.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[q,ut]=Ie.split("=");P[decodeURIComponent(q)]=decodeURIComponent(ut)}}),P}function pi(O){const P=O.indexOf("?");if(!P)return"";const L=O.indexOf("#",P);return O.substring(P,L>0?L:void 0)}function Gr(O,P){const L=new ii(O,P);return L.subscribe.bind(L)}class ii{constructor(P,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{P(this)}).catch(Ie=>{this.error(Ie)})}next(P){this.forEachObserver(L=>{L.next(P)})}error(P){this.forEachObserver(L=>{L.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,L,Ie){let q;if(void 0===P&&void 0===L&&void 0===Ie)throw new Error("Missing Observer.");q=function Li(O,P){if("object"!=typeof O||null===O)return!1;for(const L of P)if(L in O&&"function"==typeof O[L])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:L,complete:Ie},void 0===q.next&&(q.next=gi),void 0===q.error&&(q.error=gi),void 0===q.complete&&(q.complete=gi);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),ut}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,P)}sendOne(P,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{L(this.observers[P])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gi(){}function ps(O){return O&&O._delegate?O._delegate:O}},9248:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>B,r:()=>W});const B=(R,x)=>{R.componentOnReady?R.componentOnReady().then(T=>x(T)):W(()=>x(R))},W=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R)},1896:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{L:()=>y,a:()=>ke,b:()=>B,c:()=>je,d:()=>Pt,g:()=>R});const y="ionViewWillEnter",ke="ionViewDidEnter",B="ionViewWillLeave",je="ionViewDidLeave",Pt="ionViewWillUnload",R=x=>x.classList.contains("ion-page")?x:x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||x},388:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>De});var y=oe(4829),ke=oe(6384);let B;const Pt=Q=>Q.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Je=Q=>(void 0===B&&(B=void 0===Q.style.animationName&&void 0!==Q.style.webkitAnimationName?"-webkit-":""),B),J=(Q,z,Y)=>{const Ne=z.startsWith("animation")?Je(Q):"";Q.style.setProperty(Ne+z,Y)},Ze=(Q,z)=>{const Y=z.startsWith("animation")?Je(Q):"";Q.style.removeProperty(Y+z)},W=[],Ee=(Q=[],z)=>{if(void 0!==z){const Y=Array.isArray(z)?z:[z];return[...Q,...Y]}return Q},De=Q=>{let z,Y,Ne,Me,Ue,xe,V,k,D,M,j,dt,tt,et=[],R=[],x=[],T=!1,X={},te=[],de=[],Ye={},bt=0,en=!1,we=!1,ie=!0,G=!1,We=!0,pt=!1;const Vt=Q,dn=[],yt=[],Re=[],se=[],pe=[],Ke=[],Nt=[],wn=[],Jt=[],rn=[],Xt=[],Gn="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,fn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gn,Xn=()=>Xt,gi=(ue,I)=>{const C=I.findIndex(F=>F.c===ue);C>-1&&I.splice(C,1)},mi=(ue,I)=>((null!=I&&I.oneTimeCallback?yt:dn).push({c:ue,o:I}),tt),Wr=()=>{if(fn)Xt.forEach(ue=>{ue.cancel()}),Xt.length=0;else{const ue=se.slice();(0,ke.r)(()=>{ue.forEach(I=>{Ze(I,"animation-name"),Ze(I,"animation-duration"),Ze(I,"animation-timing-function"),Ze(I,"animation-iteration-count"),Ze(I,"animation-delay"),Ze(I,"animation-play-state"),Ze(I,"animation-fill-mode"),Ze(I,"animation-direction")})})}},xn=()=>{Ke.forEach(ue=>{null!=ue&&ue.parentNode&&ue.parentNode.removeChild(ue)}),Ke.length=0},P=()=>void 0!==Ue?Ue:V?V.getFill():"both",L=()=>void 0!==D?D:void 0!==xe?xe:V?V.getDirection():"normal",Ie=()=>en?"linear":void 0!==Ne?Ne:V?V.getEasing():"linear",q=()=>we?0:void 0!==M?M:void 0!==Y?Y:V?V.getDuration():0,ut=()=>void 0!==Me?Me:V?V.getIterations():1,Et=()=>void 0!==j?j:void 0!==z?z:V?V.getDelay():0,ct=()=>{0!==bt&&(bt--,0===bt&&((()=>{Qo(),Jt.forEach($=>$()),rn.forEach($=>$());const ue=ie?1:0,I=te,C=de,F=Ye;se.forEach($=>{const K=$.classList;I.forEach(ae=>K.add(ae)),C.forEach(ae=>K.remove(ae));for(const ae in F)F.hasOwnProperty(ae)&&J($,ae,F[ae])}),M=void 0,D=void 0,j=void 0,dn.forEach($=>$.c(ue,tt)),yt.forEach($=>$.c(ue,tt)),yt.length=0,We=!0,ie&&(G=!0),ie=!0})(),V&&V.animationFinish()))},pn=(ue=!0)=>{xn();const I=(Q=>(Q.forEach(z=>{for(const Y in z)if(z.hasOwnProperty(Y)){const Ne=z[Y];if("easing"===Y)z["animation-timing-function"]=Ne,delete z[Y];else{const Me=Pt(Y);Me!==Y&&(z[Me]=Ne,delete z[Y])}}}),Q))(et);se.forEach(C=>{if(I.length>0){const F=((Q=[])=>Q.map(z=>{const Y=z.offset,Ne=[];for(const Me in z)z.hasOwnProperty(Me)&&"offset"!==Me&&Ne.push(`${Me}: ${z[Me]};`);return`${100*Y}% { ${Ne.join(" ")} }`}).join(" "))(I);dt=void 0!==Q?Q:(Q=>{let z=W.indexOf(Q);return z<0&&(z=W.push(Q)-1),`ion-animation-${z}`})(F);const $=((Q,z,Y)=>{var Ne;const Me=(Q=>{const z=void 0!==Q.getRootNode?Q.getRootNode():Q;return z.head||z})(Y),Ue=Je(Y),xe=Me.querySelector("#"+Q);if(xe)return xe;const et=(null!==(Ne=Y.ownerDocument)&&void 0!==Ne?Ne:document).createElement("style");return et.id=Q,et.textContent=`@${Ue}keyframes ${Q} { ${z} } @${Ue}keyframes ${Q}-alt { ${z} }`,Me.appendChild(et),et})(dt,F,C);Ke.push($),J(C,"animation-duration",`${q()}ms`),J(C,"animation-timing-function",Ie()),J(C,"animation-delay",`${Et()}ms`),J(C,"animation-fill-mode",P()),J(C,"animation-direction",L());const K=ut()===1/0?"infinite":ut().toString();J(C,"animation-iteration-count",K),J(C,"animation-play-state","paused"),ue&&J(C,"animation-name",`${$.id}-alt`),(0,ke.r)(()=>{J(C,"animation-name",$.id||null)})}})},Un=(ue=!0)=>{(()=>{Nt.forEach(F=>F()),wn.forEach(F=>F());const ue=R,I=x,C=X;se.forEach(F=>{const $=F.classList;ue.forEach(K=>$.add(K)),I.forEach(K=>$.remove(K));for(const K in C)C.hasOwnProperty(K)&&J(F,K,C[K])})})(),et.length>0&&(fn?(se.forEach(ue=>{const I=ue.animate(et,{id:Vt,delay:Et(),duration:q(),easing:Ie(),iterations:ut(),fill:P(),direction:L()});I.pause(),Xt.push(I)}),Xt.length>0&&(Xt[0].onfinish=()=>{ct()})):pn(ue)),T=!0},Ir=ue=>{if(ue=Math.min(Math.max(ue,0),.9999),fn)Xt.forEach(I=>{I.currentTime=I.effect.getComputedTiming().delay+q()*ue,I.pause()});else{const I=`-${q()*ue}ms`;se.forEach(C=>{et.length>0&&(J(C,"animation-delay",I),J(C,"animation-play-state","paused"))})}},Gt=ue=>{Xt.forEach(I=>{I.effect.updateTiming({delay:Et(),duration:q(),easing:Ie(),iterations:ut(),fill:P(),direction:L()})}),void 0!==ue&&Ir(ue)},rr=(ue=!0,I)=>{(0,ke.r)(()=>{se.forEach(C=>{J(C,"animation-name",dt||null),J(C,"animation-duration",`${q()}ms`),J(C,"animation-timing-function",Ie()),J(C,"animation-delay",void 0!==I?`-${I*q()}ms`:`${Et()}ms`),J(C,"animation-fill-mode",P()||null),J(C,"animation-direction",L()||null);const F=ut()===1/0?"infinite":ut().toString();J(C,"animation-iteration-count",F),ue&&J(C,"animation-name",`${dt}-alt`),(0,ke.r)(()=>{J(C,"animation-name",dt||null)})})})},Sr=(ue=!1,I=!0,C)=>(ue&&pe.forEach(F=>{F.update(ue,I,C)}),fn?Gt(C):rr(I,C),tt),_n=()=>{T&&(fn?Xt.forEach(ue=>{ue.pause()}):se.forEach(ue=>{J(ue,"animation-play-state","paused")}),pt=!0)},eo=()=>{k=void 0,ct()},Qo=()=>{k&&clearTimeout(k)},cl=ue=>new Promise(I=>{null!=ue&&ue.sync&&(we=!0,mi(()=>we=!1,{oneTimeCallback:!0})),T||Un(),G&&(fn?(Ir(0),Gt()):rr(),G=!1),We&&(bt=pe.length+1,We=!1);const C=()=>{gi(F,yt),I()},F=()=>{gi(C,Re),I()};mi(F,{oneTimeCallback:!0}),((ue,I)=>{Re.push({c:ue,o:{oneTimeCallback:!0}})})(C),pe.forEach($=>{$.play()}),fn?(Xt.forEach(ue=>{ue.play()}),(0===et.length||0===se.length)&&ct()):(()=>{if(Qo(),(0,ke.r)(()=>{se.forEach(ue=>{et.length>0&&J(ue,"animation-play-state","running")})}),0===et.length||0===se.length)ct();else{const ue=Et()||0,I=q()||0,C=ut()||1;isFinite(C)&&(k=setTimeout(eo,ue+I*C+100)),((Q,z)=>{let Y;const Ne={passive:!0},Ue=xe=>{Q===xe.target&&(Y&&Y(),Qo(),(0,ke.r)(()=>{se.forEach(ue=>{Ze(ue,"animation-duration"),Ze(ue,"animation-delay"),Ze(ue,"animation-play-state")}),(0,ke.r)(ct)}))};Q&&(Q.addEventListener("webkitAnimationEnd",Ue,Ne),Q.addEventListener("animationend",Ue,Ne),Y=()=>{Q.removeEventListener("webkitAnimationEnd",Ue,Ne),Q.removeEventListener("animationend",Ue,Ne)})})(se[0])}})(),pt=!1}),ma=(ue,I)=>{const C=et[0];return void 0===C||void 0!==C.offset&&0!==C.offset?et=[{offset:0,[ue]:I},...et]:C[ue]=I,tt};return tt={parentAnimation:V,elements:se,childAnimations:pe,id:Vt,animationFinish:ct,from:ma,to:(ue,I)=>{const C=et[et.length-1];return void 0===C||void 0!==C.offset&&1!==C.offset?et=[...et,{offset:1,[ue]:I}]:C[ue]=I,tt},fromTo:(ue,I,C)=>ma(ue,I).to(ue,C),parent:ue=>(V=ue,tt),play:cl,pause:()=>(pe.forEach(ue=>{ue.pause()}),_n(),tt),stop:()=>{pe.forEach(ue=>{ue.stop()}),T&&(Wr(),T=!1),en=!1,we=!1,We=!0,D=void 0,M=void 0,j=void 0,bt=0,G=!1,ie=!0,pt=!1,Re.forEach(ue=>ue.c(0,tt)),Re.length=0},destroy:ue=>(pe.forEach(I=>{I.destroy(ue)}),(ue=>{Wr(),ue&&xn()})(ue),se.length=0,pe.length=0,et.length=0,dn.length=0,yt.length=0,T=!1,We=!0,tt),keyframes:ue=>{const I=et!==ue;return et=ue,I&&(ue=>{fn?Xn().forEach(I=>{const C=I.effect;if(C.setKeyframes)C.setKeyframes(ue);else{const F=new KeyframeEffect(C.target,ue,C.getTiming());I.effect=F}}):pn()})(et),tt},addAnimation:ue=>{if(null!=ue)if(Array.isArray(ue))for(const I of ue)I.parent(tt),pe.push(I);else ue.parent(tt),pe.push(ue);return tt},addElement:ue=>{if(null!=ue)if(1===ue.nodeType)se.push(ue);else if(ue.length>=0)for(let I=0;I<ue.length;I++)se.push(ue[I]);else console.error("Invalid addElement value");return tt},update:Sr,fill:ue=>(Ue=ue,Sr(!0),tt),direction:ue=>(xe=ue,Sr(!0),tt),iterations:ue=>(Me=ue,Sr(!0),tt),duration:ue=>(!fn&&0===ue&&(ue=1),Y=ue,Sr(!0),tt),easing:ue=>(Ne=ue,Sr(!0),tt),delay:ue=>(z=ue,Sr(!0),tt),getWebAnimations:Xn,getKeyframes:()=>et,getFill:P,getDirection:L,getDelay:Et,getIterations:ut,getEasing:Ie,getDuration:q,afterAddRead:ue=>(Jt.push(ue),tt),afterAddWrite:ue=>(rn.push(ue),tt),afterClearStyles:(ue=[])=>{for(const I of ue)Ye[I]="";return tt},afterStyles:(ue={})=>(Ye=ue,tt),afterRemoveClass:ue=>(de=Ee(de,ue),tt),afterAddClass:ue=>(te=Ee(te,ue),tt),beforeAddRead:ue=>(Nt.push(ue),tt),beforeAddWrite:ue=>(wn.push(ue),tt),beforeClearStyles:(ue=[])=>{for(const I of ue)X[I]="";return tt},beforeStyles:(ue={})=>(X=ue,tt),beforeRemoveClass:ue=>(x=Ee(x,ue),tt),beforeAddClass:ue=>(R=Ee(R,ue),tt),onFinish:mi,isRunning:()=>0!==bt&&!pt,progressStart:(ue=!1,I)=>(pe.forEach(C=>{C.progressStart(ue,I)}),_n(),en=ue,T||Un(),Sr(!1,!0,I),tt),progressStep:ue=>(pe.forEach(I=>{I.progressStep(ue)}),Ir(ue),tt),progressEnd:(ue,I,C)=>(en=!1,pe.forEach(F=>{F.progressEnd(ue,I,C)}),void 0!==C&&(M=C),G=!1,ie=!0,0===ue?(D="reverse"===L()?"normal":"reverse","reverse"===D&&(ie=!1),fn?(Sr(),Ir(1-I)):(j=(1-I)*q()*-1,Sr(!1,!1))):1===ue&&(fn?(Sr(),Ir(I)):(j=I*q()*-1,Sr(!1,!1))),void 0!==ue&&!V&&cl(),tt)}}},9637:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{E:()=>ee,a:()=>y,s:()=>Ze});const y=W=>{try{if(W instanceof J)return W.value;if(!je()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const ye=document.createDocumentFragment(),ce=document.createElement("div");ye.appendChild(ce),ce.innerHTML=W,Je.forEach(Q=>{const z=ye.querySelectorAll(Q);for(let Y=z.length-1;Y>=0;Y--){const Ne=z[Y];Ne.parentNode?Ne.parentNode.removeChild(Ne):ye.removeChild(Ne);const Me=B(Ne);for(let Ue=0;Ue<Me.length;Ue++)ke(Me[Ue])}});const _e=B(ye);for(let Q=0;Q<_e.length;Q++)ke(_e[Q]);const Ee=document.createElement("div");Ee.appendChild(ye);const De=Ee.querySelector("div");return null!==De?De.innerHTML:Ee.innerHTML}catch(ye){return console.error(ye),""}},ke=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let ce=W.attributes.length-1;ce>=0;ce--){const _e=W.attributes.item(ce),Ee=_e.name;if(!Pt.includes(Ee.toLowerCase())){W.removeAttribute(Ee);continue}const De=_e.value,Q=W[Ee];(null!=De&&De.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&W.removeAttribute(Ee)}const ye=B(W);for(let ce=0;ce<ye.length;ce++)ke(ye[ce])},B=W=>null!=W.children?W.children:W.childNodes,je=()=>{var W;const ye=window,ce=null===(W=null==ye?void 0:ye.Ionic)||void 0===W?void 0:W.config;return!ce||(ce.get?ce.get("sanitizerEnabled",!0):!0===ce.sanitizerEnabled||void 0===ce.sanitizerEnabled)},Pt=["class","id","href","src","name","slot"],Je=["script","style","iframe","meta","link","object","embed"];class J{constructor(ye){this.value=ye}}const Ze=W=>{const ye=window,ce=ye.Ionic;if(!ce||!ce.config||"Object"===ce.config.constructor.name)return ye.Ionic=ye.Ionic||{},ye.Ionic.config=Object.assign(Object.assign({},ye.Ionic.config),W),ye.Ionic.config},ee=!1},495:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{C:()=>Pt,a:()=>B,d:()=>je});var y=oe(1528),ke=oe(6384);const B=function(){var Je=(0,y.c)(function*(J,Ze,rt,ee,W,ye){var ce;if(J)return J.attachViewToDom(Ze,rt,W,ee);if(!(ye||"string"==typeof rt||rt instanceof HTMLElement))throw new Error("framework delegate is missing");const _e="string"==typeof rt?null===(ce=Ze.ownerDocument)||void 0===ce?void 0:ce.createElement(rt):rt;return ee&&ee.forEach(Ee=>_e.classList.add(Ee)),W&&Object.assign(_e,W),Ze.appendChild(_e),yield new Promise(Ee=>(0,ke.c)(_e,Ee)),_e});return function(Ze,rt,ee,W,ye,ce){return Je.apply(this,arguments)}}(),je=(Je,J)=>{if(J){if(Je)return Je.removeViewFromDom(J.parentElement,J);J.remove()}return Promise.resolve()},Pt=()=>{let Je,J;return{attachViewToDom:function(){var ee=(0,y.c)(function*(W,ye,ce={},_e=[]){var Ee,De;let Q;if(Je=W,ye){const Y="string"==typeof ye?null===(Ee=Je.ownerDocument)||void 0===Ee?void 0:Ee.createElement(ye):ye;_e.forEach(Ne=>Y.classList.add(Ne)),Object.assign(Y,ce),Je.appendChild(Y),Q=Y,yield new Promise(Ne=>(0,ke.c)(Y,Ne))}else if(Je.children.length>0&&("ION-MODAL"===Je.tagName||"ION-POPOVER"===Je.tagName)&&!(Q=Je.children[0]).classList.contains("ion-delegate-host")){const Ne=null===(De=Je.ownerDocument)||void 0===De?void 0:De.createElement("div");Ne.classList.add("ion-delegate-host"),_e.forEach(Me=>Ne.classList.add(Me)),Ne.append(...Je.children),Je.appendChild(Ne),Q=Ne}const z=document.querySelector("ion-app")||document.body;return J=document.createComment("ionic teleport"),Je.parentNode.insertBefore(J,Je),z.appendChild(Je),null!=Q?Q:Je});return function(ye,ce){return ee.apply(this,arguments)}}(),removeViewFromDom:()=>(Je&&J&&(J.parentNode.insertBefore(Je,J),J.remove()),Promise.resolve())}}},6560:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{G:()=>Pt});class ke{constructor(J,Ze,rt,ee,W){this.id=Ze,this.name=rt,this.disableScroll=W,this.priority=1e6*ee+Ze,this.ctrl=J}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const J=this.ctrl.capture(this.name,this.id,this.priority);return J&&this.disableScroll&&this.ctrl.disableScroll(this.id),J}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(J,Ze,rt,ee){this.id=Ze,this.disable=rt,this.disableScroll=ee,this.ctrl=J}block(){if(this.ctrl){if(this.disable)for(const J of this.disable)this.ctrl.disableGesture(J,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const J of this.disable)this.ctrl.enableGesture(J,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const je="backdrop-no-scroll",Pt=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(J){var Ze;return new ke(this,this.newID(),J.name,null!==(Ze=J.priority)&&void 0!==Ze?Ze:0,!!J.disableScroll)}createBlocker(J={}){return new B(this,this.newID(),J.disable,!!J.disableScroll)}start(J,Ze,rt){return this.canStart(J)?(this.requestedStart.set(Ze,rt),!0):(this.requestedStart.delete(Ze),!1)}capture(J,Ze,rt){if(!this.start(J,Ze,rt))return!1;const ee=this.requestedStart;let W=-1e4;if(ee.forEach(ye=>{W=Math.max(W,ye)}),W===rt){this.capturedId=Ze,ee.clear();const ye=new CustomEvent("ionGestureCaptured",{detail:{gestureName:J}});return document.dispatchEvent(ye),!0}return ee.delete(Ze),!1}release(J){this.requestedStart.delete(J),this.capturedId===J&&(this.capturedId=void 0)}disableGesture(J,Ze){let rt=this.disabledGestures.get(J);void 0===rt&&(rt=new Set,this.disabledGestures.set(J,rt)),rt.add(Ze)}enableGesture(J,Ze){const rt=this.disabledGestures.get(J);void 0!==rt&&rt.delete(Ze)}disableScroll(J){this.disabledScroll.add(J),1===this.disabledScroll.size&&document.body.classList.add(je)}enableScroll(J){this.disabledScroll.delete(J),0===this.disabledScroll.size&&document.body.classList.remove(je)}canStart(J){return!(void 0!==this.capturedId||this.isDisabled(J))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(J){const Ze=this.disabledGestures.get(J);return!!(Ze&&Ze.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{MENU_BACK_BUTTON_PRIORITY:()=>rt,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ze,blockHardwareBackButton:()=>Je,shoudUseCloseWatcher:()=>Pt,startHardwareBackButton:()=>J});var y=oe(1528),ke=oe(4829),B=oe(8523);oe(2992);const Pt=()=>B.c.get("experimentalCloseWatcher",!1)&&void 0!==ke.w&&"CloseWatcher"in ke.w,Je=()=>{document.addEventListener("backbutton",()=>{})},J=()=>{const ee=document;let W=!1;const ye=()=>{if(W)return;let ce=0,_e=[];const Ee=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(z,Y){_e.push({priority:z,handler:Y,id:ce++})}}});ee.dispatchEvent(Ee);const De=function(){var z=(0,y.c)(function*(Y){try{if(null!=Y&&Y.handler){const Ne=Y.handler(Q);null!=Ne&&(yield Ne)}}catch(Ne){console.error(Ne)}});return function(Ne){return z.apply(this,arguments)}}(),Q=()=>{if(_e.length>0){let z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};_e.forEach(Y=>{Y.priority>=z.priority&&(z=Y)}),W=!0,_e=_e.filter(Y=>Y.id!==z.id),De(z).then(()=>W=!1)}};Q()};if(Pt()){let ce;const _e=()=>{null==ce||ce.destroy(),ce=new ke.w.CloseWatcher,ce.onclose=()=>{ye(),_e()}};_e()}else ee.addEventListener("backbutton",ye)},Ze=100,rt=99},6384:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>Ze,b:()=>rt,c:()=>B,d:()=>De,e:()=>Ee,f:()=>_e,g:()=>ee,h:()=>ce,i:()=>J,j:()=>Ue,k:()=>Pt,l:()=>Q,m:()=>je,n:()=>ye,o:()=>z,p:()=>Me,q:()=>xe,r:()=>W,s:()=>et,t:()=>y,u:()=>Y,v:()=>Ne});const y=(R,x=0)=>new Promise(T=>{ke(R,x,T)}),ke=(R,x=0,T)=>{let V,X;const te={passive:!0},Ye=()=>{V&&V()},bt=en=>{(void 0===en||R===en.target)&&(Ye(),T(en))};return R&&(R.addEventListener("webkitTransitionEnd",bt,te),R.addEventListener("transitionend",bt,te),X=setTimeout(bt,x+500),V=()=>{void 0!==X&&(clearTimeout(X),X=void 0),R.removeEventListener("webkitTransitionEnd",bt,te),R.removeEventListener("transitionend",bt,te)}),Ye},B=(R,x)=>{R.componentOnReady?R.componentOnReady().then(T=>x(T)):W(()=>x(R))},je=R=>void 0!==R.componentOnReady,Pt=(R,x=[])=>{const T={};return x.forEach(V=>{R.hasAttribute(V)&&(null!==R.getAttribute(V)&&(T[V]=R.getAttribute(V)),R.removeAttribute(V))}),T},Je=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],J=(R,x)=>{let T=Je;return x&&x.length>0&&(T=T.filter(V=>!x.includes(V))),Pt(R,T)},Ze=(R,x,T,V)=>{var X;if(typeof window<"u"){const te=window,de=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(de){const Ye=de.get("_ael");if(Ye)return Ye(R,x,T,V);if(de._ael)return de._ael(R,x,T,V)}}return R.addEventListener(x,T,V)},rt=(R,x,T,V)=>{var X;if(typeof window<"u"){const te=window,de=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(de){const Ye=de.get("_rel");if(Ye)return Ye(R,x,T,V);if(de._rel)return de._rel(R,x,T,V)}}return R.removeEventListener(x,T,V)},ee=(R,x=R)=>R.shadowRoot||x,W=R=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(R):"function"==typeof requestAnimationFrame?requestAnimationFrame(R):setTimeout(R),ye=R=>!!R.shadowRoot&&!!R.attachShadow,ce=R=>{const x=R.closest("ion-item");return x?x.querySelector("ion-label"):null},_e=R=>{if(R.focus(),R.classList.contains("ion-focusable")){const x=R.closest("ion-app");x&&x.setFocus([R])}},Ee=(R,x)=>{let T;const V=R.getAttribute("aria-labelledby"),X=R.id;let te=null!==V&&""!==V.trim()?V:x+"-lbl",de=null!==V&&""!==V.trim()?document.getElementById(V):ce(R);return de?(null===V&&(de.id=te),T=de.textContent,de.setAttribute("aria-hidden","true")):""!==X.trim()&&(de=document.querySelector(`label[for="${X}"]`),de&&(""!==de.id?te=de.id:de.id=te=`${X}-lbl`,T=de.textContent)),{label:de,labelId:te,labelText:T}},De=(R,x,T,V,X)=>{if(R||ye(x)){let te=x.querySelector("input.aux-input");te||(te=x.ownerDocument.createElement("input"),te.type="hidden",te.classList.add("aux-input"),x.appendChild(te)),te.disabled=X,te.name=T,te.value=V||""}},Q=(R,x,T)=>Math.max(R,Math.min(x,T)),z=(R,x)=>{if(!R){const T="ASSERT: "+x;throw console.error(T),new Error(T)}},Y=R=>R.timeStamp||Date.now(),Ne=R=>{if(R){const x=R.changedTouches;if(x&&x.length>0){const T=x[0];return{x:T.clientX,y:T.clientY}}if(void 0!==R.pageX)return{x:R.pageX,y:R.pageY}}return{x:0,y:0}},Me=R=>{const x="rtl"===document.dir;switch(R){case"start":return x;case"end":return!x;default:throw new Error(`"${R}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ue=(R,x)=>{const T=R._original||R;return{_original:R,emit:xe(T.emit.bind(T),x)}},xe=(R,x=0)=>{let T;return(...V)=>{clearTimeout(T),T=setTimeout(R,x,...V)}},et=(R,x)=>{if(null!=R||(R={}),null!=x||(x={}),R===x)return!0;const T=Object.keys(R);if(T.length!==Object.keys(x).length)return!1;for(const V of T)if(!(V in x)||R[V]!==x[V])return!1;return!0}},2528:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>rt});var y=oe(6560);const ke=(ce,_e,Ee,De)=>{const Q=B(ce)?{capture:!!De.capture,passive:!!De.passive}:!!De.capture;let z,Y;return ce.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(z="addEventListener",Y="removeEventListener"),ce[z](_e,Ee,Q),()=>{ce[Y](_e,Ee,Q)}},B=ce=>{if(void 0===je)try{const _e=Object.defineProperty({},"passive",{get:()=>{je=!0}});ce.addEventListener("optsTest",()=>{},_e)}catch{je=!1}return!!je};let je;const J=ce=>ce instanceof Document?ce:ce.ownerDocument,rt=ce=>{let _e=!1,Ee=!1,De=!0,Q=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ce),Y=z.canStart,Ne=z.onWillStart,Me=z.onStart,Ue=z.onEnd,xe=z.notCaptured,et=z.onMove,R=z.threshold,x=z.passive,T=z.blurOnStart,V={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((ce,_e,Ee)=>{const De=Ee*(Math.PI/180),Q="x"===ce,z=Math.cos(De),Y=_e*_e;let Ne=0,Me=0,Ue=!1,xe=0;return{start(et,R){Ne=et,Me=R,xe=0,Ue=!0},detect(et,R){if(!Ue)return!1;const x=et-Ne,T=R-Me,V=x*x+T*T;if(V<Y)return!1;const X=Math.sqrt(V),te=(Q?x:T)/X;return xe=te>z?1:te<-z?-1:0,Ue=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(z.direction,z.threshold,z.maxAngle),te=y.G.createGesture({name:ce.gestureName,priority:ce.gesturePriority,disableScroll:ce.disableScroll}),bt=()=>{_e&&(Q=!1,et&&et(V))},en=()=>!!te.capture()&&(_e=!0,De=!1,V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime,Ne?Ne(V).then(k):k(),!0),k=()=>{T&&(()=>{if(typeof document<"u"){const G=document.activeElement;null!=G&&G.blur&&G.blur()}})(),Me&&Me(V),De=!0},D=()=>{_e=!1,Ee=!1,Q=!1,De=!0,te.release()},M=G=>{const We=_e,dt=De;if(D(),dt){if(ee(V,G),We)return void(Ue&&Ue(V));xe&&xe(V)}},j=((ce,_e,Ee,De,Q)=>{let z,Y,Ne,Me,Ue,xe,et,R=0;const x=we=>{R=Date.now()+2e3,_e(we)&&(!Y&&Ee&&(Y=ke(ce,"touchmove",Ee,Q)),Ne||(Ne=ke(we.target,"touchend",V,Q)),Me||(Me=ke(we.target,"touchcancel",V,Q)))},T=we=>{R>Date.now()||_e(we)&&(!xe&&Ee&&(xe=ke(J(ce),"mousemove",Ee,Q)),et||(et=ke(J(ce),"mouseup",X,Q)))},V=we=>{te(),De&&De(we)},X=we=>{de(),De&&De(we)},te=()=>{Y&&Y(),Ne&&Ne(),Me&&Me(),Y=Ne=Me=void 0},de=()=>{xe&&xe(),et&&et(),xe=et=void 0},Ye=()=>{te(),de()},bt=(we=!0)=>{we?(z||(z=ke(ce,"touchstart",x,Q)),Ue||(Ue=ke(ce,"mousedown",T,Q))):(z&&z(),Ue&&Ue(),z=Ue=void 0,Ye())};return{enable:bt,stop:Ye,destroy:()=>{bt(!1),De=Ee=_e=void 0}}})(z.el,G=>{const We=ye(G);return!(Ee||!De||(W(G,V),V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime=We,V.velocityX=V.velocityY=V.deltaX=V.deltaY=0,V.event=G,Y&&!1===Y(V))||(te.release(),!te.start()))&&(Ee=!0,0===R?en():(X.start(V.startX,V.startY),!0))},G=>{_e?!Q&&De&&(Q=!0,ee(V,G),requestAnimationFrame(bt)):(ee(V,G),X.detect(V.currentX,V.currentY)&&(!X.isGesture()||!en())&&ie())},M,{capture:!1,passive:x}),ie=()=>{D(),j.stop(),xe&&xe(V)};return{enable(G=!0){G||(_e&&M(void 0),D()),j.enable(G)},destroy(){te.destroy(),j.destroy()}}},ee=(ce,_e)=>{if(!_e)return;const Ee=ce.currentX,De=ce.currentY,Q=ce.currentTime;W(_e,ce);const z=ce.currentX,Y=ce.currentY,Me=(ce.currentTime=ye(_e))-Q;if(Me>0&&Me<100){const xe=(Y-De)/Me;ce.velocityX=(z-Ee)/Me*.7+.3*ce.velocityX,ce.velocityY=.7*xe+.3*ce.velocityY}ce.deltaX=z-ce.startX,ce.deltaY=Y-ce.startY,ce.event=_e},W=(ce,_e)=>{let Ee=0,De=0;if(ce){const Q=ce.changedTouches;if(Q&&Q.length>0){const z=Q[0];Ee=z.clientX,De=z.clientY}else void 0!==ce.pageX&&(Ee=ce.pageX,De=ce.pageY)}_e.currentX=Ee,_e.currentY=De},ye=ce=>ce.timeStamp||Date.now()},6256:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{b:()=>Je,c:()=>J,d:()=>Ze,e:()=>R,g:()=>V,l:()=>xe,s:()=>x,t:()=>W,w:()=>et});var y=oe(1528),ke=oe(2992),B=oe(6384);const Je="ionViewWillLeave",J="ionViewDidLeave",Ze="ionViewWillUnload",W=X=>new Promise((te,de)=>{(0,ke.w)(()=>{ye(X),ce(X).then(Ye=>{Ye.animation&&Ye.animation.destroy(),_e(X),te(Ye)},Ye=>{_e(X),de(Ye)})})}),ye=X=>{const te=X.enteringEl,de=X.leavingEl;T(te,de,X.direction),X.showGoBack?te.classList.add("can-go-back"):te.classList.remove("can-go-back"),x(te,!1),te.style.setProperty("pointer-events","none"),de&&(x(de,!1),de.style.setProperty("pointer-events","none"))},ce=function(){var X=(0,y.c)(function*(te){const de=yield Ee(te);return de&&ke.B.isBrowser?De(de,te):Q(te)});return function(de){return X.apply(this,arguments)}}(),_e=X=>{const te=X.enteringEl,de=X.leavingEl;te.classList.remove("ion-page-invisible"),te.style.removeProperty("pointer-events"),void 0!==de&&(de.classList.remove("ion-page-invisible"),de.style.removeProperty("pointer-events"))},Ee=function(){var X=(0,y.c)(function*(te){return te.leavingEl&&te.animated&&0!==te.duration?te.animationBuilder?te.animationBuilder:"ios"===te.mode?(yield Promise.resolve().then(oe.bind(oe,8512))).iosTransitionAnimation:(yield Promise.resolve().then(oe.bind(oe,6556))).mdTransitionAnimation:void 0});return function(de){return X.apply(this,arguments)}}(),De=function(){var X=(0,y.c)(function*(te,de){yield z(de,!0);const Ye=te(de.baseEl,de);Me(de.enteringEl,de.leavingEl);const bt=yield Ne(Ye,de);return de.progressCallback&&de.progressCallback(void 0),bt&&Ue(de.enteringEl,de.leavingEl),{hasCompleted:bt,animation:Ye}});return function(de,Ye){return X.apply(this,arguments)}}(),Q=function(){var X=(0,y.c)(function*(te){const de=te.enteringEl,Ye=te.leavingEl;return yield z(te,!1),Me(de,Ye),Ue(de,Ye),{hasCompleted:!0}});return function(de){return X.apply(this,arguments)}}(),z=function(){var X=(0,y.c)(function*(te,de){(void 0!==te.deepWait?te.deepWait:de)&&(yield Promise.all([R(te.enteringEl),R(te.leavingEl)])),yield Y(te.viewIsReady,te.enteringEl)});return function(de,Ye){return X.apply(this,arguments)}}(),Y=function(){var X=(0,y.c)(function*(te,de){te&&(yield te(de))});return function(de,Ye){return X.apply(this,arguments)}}(),Ne=(X,te)=>{const de=te.progressCallback,Ye=new Promise(bt=>{X.onFinish(en=>bt(1===en))});return de?(X.progressStart(!0),de(X)):X.play(),Ye},Me=(X,te)=>{xe(te,Je),xe(X,"ionViewWillEnter")},Ue=(X,te)=>{xe(X,"ionViewDidEnter"),xe(te,J)},xe=(X,te)=>{if(X){const de=new CustomEvent(te,{bubbles:!1,cancelable:!1});X.dispatchEvent(de)}},et=()=>new Promise(X=>(0,B.r)(()=>(0,B.r)(()=>X()))),R=function(){var X=(0,y.c)(function*(te){const de=te;if(de){if(null!=de.componentOnReady){if(null!=(yield de.componentOnReady()))return}else if(null!=de.__registerHost)return void(yield new Promise(bt=>(0,B.r)(bt)));yield Promise.all(Array.from(de.children).map(R))}});return function(de){return X.apply(this,arguments)}}(),x=(X,te)=>{te?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},T=(X,te,de)=>{void 0!==X&&(X.style.zIndex="back"===de?"99":"101"),void 0!==te&&(te.style.zIndex="100")},V=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},2992:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{B:()=>ye,H:()=>en,a:()=>$n,b:()=>Ai,c:()=>dt,d:()=>dn,e:()=>Ht,f:()=>Vt,g:()=>tt,h:()=>Ye,i:()=>P,j:()=>ce,r:()=>pn,w:()=>ue});var y=oe(1528);let je,Pt,Je,J=!1,Ze=!1,rt=!1,ee=!1,W=!1;const ye={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ce=I=>{const C=new URL(I,_n.$resourcesUrl$);return C.origin!==Er.location.origin?C.href:C.pathname},Ne="s-id",Me="sty-id",et="slot-fb{display:contents}slot-fb[hidden]{display:none}",R="http://www.w3.org/1999/xlink",x={},te=I=>"object"==(I=typeof I)||"function"===I;function de(I){var C,F,$;return null!==($=null===(F=null===(C=I.head)||void 0===C?void 0:C.querySelector('meta[name="csp-nonce"]'))||void 0===F?void 0:F.getAttribute("content"))&&void 0!==$?$:void 0}const Ye=(I,C,...F)=>{let $=null,K=null,ae=null,ge=!1,qe=!1;const $e=[],Fe=Qe=>{for(let Mt=0;Mt<Qe.length;Mt++)$=Qe[Mt],Array.isArray($)?Fe($):null!=$&&"boolean"!=typeof $&&((ge="function"!=typeof I&&!te($))&&($=String($)),ge&&qe?$e[$e.length-1].$text$+=$:$e.push(ge?bt(null,$):$),qe=ge)};if(Fe(F),C){C.key&&(K=C.key),C.name&&(ae=C.name);{const Qe=C.className||C.class;Qe&&(C.class="object"!=typeof Qe?Qe:Object.keys(Qe).filter(Mt=>Qe[Mt]).join(" "))}}if("function"==typeof I)return I(null===C?{}:C,$e,k);const Pe=bt(I,null);return Pe.$attrs$=C,$e.length>0&&(Pe.$children$=$e),Pe.$key$=K,Pe.$name$=ae,Pe},bt=(I,C)=>({$flags$:0,$tag$:I,$text$:C,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),en={},k={forEach:(I,C)=>I.map(D).forEach(C),map:(I,C)=>I.map(D).map(C).map(M)},D=I=>({vattrs:I.$attrs$,vchildren:I.$children$,vkey:I.$key$,vname:I.$name$,vtag:I.$tag$,vtext:I.$text$}),M=I=>{if("function"==typeof I.vtag){const F=Object.assign({},I.vattrs);return I.vkey&&(F.key=I.vkey),I.vname&&(F.name=I.vname),Ye(I.vtag,F,...I.vchildren||[])}const C=bt(I.vtag,I.vtext);return C.$attrs$=I.vattrs,C.$children$=I.vchildren,C.$key$=I.vkey,C.$name$=I.vname,C},ie=(I,C,F,$,K,ae,ge)=>{let qe,$e,Fe,Pe;if(1===ae.nodeType){for(qe=ae.getAttribute("c-id"),qe&&($e=qe.split("."),($e[0]===ge||"0"===$e[0])&&(Fe={$flags$:0,$hostId$:$e[0],$nodeId$:$e[1],$depth$:$e[2],$index$:$e[3],$tag$:ae.tagName.toLowerCase(),$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},C.push(Fe),ae.removeAttribute("c-id"),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe,I=Fe,$&&"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$))),Pe=ae.childNodes.length-1;Pe>=0;Pe--)ie(I,C,F,$,K,ae.childNodes[Pe],ge);if(ae.shadowRoot)for(Pe=ae.shadowRoot.childNodes.length-1;Pe>=0;Pe--)ie(I,C,F,$,K,ae.shadowRoot.childNodes[Pe],ge)}else if(8===ae.nodeType)$e=ae.nodeValue.split("."),($e[1]===ge||"0"===$e[1])&&(qe=$e[0],Fe={$flags$:0,$hostId$:$e[1],$nodeId$:$e[2],$depth$:$e[3],$index$:$e[4],$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===qe?(Fe.$elm$=ae.nextSibling,Fe.$elm$&&3===Fe.$elm$.nodeType&&(Fe.$text$=Fe.$elm$.textContent,C.push(Fe),ae.remove(),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe,$&&"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$))):Fe.$hostId$===ge&&("s"===qe?(Fe.$tag$="slot",ae["s-sn"]=$e[5]?Fe.$name$=$e[5]:"",ae["s-sr"]=!0,$&&(Fe.$elm$=wr.createElement(Fe.$tag$),Fe.$name$&&Fe.$elm$.setAttribute("name",Fe.$name$),ae.parentNode.insertBefore(Fe.$elm$,ae),ae.remove(),"0"===Fe.$depth$&&($[Fe.$index$]=Fe.$elm$)),F.push(Fe),I.$children$||(I.$children$=[]),I.$children$[Fe.$index$]=Fe):"r"===qe&&($?ae.remove():(K["s-cr"]=ae,ae["s-cn"]=!0))));else if(I&&"style"===I.$tag$){const Qe=bt(null,ae.textContent);Qe.$elm$=ae,Qe.$index$="0",I.$children$=[Qe]}},G=(I,C)=>{if(1===I.nodeType){let F=0;for(;F<I.childNodes.length;F++)G(I.childNodes[F],C);if(I.shadowRoot)for(F=0;F<I.shadowRoot.childNodes.length;F++)G(I.shadowRoot.childNodes[F],C)}else if(8===I.nodeType){const F=I.nodeValue.split(".");"o"===F[0]&&(C.set(F[1]+"."+F[2],I),I.nodeValue="",I["s-en"]=F[3])}},dt=I=>pa.push(I),tt=I=>ct(I).$modeName$,Vt=I=>ct(I).$hostElement$,dn=(I,C,F)=>{const $=Vt(I);return{emit:K=>yt($,C,{bubbles:!!(4&F),composed:!!(2&F),cancelable:!!(1&F),detail:K})}},yt=(I,C,F)=>{const $=_n.ce(C,F);return I.dispatchEvent($),$},Re=new WeakMap,se=(I,C,F)=>{let $=Sr.get(I);sl&&F?($=$||new CSSStyleSheet,"string"==typeof $?$=C:$.replaceSync(C)):$=C,Sr.set(I,$)},pe=(I,C,F)=>{var $;const K=Nt(C,F),ae=Sr.get(K);if(I=11===I.nodeType?I:wr,ae)if("string"==typeof ae){let qe,ge=Re.get(I=I.head||I);if(ge||Re.set(I,ge=new Set),!ge.has(K)){if(I.host&&(qe=I.querySelector(`[${Me}="${K}"]`)))qe.innerHTML=ae;else{qe=wr.createElement("style"),qe.innerHTML=ae;const $e=null!==($=_n.$nonce$)&&void 0!==$?$:de(wr);null!=$e&&qe.setAttribute("nonce",$e),I.insertBefore(qe,I.querySelector("link"))}4&C.$flags$&&(qe.innerHTML+=et),ge&&ge.add(K)}}else I.adoptedStyleSheets.includes(ae)||(I.adoptedStyleSheets=[...I.adoptedStyleSheets,ae]);return K},Nt=(I,C)=>"sc-"+(C&&32&I.$flags$?I.$tagName$+"-"+C:I.$tagName$),wn=I=>I.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Jt=(I,C,F,$,K,ae)=>{if(F!==$){let ge=Un(I,C),qe=C.toLowerCase();if("class"===C){const $e=I.classList,Fe=Xt(F),Pe=Xt($);$e.remove(...Fe.filter(Qe=>Qe&&!Pe.includes(Qe))),$e.add(...Pe.filter(Qe=>Qe&&!Fe.includes(Qe)))}else if("style"===C){for(const $e in F)(!$||null==$[$e])&&($e.includes("-")?I.style.removeProperty($e):I.style[$e]="");for(const $e in $)(!F||$[$e]!==F[$e])&&($e.includes("-")?I.style.setProperty($e,$[$e]):I.style[$e]=$[$e])}else if("key"!==C)if("ref"===C)$&&$(I);else if(ge||"o"!==C[0]||"n"!==C[1]){const $e=te($);if((ge||$e&&null!==$)&&!K)try{if(I.tagName.includes("-"))I[C]=$;else{const Pe=null==$?"":$;"list"===C?ge=!1:(null==F||I[C]!=Pe)&&(I[C]=Pe)}}catch{}let Fe=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(C=qe,Fe=!0),null==$||!1===$?(!1!==$||""===I.getAttribute(C))&&(Fe?I.removeAttributeNS(R,C):I.removeAttribute(C)):(!ge||4&ae||K)&&!$e&&($=!0===$?"":$,Fe?I.setAttributeNS(R,C,$):I.setAttribute(C,$))}else if(C="-"===C[2]?C.slice(3):Un(Er,qe)?qe.slice(2):qe[2]+C.slice(3),F||$){const $e=C.endsWith(Gn);C=C.replace(fn,""),F&&_n.rel(I,C,F,$e),$&&_n.ael(I,C,$,$e)}}},rn=/\s/,Xt=I=>I?I.split(rn):[],Gn="Capture",fn=new RegExp(Gn+"$"),pi=(I,C,F,$)=>{const K=11===C.$elm$.nodeType&&C.$elm$.host?C.$elm$.host:C.$elm$,ae=I&&I.$attrs$||x,ge=C.$attrs$||x;for($ in ae)$ in ge||Jt(K,$,ae[$],void 0,F,C.$flags$);for($ in ge)Jt(K,$,ae[$],ge[$],F,C.$flags$)},Xn=(I,C,F,$)=>{const K=C.$children$[F];let ge,qe,$e,ae=0;if(J||(rt=!0,"slot"===K.$tag$&&(je&&$.classList.add(je+"-s"),K.$flags$|=K.$children$?2:1)),null!==K.$text$)ge=K.$elm$=wr.createTextNode(K.$text$);else if(1&K.$flags$)ge=K.$elm$=wr.createTextNode("");else{if(ee||(ee="svg"===K.$tag$),ge=K.$elm$=wr.createElementNS(ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&K.$flags$?"slot-fb":K.$tag$),ee&&"foreignObject"===K.$tag$&&(ee=!1),pi(null,K,ee),(I=>null!=I)(je)&&ge["s-si"]!==je&&ge.classList.add(ge["s-si"]=je),K.$children$)for(ae=0;ae<K.$children$.length;++ae)qe=Xn(I,K,ae,ge),qe&&ge.appendChild(qe);"svg"===K.$tag$?ee=!1:"foreignObject"===ge.tagName&&(ee=!0)}return ge["s-hn"]=Je,3&K.$flags$&&(ge["s-sr"]=!0,ge["s-cr"]=Pt,ge["s-sn"]=K.$name$||"",$e=I&&I.$children$&&I.$children$[F],$e&&$e.$tag$===K.$tag$&&I.$elm$&&Gr(I.$elm$,!1)),ge},Gr=(I,C)=>{_n.$flags$|=1;const F=I.childNodes;for(let $=F.length-1;$>=0;$--){const K=F[$];K["s-hn"]!==Je&&K["s-ol"]&&(mi(K).insertBefore(K,Vi(K)),K["s-ol"].remove(),K["s-ol"]=void 0,K["s-sh"]=void 0,rt=!0),C&&Gr(K,C)}_n.$flags$&=-2},ii=(I,C,F,$,K,ae)=>{let qe,ge=I["s-cr"]&&I["s-cr"].parentNode||I;for(ge.shadowRoot&&ge.tagName===Je&&(ge=ge.shadowRoot);K<=ae;++K)$[K]&&(qe=Xn(null,F,K,I),qe&&($[K].$elm$=qe,ge.insertBefore(qe,Vi(C))))},$r=(I,C,F)=>{for(let $=C;$<=F;++$){const K=I[$];if(K){const ae=K.$elm$;Mo(K),ae&&(Ze=!0,ae["s-ol"]?ae["s-ol"].remove():Gr(ae,!0),ae.remove())}}},gi=(I,C,F=!1)=>I.$tag$===C.$tag$&&("slot"===I.$tag$?I.$name$===C.$name$:!!F||I.$key$===C.$key$),Vi=I=>I&&I["s-ol"]||I,mi=I=>(I["s-ol"]?I["s-ol"]:I).parentNode,qr=(I,C,F=!1)=>{const $=C.$elm$=I.$elm$,K=I.$children$,ae=C.$children$,ge=C.$tag$,qe=C.$text$;let $e;null===qe?(ee="svg"===ge||"foreignObject"!==ge&&ee,"slot"===ge&&!J||pi(I,C,ee),null!==K&&null!==ae?((I,C,F,$,K=!1)=>{let Cr,Jn,ae=0,ge=0,qe=0,$e=0,Fe=C.length-1,Pe=C[0],Qe=C[Fe],Mt=$.length-1,on=$[0],Nn=$[Mt];for(;ae<=Fe&&ge<=Mt;)if(null==Pe)Pe=C[++ae];else if(null==Qe)Qe=C[--Fe];else if(null==on)on=$[++ge];else if(null==Nn)Nn=$[--Mt];else if(gi(Pe,on,K))qr(Pe,on,K),Pe=C[++ae],on=$[++ge];else if(gi(Qe,Nn,K))qr(Qe,Nn,K),Qe=C[--Fe],Nn=$[--Mt];else if(gi(Pe,Nn,K))("slot"===Pe.$tag$||"slot"===Nn.$tag$)&&Gr(Pe.$elm$.parentNode,!1),qr(Pe,Nn,K),I.insertBefore(Pe.$elm$,Qe.$elm$.nextSibling),Pe=C[++ae],Nn=$[--Mt];else if(gi(Qe,on,K))("slot"===Pe.$tag$||"slot"===Nn.$tag$)&&Gr(Qe.$elm$.parentNode,!1),qr(Qe,on,K),I.insertBefore(Qe.$elm$,Pe.$elm$),Qe=C[--Fe],on=$[++ge];else{for(qe=-1,$e=ae;$e<=Fe;++$e)if(C[$e]&&null!==C[$e].$key$&&C[$e].$key$===on.$key$){qe=$e;break}qe>=0?(Jn=C[qe],Jn.$tag$!==on.$tag$?Cr=Xn(C&&C[ge],F,qe,I):(qr(Jn,on,K),C[qe]=void 0,Cr=Jn.$elm$),on=$[++ge]):(Cr=Xn(C&&C[ge],F,ge,I),on=$[++ge]),Cr&&mi(Pe.$elm$).insertBefore(Cr,Vi(Pe.$elm$))}ae>Fe?ii(I,null==$[Mt+1]?null:$[Mt+1].$elm$,F,$,ge,Mt):ge>Mt&&$r(C,ae,Fe)})($,K,C,ae,F):null!==ae?(null!==I.$text$&&($.textContent=""),ii($,null,C,ae,0,ae.length-1)):null!==K&&$r(K,0,K.length-1),ee&&"svg"===ge&&(ee=!1)):($e=$["s-cr"])?$e.parentNode.textContent=qe:I.$text$!==qe&&($.data=qe)},Wr=I=>{const C=I.childNodes;for(const F of C)if(1===F.nodeType){if(F["s-sr"]){const $=F["s-sn"];F.hidden=!1;for(const K of C)if(K!==F)if(K["s-hn"]!==F["s-hn"]||""!==$){if(1===K.nodeType&&($===K.getAttribute("slot")||$===K["s-sn"])){F.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){F.hidden=!0;break}}Wr(F)}},xn=[],$i=I=>{let C,F,$;for(const K of I.childNodes){if(K["s-sr"]&&(C=K["s-cr"])&&C.parentNode){F=C.parentNode.childNodes;const ae=K["s-sn"];for($=F.length-1;$>=0;$--)if(C=F[$],!C["s-cn"]&&!C["s-nr"]&&C["s-hn"]!==K["s-hn"])if(qo(C,ae)){let ge=xn.find(qe=>qe.$nodeToRelocate$===C);Ze=!0,C["s-sn"]=C["s-sn"]||ae,ge?(ge.$nodeToRelocate$["s-sh"]=K["s-hn"],ge.$slotRefNode$=K):(C["s-sh"]=K["s-hn"],xn.push({$slotRefNode$:K,$nodeToRelocate$:C})),C["s-sr"]&&xn.map(qe=>{qo(qe.$nodeToRelocate$,C["s-sn"])&&(ge=xn.find($e=>$e.$nodeToRelocate$===C),ge&&!qe.$slotRefNode$&&(qe.$slotRefNode$=ge.$slotRefNode$))})}else xn.some(ge=>ge.$nodeToRelocate$===C)||xn.push({$nodeToRelocate$:C})}1===K.nodeType&&$i(K)}},qo=(I,C)=>1===I.nodeType?null===I.getAttribute("slot")&&""===C||I.getAttribute("slot")===C:I["s-sn"]===C||""===C,Mo=I=>{I.$attrs$&&I.$attrs$.ref&&I.$attrs$.ref(null),I.$children$&&I.$children$.map(Mo)},_i=(I,C)=>{C&&!I.$onRenderResolve$&&C["s-p"]&&C["s-p"].push(new Promise(F=>I.$onRenderResolve$=F))},ur=(I,C)=>{if(I.$flags$|=16,!(4&I.$flags$))return _i(I,I.$ancestorComponent$),ue(()=>yo(I,C));I.$flags$|=512},yo=(I,C)=>{const $=I.$lazyInstance$;let K;return C&&(I.$flags$|=256,I.$queuedListeners$&&(I.$queuedListeners$.map(([ae,ge])=>Ie($,ae,ge)),I.$queuedListeners$=void 0),K=Ie($,"componentWillLoad")),K=Io(K,()=>Ie($,"componentWillRender")),Io(K,()=>Ko(I,$,C))},Io=(I,C)=>Rn(I)?I.then(C):C(),Rn=I=>I instanceof Promise||I&&I.then&&"function"==typeof I.then,Ko=function(){var I=(0,y.c)(function*(C,F,$){var K;const ae=C.$hostElement$,qe=ae["s-rc"];$&&(I=>{const C=I.$cmpMeta$,F=I.$hostElement$,$=C.$flags$,ae=pe(F.shadowRoot?F.shadowRoot:F.getRootNode(),C,I.$modeName$);10&$&&(F["s-sc"]=ae,F.classList.add(ae+"-h"),2&$&&F.classList.add(ae+"-s"))})(C);ps(C,F,ae,$),qe&&(qe.map(Fe=>Fe()),ae["s-rc"]=void 0);{const Fe=null!==(K=ae["s-p"])&&void 0!==K?K:[],Pe=()=>O(C);0===Fe.length?Pe():(Promise.all(Fe).then(Pe),C.$flags$|=4,Fe.length=0)}});return function(F,$,K){return I.apply(this,arguments)}}(),ps=(I,C,F,$)=>{try{C=C.render&&C.render(),I.$flags$&=-17,I.$flags$|=2,((I,C,F=!1)=>{var $,K,ae,ge;const qe=I.$hostElement$,$e=I.$cmpMeta$,Fe=I.$vnode$||bt(null,null),Pe=(I=>I&&I.$tag$===en)(C)?C:Ye(null,null,C);if(Je=qe.tagName,$e.$attrsToReflect$&&(Pe.$attrs$=Pe.$attrs$||{},$e.$attrsToReflect$.map(([Qe,Mt])=>Pe.$attrs$[Mt]=qe[Qe])),F&&Pe.$attrs$)for(const Qe of Object.keys(Pe.$attrs$))qe.hasAttribute(Qe)&&!["key","ref","style","class"].includes(Qe)&&(Pe.$attrs$[Qe]=qe[Qe]);if(Pe.$tag$=null,Pe.$flags$|=4,I.$vnode$=Pe,Pe.$elm$=Fe.$elm$=qe.shadowRoot||qe,je=qe["s-sc"],J=0!=(1&$e.$flags$),Pt=qe["s-cr"],Ze=!1,qr(Fe,Pe,F),_n.$flags$|=1,rt){$i(Pe.$elm$);for(const Qe of xn){const Mt=Qe.$nodeToRelocate$;if(!Mt["s-ol"]){const on=wr.createTextNode("");on["s-nr"]=Mt,Mt.parentNode.insertBefore(Mt["s-ol"]=on,Mt)}}for(const Qe of xn){const Mt=Qe.$nodeToRelocate$,on=Qe.$slotRefNode$;if(on){const Nn=on.parentNode;let Cr=on.nextSibling;{let Jn=null===($=Mt["s-ol"])||void 0===$?void 0:$.previousSibling;for(;Jn;){let qn=null!==(K=Jn["s-nr"])&&void 0!==K?K:null;if(qn&&qn["s-sn"]===Mt["s-sn"]&&Nn===qn.parentNode&&(qn=qn.nextSibling,!qn||!qn["s-nr"])){Cr=qn;break}Jn=Jn.previousSibling}}(!Cr&&Nn!==Mt.parentNode||Mt.nextSibling!==Cr)&&Mt!==Cr&&(!Mt["s-hn"]&&Mt["s-ol"]&&(Mt["s-hn"]=Mt["s-ol"].parentNode.nodeName),Nn.insertBefore(Mt,Cr),1===Mt.nodeType&&(Mt.hidden=null!==(ae=Mt["s-ih"])&&void 0!==ae&&ae))}else 1===Mt.nodeType&&(F&&(Mt["s-ih"]=null!==(ge=Mt.hidden)&&void 0!==ge&&ge),Mt.hidden=!0)}}Ze&&Wr(Pe.$elm$),_n.$flags$&=-2,xn.length=0,Pt=void 0})(I,C,$)}catch(K){Ir(K,I.$hostElement$)}return null},O=I=>{const F=I.$hostElement$,K=I.$lazyInstance$,ae=I.$ancestorComponent$;Ie(K,"componentDidRender"),64&I.$flags$?Ie(K,"componentDidUpdate"):(I.$flags$|=64,q(F),Ie(K,"componentDidLoad"),I.$onReadyResolve$(F),ae||L()),I.$onInstanceResolve$(F),I.$onRenderResolve$&&(I.$onRenderResolve$(),I.$onRenderResolve$=void 0),512&I.$flags$&&Qr(()=>ur(I,!1)),I.$flags$&=-517},P=I=>{{const C=ct(I),F=C.$hostElement$.isConnected;return F&&2==(18&C.$flags$)&&ur(C,!1),F}},L=I=>{q(wr.documentElement),Qr(()=>yt(Er,"appload",{detail:{namespace:"ionic"}}))},Ie=(I,C,F)=>{if(I&&I[C])try{return I[C](F)}catch($){Ir($)}},q=I=>I.classList.add("hydrated"),Ot=(I,C,F)=>{var $;const K=I.prototype;if(C.$members$){I.watchers&&(C.$watchers$=I.watchers);const ae=Object.entries(C.$members$);if(ae.map(([ge,[qe]])=>{31&qe||2&F&&32&qe?Object.defineProperty(K,ge,{get(){return((I,C)=>ct(this).$instanceValues$.get(C))(0,ge)},set($e){((I,C,F,$)=>{const K=ct(I),ae=K.$hostElement$,ge=K.$instanceValues$.get(C),qe=K.$flags$,$e=K.$lazyInstance$;F=((I,C)=>null==I||te(I)?I:4&C?"false"!==I&&(""===I||!!I):2&C?parseFloat(I):1&C?String(I):I)(F,$.$members$[C][0]);const Fe=Number.isNaN(ge)&&Number.isNaN(F);if((!(8&qe)||void 0===ge)&&F!==ge&&!Fe&&(K.$instanceValues$.set(C,F),$e)){if($.$watchers$&&128&qe){const Qe=$.$watchers$[C];Qe&&Qe.map(Mt=>{try{$e[Mt](F,ge,C)}catch(on){Ir(on,ae)}})}2==(18&qe)&&ur(K,!1)}})(this,ge,$e,C)},configurable:!0,enumerable:!0}):1&F&&64&qe&&Object.defineProperty(K,ge,{value(...$e){var Fe;const Pe=ct(this);return null===(Fe=null==Pe?void 0:Pe.$onInstancePromise$)||void 0===Fe?void 0:Fe.then(()=>{var Qe;return null===(Qe=Pe.$lazyInstance$)||void 0===Qe?void 0:Qe[ge](...$e)})}})}),1&F){const ge=new Map;K.attributeChangedCallback=function(qe,$e,Fe){_n.jmp(()=>{var Pe;const Qe=ge.get(qe);if(this.hasOwnProperty(Qe))Fe=this[Qe],delete this[Qe];else{if(K.hasOwnProperty(Qe)&&"number"==typeof this[Qe]&&this[Qe]==Fe)return;if(null==Qe){const Mt=ct(this),on=null==Mt?void 0:Mt.$flags$;if(on&&!(8&on)&&128&on&&Fe!==$e){const Nn=Mt.$lazyInstance$,Cr=null===(Pe=C.$watchers$)||void 0===Pe?void 0:Pe[qe];null==Cr||Cr.forEach(Jn=>{null!=Nn[Jn]&&Nn[Jn].call(Nn,Fe,$e,qe)})}return}}this[Qe]=(null!==Fe||"boolean"!=typeof this[Qe])&&Fe})},I.observedAttributes=Array.from(new Set([...Object.keys(null!==($=C.$watchers$)&&void 0!==$?$:{}),...ae.filter(([qe,$e])=>15&$e[0]).map(([qe,$e])=>{var Fe;const Pe=$e[1]||qe;return ge.set(Pe,qe),512&$e[0]&&(null===(Fe=C.$attrsToReflect$)||void 0===Fe||Fe.push([qe,Pe])),Pe})]))}}return I},Kr=function(){var I=(0,y.c)(function*(C,F,$,K){let ae;if(!(32&F.$flags$)){F.$flags$|=32;{if(ae=rr($),ae.then){const Fe=()=>{};ae=yield ae,Fe()}ae.isProxied||($.$watchers$=ae.watchers,Ot(ae,$,2),ae.isProxied=!0);const $e=()=>{};F.$flags$|=8;try{new ae(F)}catch(Fe){Ir(Fe)}F.$flags$&=-9,F.$flags$|=128,$e(),vt(F.$lazyInstance$)}if(ae.style){let $e=ae.style;"string"!=typeof $e&&($e=$e[F.$modeName$=(I=>pa.map(C=>C(I)).find(C=>!!C))(C)]);const Fe=Nt($,F.$modeName$);if(!Sr.has(Fe)){const Pe=()=>{};se(Fe,$e,!!(1&$.$flags$)),Pe()}}}const ge=F.$ancestorComponent$,qe=()=>ur(F,!0);ge&&ge["s-rc"]?ge["s-rc"].push(qe):qe()});return function(F,$,K,ae){return I.apply(this,arguments)}}(),vt=I=>{Ie(I,"connectedCallback")},tn=I=>{const C=I["s-cr"]=wr.createComment("");C["s-cn"]=!0,I.insertBefore(C,I.firstChild)},Te=I=>{Ie(I,"disconnectedCallback")},Yr=function(){var I=(0,y.c)(function*(C){if(!(1&_n.$flags$)){const F=ct(C);F.$rmListeners$&&(F.$rmListeners$.map($=>$()),F.$rmListeners$=void 0),null!=F&&F.$lazyInstance$?Te(F.$lazyInstance$):null!=F&&F.$onReadyPromise$&&F.$onReadyPromise$.then(()=>Te(F.$lazyInstance$))}});return function(F){return I.apply(this,arguments)}}(),Ai=(I,C={})=>{var F;const K=[],ae=C.exclude||[],ge=Er.customElements,qe=wr.head,$e=qe.querySelector("meta[charset]"),Fe=wr.createElement("style"),Pe=[],Qe=wr.querySelectorAll(`[${Me}]`);let Mt,on=!0,Nn=0;for(Object.assign(_n,C),_n.$resourcesUrl$=new URL(C.resourcesUrl||"./",wr.baseURI).href,_n.$flags$|=2;Nn<Qe.length;Nn++)se(Qe[Nn].getAttribute(Me),wn(Qe[Nn].innerHTML),!0);let Cr=!1;if(I.map(Jn=>{Jn[1].map(qn=>{var xo;const Ui={$flags$:qn[0],$tagName$:qn[1],$members$:qn[2],$listeners$:qn[3]};4&Ui.$flags$&&(Cr=!0),Ui.$members$=qn[2],Ui.$listeners$=qn[3],Ui.$attrsToReflect$=[],Ui.$watchers$=null!==(xo=qn[4])&&void 0!==xo?xo:{};const Tn=Ui.$tagName$,sd=class extends HTMLElement{constructor(Xo){super(Xo),yr(Xo=this,Ui),1&Ui.$flags$&&Xo.attachShadow({mode:"open",delegatesFocus:!!(16&Ui.$flags$)})}connectedCallback(){Mt&&(clearTimeout(Mt),Mt=null),on?Pe.push(this):_n.jmp(()=>(I=>{if(!(1&_n.$flags$)){const C=ct(I),F=C.$cmpMeta$,$=()=>{};if(1&C.$flags$)Yo(I,C,F.$listeners$),null!=C&&C.$lazyInstance$?vt(C.$lazyInstance$):null!=C&&C.$onReadyPromise$&&C.$onReadyPromise$.then(()=>vt(C.$lazyInstance$));else{let K;if(C.$flags$|=1,K=I.getAttribute(Ne),K){if(1&F.$flags$){const ae=pe(I.shadowRoot,F,I.getAttribute("s-mode"));I.classList.remove(ae+"-h",ae+"-s")}((I,C,F,$)=>{const ae=I.shadowRoot,ge=[],$e=ae?[]:null,Fe=$.$vnode$=bt(C,null);_n.$orgLocNodes$||G(wr.body,_n.$orgLocNodes$=new Map),I[Ne]=F,I.removeAttribute(Ne),ie(Fe,ge,[],$e,I,I,F),ge.map(Pe=>{const Qe=Pe.$hostId$+"."+Pe.$nodeId$,Mt=_n.$orgLocNodes$.get(Qe),on=Pe.$elm$;Mt&&eo&&""===Mt["s-en"]&&Mt.parentNode.insertBefore(on,Mt.nextSibling),ae||(on["s-hn"]=C,Mt&&(on["s-ol"]=Mt,on["s-ol"]["s-nr"]=on)),_n.$orgLocNodes$.delete(Qe)}),ae&&$e.map(Pe=>{Pe&&ae.appendChild(Pe)})})(I,F.$tagName$,K,C)}K||12&F.$flags$&&tn(I);{let ae=I;for(;ae=ae.parentNode||ae.host;)if(1===ae.nodeType&&ae.hasAttribute("s-id")&&ae["s-p"]||ae["s-p"]){_i(C,C.$ancestorComponent$=ae);break}}F.$members$&&Object.entries(F.$members$).map(([ae,[ge]])=>{if(31&ge&&I.hasOwnProperty(ae)){const qe=I[ae];delete I[ae],I[ae]=qe}}),Kr(I,C,F)}$()}})(this))}disconnectedCallback(){_n.jmp(()=>Yr(this))}componentOnReady(){return ct(this).$onReadyPromise$}};Ui.$lazyBundleId$=Jn[0],!ae.includes(Tn)&&!ge.get(Tn)&&(K.push(Tn),ge.define(Tn,Ot(sd,Ui,1)))})}),K.length>0&&(Cr&&(Fe.innerHTML+=et),Fe.innerHTML+=K+"{visibility:hidden}.hydrated{visibility:inherit}",Fe.innerHTML.length)){Fe.setAttribute("data-styles","");const Jn=null!==(F=_n.$nonce$)&&void 0!==F?F:de(wr);null!=Jn&&Fe.setAttribute("nonce",Jn),qe.insertBefore(Fe,$e?$e.nextSibling:qe.firstChild)}on=!1,Pe.length?Pe.map(Jn=>Jn.connectedCallback()):_n.jmp(()=>Mt=setTimeout(L,30))},Yo=(I,C,F,$)=>{F&&F.map(([K,ae,ge])=>{const qe=re(I,K),$e=ve(C,ge),Fe=Oe(K);_n.ael(qe,ae,$e,Fe),(C.$rmListeners$=C.$rmListeners$||[]).push(()=>_n.rel(qe,ae,$e,Fe))})},ve=(I,C)=>F=>{try{256&I.$flags$?I.$lazyInstance$[C](F):(I.$queuedListeners$=I.$queuedListeners$||[]).push([C,F])}catch($){Ir($)}},re=(I,C)=>4&C?wr:8&C?Er:16&C?wr.body:I,Oe=I=>Qo?{passive:0!=(1&I),capture:0!=(2&I)}:0!=(2&I),jt=new WeakMap,ct=I=>jt.get(I),pn=(I,C)=>jt.set(C.$lazyInstance$=I,C),yr=(I,C)=>{const F={$flags$:0,$hostElement$:I,$cmpMeta$:C,$instanceValues$:new Map};return F.$onInstancePromise$=new Promise($=>F.$onInstanceResolve$=$),F.$onReadyPromise$=new Promise($=>F.$onReadyResolve$=$),I["s-p"]=[],I["s-rc"]=[],Yo(I,F,C.$listeners$),jt.set(I,F)},Un=(I,C)=>C in I,Ir=(I,C)=>(0,console.error)(I,C),Gt=new Map,rr=(I,C,F)=>{const $=I.$tagName$.replace(/-/g,"_"),K=I.$lazyBundleId$,ae=Gt.get(K);return ae?ae[$]:oe(1480)(`./${K}.entry.js`).then(ge=>(Gt.set(K,ge),ge[$]),Ir)},Sr=new Map,pa=[],Er=typeof window<"u"?window:{},wr=Er.document||{head:{}},_n={$flags$:0,$resourcesUrl$:"",jmp:I=>I(),raf:I=>requestAnimationFrame(I),ael:(I,C,F,$)=>I.addEventListener(C,F,$),rel:(I,C,F,$)=>I.removeEventListener(C,F,$),ce:(I,C)=>new CustomEvent(I,C)},$n=I=>{Object.assign(_n,I)},eo=!0,Qo=(()=>{let I=!1;try{wr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){I=!0}}))}catch{}return I})(),sl=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),al=[],ll=[],cl=(I,C)=>F=>{I.push(F),W||(W=!0,C&&4&_n.$flags$?Qr(ma):_n.raf(ma))},ga=I=>{for(let C=0;C<I.length;C++)try{I[C](performance.now())}catch(F){Ir(F)}I.length=0},ma=()=>{ga(al),ga(ll),(W=al.length>0)&&_n.raf(ma)},Qr=I=>Promise.resolve(void 0).then(I),Ht=cl(al,!1),ue=cl(ll,!0)},2032:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>ke,b:()=>B,p:()=>y});const y=(je,...Pt)=>console.warn(`[Ionic Warning]: ${je}`,...Pt),ke=(je,...Pt)=>console.error(`[Ionic Error]: ${je}`,...Pt),B=(je,...Pt)=>console.error(`<${je.tagName.toLowerCase()}> must be used inside ${Pt.join(" or ")}.`)},4829:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{d:()=>ke,w:()=>y});const y=typeof window<"u"?window:void 0,ke=typeof document<"u"?document:void 0},3452:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{m:()=>ce});var y=oe(1528),ke=oe(4829),B=oe(2784),je=oe(2032),Pt=oe(6384),Je=oe(8523),J=oe(388);const Ze=_e=>(0,J.c)().duration(_e?400:300),rt=_e=>{let Ee,De;const Q=_e.width+8,z=(0,J.c)(),Y=(0,J.c)();_e.isEndSide?(Ee=Q+"px",De="0px"):(Ee=-Q+"px",De="0px"),z.addElement(_e.menuInnerEl).fromTo("transform",`translateX(${Ee})`,`translateX(${De})`);const Me="ios"===(0,Je.b)(_e),Ue=Me?.2:.25;return Y.addElement(_e.backdropEl).fromTo("opacity",.01,Ue),Ze(Me).addAnimation([z,Y])},ee=_e=>{let Ee,De;const Q=(0,Je.b)(_e),z=_e.width;_e.isEndSide?(Ee=-z+"px",De=z+"px"):(Ee=z+"px",De=-z+"px");const Y=(0,J.c)().addElement(_e.menuInnerEl).fromTo("transform",`translateX(${De})`,"translateX(0px)"),Ne=(0,J.c)().addElement(_e.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ee})`),Me=(0,J.c)().addElement(_e.backdropEl).fromTo("opacity",.01,.32);return Ze("ios"===Q).addAnimation([Y,Ne,Me])},W=_e=>{const Ee=(0,Je.b)(_e),De=_e.width*(_e.isEndSide?-1:1)+"px",Q=(0,J.c)().addElement(_e.contentEl).fromTo("transform","translateX(0px)",`translateX(${De})`);return Ze("ios"===Ee).addAnimation(Q)},ce=(()=>{const _e=new Map,Ee=[],De=function(){var D=(0,y.c)(function*(M){const j=yield xe(M,!0);return!!j&&j.open()});return function(j){return D.apply(this,arguments)}}(),Q=function(){var D=(0,y.c)(function*(M){const j=yield void 0!==M?xe(M,!0):et();return void 0!==j&&j.close()});return function(j){return D.apply(this,arguments)}}(),z=function(){var D=(0,y.c)(function*(M){const j=yield xe(M,!0);return!!j&&j.toggle()});return function(j){return D.apply(this,arguments)}}(),Y=function(){var D=(0,y.c)(function*(M,j){const ie=yield xe(j);return ie&&(ie.disabled=!M),ie});return function(j,ie){return D.apply(this,arguments)}}(),Ne=function(){var D=(0,y.c)(function*(M,j){const ie=yield xe(j);return ie&&(ie.swipeGesture=M),ie});return function(j,ie){return D.apply(this,arguments)}}(),Me=function(){var D=(0,y.c)(function*(M){if(null!=M){const j=yield xe(M);return void 0!==j&&j.isOpen()}return void 0!==(yield et())});return function(j){return D.apply(this,arguments)}}(),Ue=function(){var D=(0,y.c)(function*(M){const j=yield xe(M);return!!j&&!j.disabled});return function(j){return D.apply(this,arguments)}}(),xe=function(){var D=(0,y.c)(function*(M,j=!1){if(yield k(),"start"===M||"end"===M){const G=Ee.filter(dt=>dt.side===M&&!dt.disabled);if(G.length>=1)return G.length>1&&j&&(0,je.p)(`menuController queried for a menu on the "${M}" side, but ${G.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,G.map(dt=>dt.el)),G[0].el;const We=Ee.filter(dt=>dt.side===M);if(We.length>=1)return We.length>1&&j&&(0,je.p)(`menuController queried for a menu on the "${M}" side, but ${We.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,We.map(dt=>dt.el)),We[0].el}else if(null!=M)return we(G=>G.menuId===M);return we(G=>!G.disabled)||(Ee.length>0?Ee[0].el:void 0)});return function(j){return D.apply(this,arguments)}}(),et=function(){var D=(0,y.c)(function*(){return yield k(),Ye()});return function(){return D.apply(this,arguments)}}(),R=function(){var D=(0,y.c)(function*(){return yield k(),bt()});return function(){return D.apply(this,arguments)}}(),x=function(){var D=(0,y.c)(function*(){return yield k(),en()});return function(){return D.apply(this,arguments)}}(),T=(D,M)=>{_e.set(D,M)},te=function(){var D=(0,y.c)(function*(M,j,ie){if(en())return!1;if(j){const G=yield et();G&&M.el!==G&&(yield G.setOpen(!1,!1))}return M._setOpen(j,ie)});return function(j,ie,G){return D.apply(this,arguments)}}(),Ye=()=>we(D=>D._isOpen),bt=()=>Ee.map(D=>D.el),en=()=>Ee.some(D=>D.isAnimating),we=D=>{const M=Ee.find(D);if(void 0!==M)return M.el},k=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(D=>new Promise(M=>(0,Pt.c)(D,M))));return T("reveal",W),T("push",ee),T("overlay",rt),null==ke.d||ke.d.addEventListener("ionBackButton",D=>{const M=Ye();M&&D.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>M.close())}),{registerAnimation:T,get:xe,getMenus:R,getOpen:et,isEnabled:Ue,swipeGesture:Ne,isAnimating:x,isOpen:Me,enable:Y,toggle:z,close:Q,open:De,_getOpenSync:Ye,_createAnimation:(D,M)=>{const j=_e.get(D);if(!j)throw new Error("animation not registered");return j(M)},_register:D=>{Ee.indexOf(D)<0&&Ee.push(D)},_unregister:D=>{const M=Ee.indexOf(D);M>-1&&Ee.splice(M,1)},_setOpen:te}})()},8523:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{a:()=>W,b:()=>bt,c:()=>B,i:()=>en});var y=oe(2992);class ke{constructor(){this.m=new Map}reset(k){this.m=new Map(Object.entries(k))}get(k,D){const M=this.m.get(k);return void 0!==M?M:D}getBoolean(k,D=!1){const M=this.m.get(k);return void 0===M?D:"string"==typeof M?"true"===M:!!M}getNumber(k,D){const M=parseFloat(this.m.get(k));return isNaN(M)?void 0!==D?D:NaN:M}set(k,D){this.m.set(k,D)}}const B=new ke,rt="ionic-persist-config",W=(we,k)=>("string"==typeof we&&(k=we,we=void 0),(we=>ye(we))(we).includes(k)),ye=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let k=we.Ionic.platforms;return null==k&&(k=we.Ionic.platforms=ce(we),k.forEach(D=>we.document.documentElement.classList.add(`plt-${D}`))),k},ce=we=>{const k=B.get("platform");return Object.keys(de).filter(D=>{const M=null==k?void 0:k[D];return"function"==typeof M?M(we):de[D](we)})},Ee=we=>!!(X(we,/iPad/i)||X(we,/Macintosh/i)&&Ue(we)),z=we=>X(we,/android|sink/i),Ue=we=>te(we,"(any-pointer:coarse)"),et=we=>R(we)||x(we),R=we=>!!(we.cordova||we.phonegap||we.PhoneGap),x=we=>{const k=we.Capacitor;return!(null==k||!k.isNative)},X=(we,k)=>k.test(we.navigator.userAgent),te=(we,k)=>{var D;return null===(D=we.matchMedia)||void 0===D?void 0:D.call(we,k).matches},de={ipad:Ee,iphone:we=>X(we,/iPhone/i),ios:we=>X(we,/iPhone|iPod/i)||Ee(we),android:z,phablet:we=>{const k=we.innerWidth,D=we.innerHeight,M=Math.min(k,D),j=Math.max(k,D);return M>390&&M<520&&j>620&&j<800},tablet:we=>{const k=we.innerWidth,D=we.innerHeight,M=Math.min(k,D),j=Math.max(k,D);return Ee(we)||(we=>z(we)&&!X(we,/mobile/i))(we)||M>460&&M<820&&j>780&&j<1400},cordova:R,capacitor:x,electron:we=>X(we,/electron/i),pwa:we=>{var k;return!!(null!==(k=we.matchMedia)&&void 0!==k&&k.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:Ue,mobileweb:we=>Ue(we)&&!et(we),desktop:we=>!Ue(we),hybrid:et};let Ye;const bt=we=>we&&(0,y.g)(we)||Ye,en=(we={})=>{if(typeof window>"u")return;const k=window.document,D=window,M=D.Ionic=D.Ionic||{},j={};we._ael&&(j.ael=we._ael),we._rel&&(j.rel=we._rel),we._ce&&(j.ce=we._ce),(0,y.a)(j);const ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(we=>{try{const k=we.sessionStorage.getItem(rt);return null!==k?JSON.parse(k):{}}catch{return{}}})(D)),{persistConfig:!1}),M.config),(we=>{const k={};return we.location.search.slice(1).split("&").map(D=>D.split("=")).map(([D,M])=>[decodeURIComponent(D),decodeURIComponent(M)]).filter(([D])=>((we,k)=>we.substr(0,k.length)===k)(D,"ionic:")).map(([D,M])=>[D.slice(6),M]).forEach(([D,M])=>{k[D]=M}),k})(D)),we);B.reset(ie),B.getBoolean("persistConfig")&&((we,k)=>{try{we.sessionStorage.setItem(rt,JSON.stringify(k))}catch{return}})(D,ie),ye(D),M.config=B,M.mode=Ye=B.get("mode",k.documentElement.getAttribute("mode")||(W(D,"ios")?"ios":"md")),B.set("mode",Ye),k.documentElement.setAttribute("mode",Ye),k.documentElement.classList.add(Ye),B.getBoolean("_testing")&&B.set("animated",!1);const G=dt=>{var tt;return null===(tt=dt.tagName)||void 0===tt?void 0:tt.startsWith("ION-")},We=dt=>["ios","md"].includes(dt);(0,y.c)(dt=>{for(;dt;){const tt=dt.mode||dt.getAttribute("mode");if(tt){if(We(tt))return tt;G(dt)&&console.warn('Invalid ionic mode: "'+tt+'", expected: "ios" or "md"')}dt=dt.parentElement}return Ye})}},8512:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{iosTransitionAnimation:()=>ce,shadow:()=>J});var y=oe(388),ke=oe(6256);oe(4829),oe(2992);const Je=Ee=>document.querySelector(`${Ee}.ion-cloned-element`),J=Ee=>Ee.shadowRoot||Ee,Ze=Ee=>{const De="ION-TABS"===Ee.tagName?Ee:Ee.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const z=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=z?z.querySelector(Q):null}return Ee.querySelector(Q)},rt=(Ee,De)=>{const Q="ION-TABS"===Ee.tagName?Ee:Ee.querySelector("ion-tabs");let z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(z=Y.querySelectorAll("ion-buttons"))}else z=Ee.querySelectorAll("ion-buttons");for(const Y of z){const Ne=Y.closest("ion-header"),Me=Ne&&!Ne.classList.contains("header-collapse-condense-inactive"),Ue=Y.querySelector("ion-back-button"),xe=Y.classList.contains("buttons-collapse");if(null!==Ue&&("start"===Y.slot||""===Y.slot)&&(xe&&Me&&De||!xe))return Ue}return null},W=(Ee,De,Q,z,Y,Ne,Me,Ue,xe)=>{var et,R;const x=De?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",T=De?"right":"left",V=De?"left":"right",X=De?"right":"left",te=(null===(et=Ne.textContent)||void 0===et?void 0:et.trim())===(null===(R=Ue.textContent)||void 0===R?void 0:R.trim()),Ye=(xe.height-_e)/Me.height,bt=te?`scale(${xe.width/Me.width}, ${Ye})`:`scale(${Ye})`,en="scale(1)",k=J(z).querySelector("ion-icon").getBoundingClientRect(),D=De?k.width/2-(k.right-Y.right)+"px":Y.left-k.width/2+"px",M=De?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,j=`${xe.top}px`,ie=`${Y.top}px`,dt=Q?[{offset:0,transform:`translate3d(${M}, ${ie}, 0)`},{offset:1,transform:`translate3d(${D}, ${j}, 0)`}]:[{offset:0,transform:`translate3d(${D}, ${j}, 0)`},{offset:1,transform:`translate3d(${M}, ${ie}, 0)`}],Vt=Q?[{offset:0,opacity:1,transform:en},{offset:1,opacity:0,transform:bt}]:[{offset:0,opacity:0,transform:bt},{offset:1,opacity:1,transform:en}],Re=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],se=(0,y.c)(),pe=(0,y.c)(),Ke=(0,y.c)(),Nt=Je("ion-back-button"),wn=J(Nt).querySelector(".button-text"),Jt=J(Nt).querySelector("ion-icon");Nt.text=z.text,Nt.mode=z.mode,Nt.icon=z.icon,Nt.color=z.color,Nt.disabled=z.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),pe.addElement(Jt),se.addElement(wn),Ke.addElement(Nt),Ke.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(dt),se.beforeStyles({"transform-origin":`${T} top`}).beforeAddWrite(()=>{z.style.setProperty("display","none"),Nt.style.setProperty(T,x)}).afterAddWrite(()=>{z.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(T)}).keyframes(Vt),pe.beforeStyles({"transform-origin":`${V} center`}).keyframes(Re),Ee.addAnimation([se,pe,Ke])},ye=(Ee,De,Q,z,Y,Ne,Me,Ue)=>{var xe,et;const R=De?"right":"left",x=De?`calc(100% - ${Y.right}px)`:`${Y.left}px`,V=`${Y.top}px`,te=De?`-${window.innerWidth-Ue.right-8}px`:Ue.x-8+"px",Ye=Ue.y-2+"px",bt=(null===(xe=Me.textContent)||void 0===xe?void 0:xe.trim())===(null===(et=z.textContent)||void 0===et?void 0:et.trim()),we=Ue.height/(Ne.height-_e),k="scale(1)",D=bt?`scale(${Ue.width/Ne.width}, ${we})`:`scale(${we})`,ie=Q?[{offset:0,opacity:0,transform:`translate3d(${te}, ${Ye}, 0) ${D}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${V}, 0) ${k}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${V}, 0) ${k}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${Ye}, 0) ${D}`}],G=Je("ion-title"),We=(0,y.c)();G.innerText=z.innerText,G.size=z.size,G.color=z.color,We.addElement(G),We.beforeStyles({"transform-origin":`${R} top`,height:`${Y.height}px`,display:"",position:"relative",[R]:x}).beforeAddWrite(()=>{z.style.setProperty("opacity","0")}).afterAddWrite(()=>{z.style.setProperty("opacity",""),G.style.setProperty("display","none")}).keyframes(ie),Ee.addAnimation(We)},ce=(Ee,De)=>{var Q;try{const z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",Ne="transform",Me="0%",xe="rtl"===Ee.ownerDocument.dir,et=xe?"-99.5%":"99.5%",R=xe?"33%":"-33%",x=De.enteringEl,T=De.leavingEl,V="back"===De.direction,X=x.querySelector(":scope > ion-content"),te=x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),de=x.querySelectorAll(":scope > ion-header > ion-toolbar"),Ye=(0,y.c)(),bt=(0,y.c)();if(Ye.addElement(x).duration((null!==(Q=De.duration)&&void 0!==Q?Q:0)||540).easing(De.easing||z).fill("both").beforeRemoveClass("ion-page-invisible"),T&&null!=Ee){const D=(0,y.c)();D.addElement(Ee),Ye.addAnimation(D)}if(X||0!==de.length||0!==te.length?(bt.addElement(X),bt.addElement(te)):bt.addElement(x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ye.addAnimation(bt),V?bt.beforeClearStyles([Y]).fromTo("transform",`translateX(${R})`,`translateX(${Me})`).fromTo(Y,.8,1):bt.beforeClearStyles([Y]).fromTo("transform",`translateX(${et})`,`translateX(${Me})`),X){const D=J(X).querySelector(".transition-effect");if(D){const M=D.querySelector(".transition-cover"),j=D.querySelector(".transition-shadow"),ie=(0,y.c)(),G=(0,y.c)(),We=(0,y.c)();ie.addElement(D).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),G.addElement(M).beforeClearStyles([Y]).fromTo(Y,0,.1),We.addElement(j).beforeClearStyles([Y]).fromTo(Y,.03,.7),ie.addAnimation([G,We]),bt.addAnimation([ie])}}const en=x.querySelector("ion-header.header-collapse-condense"),{forward:we,backward:k}=((Ee,De,Q,z,Y)=>{const Ne=rt(z,Q),Me=Ze(Y),Ue=Ze(z),xe=rt(Y,Q),et=null!==Ne&&null!==Me&&!Q,R=null!==Ue&&null!==xe&&Q;if(et){const x=Me.getBoundingClientRect(),T=Ne.getBoundingClientRect(),V=J(Ne).querySelector(".button-text"),X=V.getBoundingClientRect(),de=J(Me).querySelector(".toolbar-title").getBoundingClientRect();ye(Ee,De,Q,Me,x,de,V,X),W(Ee,De,Q,Ne,T,V,X,Me,de)}else if(R){const x=Ue.getBoundingClientRect(),T=xe.getBoundingClientRect(),V=J(xe).querySelector(".button-text"),X=V.getBoundingClientRect(),de=J(Ue).querySelector(".toolbar-title").getBoundingClientRect();ye(Ee,De,Q,Ue,x,de,V,X),W(Ee,De,Q,xe,T,V,X,Ue,de)}return{forward:et,backward:R}})(Ye,xe,V,x,T);if(de.forEach(D=>{const M=(0,y.c)();M.addElement(D),Ye.addAnimation(M);const j=(0,y.c)();j.addElement(D.querySelector("ion-title"));const ie=(0,y.c)(),G=Array.from(D.querySelectorAll("ion-buttons,[menuToggle]")),We=D.closest("ion-header"),dt=null==We?void 0:We.classList.contains("header-collapse-condense-inactive");let tt;tt=G.filter(V?Re=>{const se=Re.classList.contains("buttons-collapse");return se&&!dt||!se}:Re=>!Re.classList.contains("buttons-collapse")),ie.addElement(tt);const pt=(0,y.c)();pt.addElement(D.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Vt=(0,y.c)();Vt.addElement(J(D).querySelector(".toolbar-background"));const dn=(0,y.c)(),yt=D.querySelector("ion-back-button");if(yt&&dn.addElement(yt),M.addAnimation([j,ie,pt,Vt,dn]),ie.fromTo(Y,.01,1),pt.fromTo(Y,.01,1),V)dt||j.fromTo("transform",`translateX(${R})`,`translateX(${Me})`).fromTo(Y,.01,1),pt.fromTo("transform",`translateX(${R})`,`translateX(${Me})`),dn.fromTo(Y,.01,1);else if(en||j.fromTo("transform",`translateX(${et})`,`translateX(${Me})`).fromTo(Y,.01,1),pt.fromTo("transform",`translateX(${et})`,`translateX(${Me})`),Vt.beforeClearStyles([Y,"transform"]),(null==We?void 0:We.translucent)?Vt.fromTo("transform",xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Vt.fromTo(Y,.01,"var(--opacity)"),we||dn.fromTo(Y,.01,1),yt&&!we){const se=(0,y.c)();se.addElement(J(yt).querySelector(".button-text")).fromTo("transform",xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),M.addAnimation(se)}}),T){const D=(0,y.c)(),M=T.querySelector(":scope > ion-content"),j=T.querySelectorAll(":scope > ion-header > ion-toolbar"),ie=T.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(M||0!==j.length||0!==ie.length?(D.addElement(M),D.addElement(ie)):D.addElement(T.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ye.addAnimation(D),V){D.beforeClearStyles([Y]).fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)");const G=(0,ke.g)(T);Ye.afterAddWrite(()=>{"normal"===Ye.getDirection()&&G.style.setProperty("display","none")})}else D.fromTo("transform",`translateX(${Me})`,`translateX(${R})`).fromTo(Y,1,.8);if(M){const G=J(M).querySelector(".transition-effect");if(G){const We=G.querySelector(".transition-cover"),dt=G.querySelector(".transition-shadow"),tt=(0,y.c)(),pt=(0,y.c)(),Vt=(0,y.c)();tt.addElement(G).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(We).beforeClearStyles([Y]).fromTo(Y,.1,0),Vt.addElement(dt).beforeClearStyles([Y]).fromTo(Y,.7,.03),tt.addAnimation([pt,Vt]),D.addAnimation([tt])}}j.forEach(G=>{const We=(0,y.c)();We.addElement(G);const dt=(0,y.c)();dt.addElement(G.querySelector("ion-title"));const tt=(0,y.c)(),pt=G.querySelectorAll("ion-buttons,[menuToggle]"),Vt=G.closest("ion-header"),dn=null==Vt?void 0:Vt.classList.contains("header-collapse-condense-inactive"),yt=Array.from(pt).filter(wn=>{const Jt=wn.classList.contains("buttons-collapse");return Jt&&!dn||!Jt});tt.addElement(yt);const Re=(0,y.c)(),se=G.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");se.length>0&&Re.addElement(se);const pe=(0,y.c)();pe.addElement(J(G).querySelector(".toolbar-background"));const Ke=(0,y.c)(),Nt=G.querySelector("ion-back-button");if(Nt&&Ke.addElement(Nt),We.addAnimation([dt,tt,Re,Ke,pe]),Ye.addAnimation(We),Ke.fromTo(Y,.99,0),tt.fromTo(Y,.99,0),Re.fromTo(Y,.99,0),V){if(dn||dt.fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Re.fromTo("transform",`translateX(${Me})`,xe?"translateX(-100%)":"translateX(100%)"),pe.beforeClearStyles([Y,"transform"]),(null==Vt?void 0:Vt.translucent)?pe.fromTo("transform","translateX(0px)",xe?"translateX(-100%)":"translateX(100%)"):pe.fromTo(Y,"var(--opacity)",0),Nt&&!k){const Jt=(0,y.c)();Jt.addElement(J(Nt).querySelector(".button-text")).fromTo("transform",`translateX(${Me})`,`translateX(${(xe?-124:124)+"px"})`),We.addAnimation(Jt)}}else dn||dt.fromTo("transform",`translateX(${Me})`,`translateX(${R})`).fromTo(Y,.99,0).afterClearStyles([Ne,Y]),Re.fromTo("transform",`translateX(${Me})`,`translateX(${R})`).afterClearStyles([Ne,Y]),Ke.afterClearStyles([Y]),dt.afterClearStyles([Y]),tt.afterClearStyles([Y])})}return Ye}catch(z){throw z}},_e=10},6556:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{mdTransitionAnimation:()=>Pt});var y=oe(388),ke=oe(6256);oe(4829),oe(2992);const Pt=(Je,J)=>{var Ze,rt,ee;const W="40px",ce="back"===J.direction,Ee=J.leavingEl,De=(0,ke.g)(J.enteringEl),Q=De.querySelector("ion-toolbar"),z=(0,y.c)();if(z.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),ce?z.duration((null!==(Ze=J.duration)&&void 0!==Ze?Ze:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(rt=J.duration)&&void 0!==rt?rt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,y.c)();Y.addElement(Q),z.addAnimation(Y)}if(Ee&&ce){z.duration((null!==(ee=J.duration)&&void 0!==ee?ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,y.c)();Y.addElement((0,ke.g)(Ee)).onFinish(Ne=>{1===Ne&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),z.addAnimation(Y)}return z}},3816:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{B:()=>tt,G:()=>pt,O:()=>Vt,a:()=>ye,b:()=>ce,c:()=>Q,d:()=>dn,e:()=>yt,f:()=>en,g:()=>k,h:()=>j,i:()=>G,j:()=>Y,k:()=>Ne,m:()=>Ee,n:()=>et,o:()=>Ye,s:()=>dt});var y=oe(1528),ke=oe(4829),B=oe(2784),je=oe(8523),Pt=oe(495),Je=oe(6384),J=oe(2032);let Ze=0,rt=0;const ee=new WeakMap,W=Re=>({create:se=>Me(Re,se),dismiss:(se,pe,Ke)=>X(document,se,pe,Re,Ke),getTop:()=>(0,y.c)(function*(){return Ye(document,Re)})()}),ye=W("ion-alert"),ce=W("ion-action-sheet"),Ee=W("ion-modal"),Q=W("ion-popover"),Y=Re=>{typeof document<"u"&&V(document);const se=Ze++;Re.overlayIndex=se},Ne=Re=>(Re.hasAttribute("id")||(Re.id="ion-overlay-"+ ++rt),Re.id),Me=(Re,se)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Re).then(()=>{const pe=document.createElement(Re);return pe.classList.add("overlay-hidden"),Object.assign(pe,Object.assign(Object.assign({},se),{hasController:!0})),D(document).appendChild(pe),new Promise(Ke=>(0,Je.c)(pe,Ke))}):Promise.resolve(),Ue='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',et=(Re,se)=>{const pe=Re.querySelector(Ue);x(pe,se)},R=(Re,se)=>{const pe=Array.from(Re.querySelectorAll(Ue));x(pe.length>0?pe[pe.length-1]:null,se)},x=(Re,se)=>{let pe=Re;const Ke=null==Re?void 0:Re.shadowRoot;Ke&&(pe=Ke.querySelector(Ue)||Re),pe?(0,Je.f)(pe):se.focus()},V=Re=>{0===Ze&&(Ze=1,Re.addEventListener("focus",se=>{((Re,se)=>{const pe=Ye(se,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ke=Re.target;pe&&Ke&&!pe.classList.contains("ion-disable-focus-trap")&&(pe.shadowRoot?(()=>{if(pe.contains(Ke))pe.lastFocus=Ke;else if("ION-TOAST"===Ke.tagName)x(pe.lastFocus,pe);else{const Jt=pe.lastFocus;et(pe,pe),Jt===se.activeElement&&R(pe,pe),pe.lastFocus=se.activeElement}})():(()=>{if(pe===Ke)pe.lastFocus=void 0;else if("ION-TOAST"===Ke.tagName)x(pe.lastFocus,pe);else{const Jt=(0,Je.g)(pe);if(!Jt.contains(Ke))return;const rn=Jt.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Ke)||Ke===Jt.querySelector("ion-backdrop"))pe.lastFocus=Ke;else{const Xt=pe.lastFocus;et(rn,pe),Xt===se.activeElement&&R(rn,pe),pe.lastFocus=se.activeElement}}})())})(se,Re)},!0),Re.addEventListener("ionBackButton",se=>{const pe=Ye(Re);null!=pe&&pe.backdropDismiss&&se.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>{pe.dismiss(void 0,tt)})}),(0,B.shoudUseCloseWatcher)()||Re.addEventListener("keydown",se=>{if("Escape"===se.key){const pe=Ye(Re);null!=pe&&pe.backdropDismiss&&pe.dismiss(void 0,tt)}}))},X=(Re,se,pe,Ke,Nt)=>{const wn=Ye(Re,Ke,Nt);return wn?wn.dismiss(se,pe):Promise.reject("overlay does not exist")},de=(Re,se)=>((Re,se)=>(void 0===se&&(se="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Re.querySelectorAll(se)).filter(pe=>pe.overlayIndex>0)))(Re,se).filter(pe=>!(Re=>Re.classList.contains("overlay-hidden"))(pe)),Ye=(Re,se,pe)=>{const Ke=de(Re,se);return void 0===pe?Ke[Ke.length-1]:Ke.find(Nt=>Nt.id===pe)},bt=(Re=!1)=>{const pe=D(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");pe&&(Re?pe.setAttribute("aria-hidden","true"):pe.removeAttribute("aria-hidden"))},en=function(){var Re=(0,y.c)(function*(se,pe,Ke,Nt,wn){var Jt,rn;if(se.presented)return;bt(!0),void 0!==ke.d&&de(ke.d).forEach(Xn=>Xn.setAttribute("aria-hidden","true")),se.presented=!0,se.willPresent.emit(),null===(Jt=se.willPresentShorthand)||void 0===Jt||Jt.emit();const Xt=(0,je.b)(se),Gn=se.enterAnimation?se.enterAnimation:je.c.get(pe,"ios"===Xt?Ke:Nt);(yield M(se,Gn,se.el,wn))&&(se.didPresent.emit(),null===(rn=se.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==se.el.tagName&&we(se.el),se.keyboardClose&&(null===document.activeElement||!se.el.contains(document.activeElement))&&se.el.focus(),se.el.removeAttribute("aria-hidden")});return function(pe,Ke,Nt,wn,Jt){return Re.apply(this,arguments)}}(),we=function(){var Re=(0,y.c)(function*(se){let pe=document.activeElement;if(!pe)return;const Ke=null==pe?void 0:pe.shadowRoot;Ke&&(pe=Ke.querySelector(Ue)||pe),yield se.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&pe.focus()});return function(pe){return Re.apply(this,arguments)}}(),k=function(){var Re=(0,y.c)(function*(se,pe,Ke,Nt,wn,Jt,rn){var Xt,Gn,fn;if(!se.presented)return!1;void 0!==ke.d&&1===de(ke.d).length&&bt(!1),se.presented=!1;try{se.el.style.setProperty("pointer-events","none"),se.willDismiss.emit({data:pe,role:Ke}),null===(Xt=se.willDismissShorthand)||void 0===Xt||Xt.emit({data:pe,role:Ke});const pi=(0,je.b)(se),Xn=se.leaveAnimation?se.leaveAnimation:je.c.get(Nt,"ios"===pi?wn:Jt);Ke!==pt&&(yield M(se,Xn,se.el,rn)),se.didDismiss.emit({data:pe,role:Ke}),null===(Gn=se.didDismissShorthand)||void 0===Gn||Gn.emit({data:pe,role:Ke}),(ee.get(se)||[]).forEach(ii=>ii.destroy()),ee.delete(se),se.el.classList.add("overlay-hidden"),se.el.style.removeProperty("pointer-events"),void 0!==se.el.lastFocus&&(se.el.lastFocus=void 0)}catch(pi){console.error(pi)}return se.el.remove(),void 0!==ke.d&&(null===(fn=Ye(ke.d))||void 0===fn||fn.removeAttribute("aria-hidden")),!0});return function(pe,Ke,Nt,wn,Jt,rn,Xt){return Re.apply(this,arguments)}}(),D=Re=>Re.querySelector("ion-app")||Re.body,M=function(){var Re=(0,y.c)(function*(se,pe,Ke,Nt){Ke.classList.remove("overlay-hidden");const Jt=pe(se.el,Nt);(!se.animated||!je.c.getBoolean("animated",!0))&&Jt.duration(0),se.keyboardClose&&Jt.beforeAddWrite(()=>{const Xt=Ke.ownerDocument.activeElement;null!=Xt&&Xt.matches("input,ion-input, ion-textarea")&&Xt.blur()});const rn=ee.get(se)||[];return ee.set(se,[...rn,Jt]),yield Jt.play(),!0});return function(pe,Ke,Nt,wn){return Re.apply(this,arguments)}}(),j=(Re,se)=>{let pe;const Ke=new Promise(Nt=>pe=Nt);return ie(Re,se,Nt=>{pe(Nt.detail)}),Ke},ie=(Re,se,pe)=>{const Ke=Nt=>{(0,Je.b)(Re,se,Ke),pe(Nt)};(0,Je.a)(Re,se,Ke)},G=Re=>"cancel"===Re||Re===tt,We=Re=>Re(),dt=(Re,se)=>{if("function"==typeof Re)return je.c.get("_zoneGate",We)(()=>{try{return Re(se)}catch(Ke){throw Ke}})},tt="backdrop",pt="gesture",Vt=39,dn=Re=>{let pe,se=!1;const Ke=(0,Pt.C)(),Nt=(rn=!1)=>{if(pe&&!rn)return{delegate:pe,inline:se};const{el:Xt,hasController:Gn,delegate:fn}=Re;return se=null!==Xt.parentNode&&!Gn,pe=se?fn||Ke:fn,{inline:se,delegate:pe}};return{attachViewToDom:function(){var rn=(0,y.c)(function*(Xt){const{delegate:Gn}=Nt(!0);if(Gn)return yield Gn.attachViewToDom(Re.el,Xt);const{hasController:fn}=Re;if(fn&&void 0!==Xt)throw new Error("framework delegate is missing");return null});return function(Gn){return rn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rn}=Nt();rn&&void 0!==Re.el&&rn.removeViewFromDom(Re.el.parentElement,Re.el)}}},yt=()=>{let Re;const se=()=>{Re&&(Re(),Re=void 0)};return{addClickListener:(Ke,Nt)=>{se();const wn=void 0!==Nt?document.getElementById(Nt):null;wn?Re=((rn,Xt)=>{const Gn=()=>{Xt.present()};return rn.addEventListener("click",Gn),()=>{rn.removeEventListener("click",Gn)}})(wn,Ke):(0,J.p)(`A trigger element with the ID "${Nt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ke)},removeClickListener:se}}},3024:(Mn,Lt,oe)=>{"use strict";var y=oe(1528);let B=null,Pt=1;const Je=Symbol("SIGNAL");function J(t){const e=B;return B=t,e}function _e(t){if((!et(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Pt)){if(!t.producerMustRecompute(t)&&!Ne(t))return t.dirty=!1,void(t.lastCleanEpoch=Pt);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pt}}function Ne(t){R(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_e(n),r!==n.version))return!0}return!1}function xe(t,e){if(function x(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),R(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)xe(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];R(i),i.producerIndexOfThis[r]=e}}function et(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function R(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let bt=null;function yt(t){return"function"==typeof t}function Re(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const se=Re(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function pe(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ke{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(yt(r))try{r()}catch(o){e=o instanceof se?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Jt(o)}catch(s){e=null!=e?e:[],s instanceof se?e=[...e,...s.errors]:e.push(s)}}if(e)throw new se(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Jt(e);else{if(e instanceof Ke){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&pe(n,e)}remove(e){const{_finalizers:n}=this;n&&pe(n,e),e instanceof Ke&&e._removeParent(this)}}Ke.EMPTY=(()=>{const t=new Ke;return t.closed=!0,t})();const Nt=Ke.EMPTY;function wn(t){return t instanceof Ke||t&&"closed"in t&&yt(t.remove)&&yt(t.add)&&yt(t.unsubscribe)}function Jt(t){yt(t)?t():t.unsubscribe()}const rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xt={setTimeout(t,e,...n){const{delegate:r}=Xt;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Gn(t){Xt.setTimeout(()=>{const{onUnhandledError:e}=rn;if(!e)throw t;e(t)})}function fn(){}const pi=ii("C",void 0,void 0);function ii(t,e,n){return{kind:t,value:e,error:n}}let $r=null;function Li(t){if(rn.useDeprecatedSynchronousErrorHandling){const e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}class Vi extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wn(e)&&e.add(this)):this.destination=Wo}static create(e,n,r){return new xn(e,n,r)}next(e){this.isStopped?Mo(function Gr(t){return ii("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Mo(function Xn(t){return ii("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mo(pi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mi=Function.prototype.bind;function qr(t,e){return mi.call(t,e)}class Wr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$i(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$i(r)}else $i(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$i(n)}}}class xn extends Vi{constructor(e,n,r){let i;if(super(),yt(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&rn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qr(e.next,o),error:e.error&&qr(e.error,o),complete:e.complete&&qr(e.complete,o)}):i=e}this.destination=new Wr(i)}}function $i(t){rn.useDeprecatedSynchronousErrorHandling?function gi(t){rn.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}(t):Gn(t)}function Mo(t,e){const{onStoppedNotification:n}=rn;n&&Xt.setTimeout(()=>n(t,e))}const Wo={closed:!0,next:fn,error:function qo(t){throw t},complete:fn},_i="function"==typeof Symbol&&Symbol.observable||"@@observable";function ur(t){return t}function Io(t){return 0===t.length?ur:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Rn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function O(t){return t&&t instanceof Vi||function ps(t){return t&&yt(t.next)&&yt(t.error)&&yt(t.complete)}(t)&&wn(t)}(n)?n:new xn(n,r,i);return Li(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ko(r))((i,o)=>{const s=new xn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[_i](){return this}pipe(...n){return Io(n)(this)}toPromise(n){return new(n=Ko(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ko(t){var e;return null!==(e=null!=t?t:rn.Promise)&&void 0!==e?e:Promise}const P=Re(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let L=(()=>{class t extends Rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ie(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new P}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Nt:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,pe(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Rn;return n.source=this,n}}return t.create=(e,n)=>new Ie(e,n),t})();class Ie extends L{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Nt}}class q extends L{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ut(t){return yt(null==t?void 0:t.lift)}function Et(t){return e=>{if(ut(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ot(t,e,n,r,i){return new Kr(t,e,n,r,i)}class Kr extends Vi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vt(t,e){return Et((n,r)=>{let i=0;n.subscribe(Ot(r,o=>{r.next(t.call(e,o,i++))}))})}const tn="https://g.co/ng/security#xss";class Te extends Error{constructor(e,n){super(function Yr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function jt(t){return e=>{setTimeout(t,void 0,e)}}const ct=class At extends L{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const g=e;i=null===(a=g.next)||void 0===a?void 0:a.bind(g),o=null===(l=g.error)||void 0===l?void 0:l.bind(g),s=null===(u=g.complete)||void 0===u?void 0:u.bind(g)}this.__isAsync&&(o=jt(o),i&&(i=jt(i)),s&&(s=jt(s)));const h=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(h),h}};var Gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Gt||{});function rr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Sr(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var $=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($||{}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(K||{});function ae(t){return{toString:t}.toString()}const ge=globalThis,Fe={},Pe=[];function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function Mt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}const on=Qe({\u0275cmp:Qe}),Nn=Qe({\u0275dir:Qe}),Cr=Qe({\u0275pipe:Qe}),Jn=Qe({\u0275mod:Qe}),qn=Qe({\u0275fac:Qe}),xo=Qe({__NG_ELEMENT_ID__:Qe}),Ui=Qe({__NG_ENV_ID__:Qe});var Tn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tn||{});function sd(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Xo(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];ad(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Sc(t){return 3===t||4===t||6===t}function ad(t){return 64===t.charCodeAt(0)}function Rc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ld(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ld(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const L_="ng-template";function np(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==sd(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function V_(t){return 4===t.type&&t.value!==L_}function rp(t,e,n){return e===(4!==t.type||n?t.value:L_)}function x0(t,e,n){let r=4;const i=t.attrs||[],o=function ip(t){for(let e=0;e<t.length;e++)if(Sc(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!rp(t,l,n)||""===l&&1===e.length){if(to(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!np(t.attrs,u,n)){if(to(r))return!1;s=!0}continue}const g=N0(8&r?"class":l,i,V_(t),n);if(-1===g){if(to(r))return!1;s=!0;continue}if(""!==u){let m;m=g>o?"":i[g+1].toLowerCase();const v=8&r?m:null;if(v&&-1!==sd(v,u,0)||2&r&&u!==m){if(to(r))return!1;s=!0}}}}else{if(!s&&!to(r)&&!to(l))return!1;if(s&&to(l))continue;s=!1,r=l|1&r}}return to(r)||s}function to(t){return 0==(1&t)}function N0(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Pc(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function cd(t,e,n=!1){for(let r=0;r<e.length;r++)if(x0(t,e[r],n))return!0;return!1}function gs(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function ud(t,e){return t?":not("+e.trim()+")":e}function O0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!to(s)&&(e+=ud(o,i),i=""),r=s,o=o||!to(r);n++}return""!==i&&(e+=ud(o,i)),e}function He(t){return ae(()=>{var e;const n=V0(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,styles:t.styles||Pe,_:null,schemas:t.schemas||null,tView:null,id:""};hd(r);const i=t.dependencies;return r.directiveDefs=Eo(i,!1),r.pipeDefs=Eo(i,!0),r.id=function dl(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function L0(t){return ln(t)||Zn(t)}function op(t){return null!==t}function Zo(t){return ae(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dd(t,e){if(null==t)return Fe;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Tn.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Tn.None?[i,l]:i,e[s]=a):n[s]=i}return n}function kt(t){return ae(()=>{const e=V0(t);return hd(e),e})}function Bi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ln(t){return t[on]||null}function Zn(t){return t[Nn]||null}function oi(t){return t[Cr]||null}function xr(t,e){const n=t[Jn]||null;if(!n&&!0===e)throw new Error(`Type ${rr(t)} does not have '\u0275mod' property.`);return n}function V0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dd(t.inputs,e),outputs:dd(t.outputs),debugInfo:null}}function hd(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function Eo(t,e){if(!t)return null;const n=e?oi:L0;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(op)}const er=0,nt=1,$t=2,Rr=3,vi=4,yi=5,ji=6,_a=7,Bn=8,Xr=9,Nr=10,Kt=11,Mc=12,fd=13,ms=14,ir=15,hl=16,fl=17,wo=18,va=19,pd=20,No=21,ya=22,ks=23,Yt=25,gd=1,no=7,Ea=9,dr=10;var md=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(md||{});function Jr(t){return Array.isArray(t)&&"object"==typeof t[gd]}function Ii(t){return Array.isArray(t)&&!0===t[gd]}function xc(t){return 0!=(4&t.flags)}function wa(t){return t.componentOffset>-1}function gl(t){return 1==(1&t.flags)}function Si(t){return!!t.template}function Nc(t){return 0!=(512&t[$t])}let K_=!1;function Pn(t){for(;Array.isArray(t);)t=t[er];return t}function Ri(t,e){return Pn(e[t.index])}function Fc(t,e){return t.data[e]}function Hi(t,e){const n=e[t];return Jr(n)?n:n[er]}function dp(t){return 128==(128&t[$t])}function ko(t,e){return null==e?null:t[e]}function Y_(t){t[fl]=0}function B0(t){1024&t[$t]||(t[$t]|=1024,dp(t)&&Ed(t))}function hp(t){var e;return!!(9216&t[$t]||null!==(e=t[ks])&&void 0!==e&&e.dirty)}function fp(t){if(hp(t))Ed(t);else if(64&t[$t])if(function ap(){return K_}())t[$t]|=1024,Ed(t);else{var e;null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify()}}function Ed(t){var e;null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify();let n=_s(t);for(;null!==n&&!(8192&n[$t])&&(n[$t]|=8192,dp(n));)n=_s(n)}function pp(t,e){if(256==(256&t[$t]))throw new Te(911,!1);null===t[No]&&(t[No]=[]),t[No].push(e)}function _s(t){const e=t[Rr];return Ii(e)?e[Rr]:e}const qt={lFrame:Ep(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function j0(){return qt.bindingsEnabled}function Lc(){return null!==qt.skipHydrationRootTNode}function be(){return qt.lFrame.lView}function gn(){return qt.lFrame.tView}function wd(t){return qt.lFrame.contextLView=t,t[Bn]}function Cd(t){return qt.lFrame.contextLView=null,t}function Sn(){let t=bd();for(;null!==t&&64===t.type;)t=t.parent;return t}function bd(){return qt.lFrame.currentTNode}function ro(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Td(){return qt.lFrame.isParent}function _p(){qt.lFrame.isParent=!1}function Oo(){return qt.lFrame.bindingIndex++}function kr(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Uc(e)}function Uc(t){qt.lFrame.currentDirectiveIndex=t}function Dd(t){qt.lFrame.currentQueryIndex=t}function K0(t){const e=t[nt];return 2===e.type?e.declTNode:1===e.type?t[yi]:null}function yp(t,e,n){if(n&Gt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Gt.Host||(i=K0(o),null===i||(o=o[ms],10&i.type))););if(null===i)return!1;e=i,t=o}const r=qt.lFrame=jc();return r.currentTNode=e,r.lView=t,!0}function Ip(t){const e=jc(),n=t[nt];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jc(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?Ep(t):e}function Ep(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function vl(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Hc=vl;function wp(){const t=vl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function si(){return qt.lFrame.selectedIndex}function Is(t){qt.lFrame.selectedIndex=t}function Wn(){const t=qt.lFrame;return Fc(t.tView,t.selectedIndex)}let Ta=!0;function Ad(){return Ta}function Fs(t){Ta=t}function J0(){return yl(Sn(),be())}function yl(t,e){return new Ve(Ri(t,e))}let Da,Ve=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=J0,e})();function Il(t,e){t.forEach(n=>Array.isArray(n)?Il(n,e):e(n))}function Sd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Rd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nd(t){return 128==(128&t.flags)}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fo(t){return{providers:t.providers||[],imports:t.imports||[]}}function wl(t){return nv(t,kd)||nv(t,rv)}function nv(t,e){return t.hasOwnProperty(e)?t[e]:null}function Cl(t){return t&&(t.hasOwnProperty(Kc)||t.hasOwnProperty(Rp))?t[Kc]:null}const kd=Qe({\u0275prov:Qe}),Kc=Qe({\u0275inj:Qe}),rv=Qe({ngInjectableDef:Qe}),Rp=Qe({ngInjectorDef:Qe});class ot{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=St({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Od=new ot("",{providedIn:"root",factory:()=>Yc}),Yc="ng",iv=new ot(""),Lo=new ot("",{providedIn:"platform",factory:()=>"unknown"}),Fd=new ot("",{providedIn:"root",factory:()=>{var t;return(null===(t=function es(){if(void 0!==Da)return Da;if(typeof document<"u")return document;throw new Te(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),av=Qe({__forward_ref__:Qe});function kn(t){return t.__forward_ref__=kn,t.toString=function(){return rr(this())},t}function zt(t){return Ld(t)?t():t}function Ld(t){return"function"==typeof t&&t.hasOwnProperty(av)&&t.__forward_ref__===kn}function Jc(t){return t&&!!t.\u0275providers}function Qt(t){return"string"==typeof t?t:null==t?"":String(t)}function Vd(t,e){throw new Te(-201,!1)}let Zc;function fv(){return Zc}function Gi(t){const e=Zc;return Zc=t,e}function pv(t,e,n){const r=wl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Gt.Optional?null:void 0!==e?e:void Vd()}const eu={},$d="__NG_DI_FLAG__",Ud="ngTempTokenPath",sw=/\n/gm,mv="__source";let bl;function Vs(t){const e=bl;return bl=t,e}function cw(t,e=Gt.Default){if(void 0===bl)throw new Te(-203,!1);return null===bl?pv(t,void 0,e):bl.get(t,e&Gt.Optional?null:void 0,e)}function ze(t,e=Gt.Default){return(fv()||cw)(zt(t),e)}function Ge(t,e=Gt.Default){return ze(t,Hd(e))}function Hd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kp(t){const e=[];for(let n=0;n<t.length;n++){const r=zt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Te(900,!1);let i,o=Gt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=uw(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(ze(i,o))}else e.push(ze(r))}return e}function tu(t,e){return t[$d]=e,t.prototype[$d]=e,t}function uw(t){return t[$d]}let yv=()=>null;function Lp(t,e,n=!1){return yv(t,e,n)}const xl="__parameters__";function Pa(t,e,n){return ae(()=>{const r=function jp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,h){const g=l.hasOwnProperty(xl)?l[xl]:Object.defineProperty(l,xl,{value:[]})[xl];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const su=tu(Pa("Optional"),8),kl=tu(Pa("SkipSelf"),4);function Ma(t,e){return t.hasOwnProperty(qn)?t[qn]:null}const ts=new ot(""),Sv=new ot("",-1),zp=new ot("");class Wd{get(e,n=eu){if(n===eu){const r=new Error(`NullInjectorError: No provider for ${rr(e)}!`);throw r.name="NullInjectorError",r}return n}}function yw(...t){return{\u0275providers:Rv(0,t),\u0275fromNgModule:!0}}function Rv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Il(e,s=>{const a=s;Yd(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&Pv(i,o),n}function Pv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];Gp(i,o=>{e(o,r)})}}function Yd(t,e,n,r){if(!(t=zt(t)))return!1;let i=null,o=Cl(t);const s=!o&&ln(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=Cl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Yd(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Il(o.imports,h=>{Yd(h,e,n,r)&&(u||(u=[]),u.push(h))})}finally{}void 0!==u&&Pv(u,e)}if(!a){const u=Ma(i)||(()=>new i);e({provide:i,useFactory:u,deps:Pe},i),e({provide:zp,useValue:i,multi:!0},i),e({provide:ts,useValue:()=>ze(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;Gp(l,h=>{e(h,u)})}}}return i!==t&&void 0!==t.providers}function Gp(t,e){for(let n of t)Jc(n)&&(n=n.\u0275providers),Array.isArray(n)?Gp(n,e):e(n)}const Mv=Qe({provide:String,useValue:Qe});function qp(t){return null!==t&&"object"==typeof t&&Mv in t}function xa(t){return"function"==typeof t}const au=new ot(""),Ol={},Ov={};let Wp;function Fl(){return void 0===Wp&&(Wp=new Wd),Wp}class ai{}class ei extends ai{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ns(e,s=>this.processProvider(s)),this.records.set(Sv,Us(void 0,this)),i.has("environment")&&this.records.set(ai,Us(void 0,this));const o=this.records.get(au);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zp,Pe,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Vs(this),r=Gi(void 0);try{return e()}finally{Vs(n),Gi(r)}}get(e,n=eu,r=Gt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ui))return e[Ui](this);r=Hd(r);const o=Vs(this),s=Gi(void 0);try{if(!(r&Gt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function ww(t){return"function"==typeof t||"object"==typeof t&&t instanceof ot}(e)&&wl(e);l=u&&this.injectableDefInScope(u)?Us(Na(e),Ol):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Gt.Self?Fl():this.parent).get(e,n=r&Gt.Optional&&n===eu?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ud]=a[Ud]||[]).unshift(rr(e)),o)throw a;return function _v(t,e,n,r){const i=t[Ud];throw e[mv]&&i.unshift(e[mv]),t.message=function dw(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=rr(e);if(Array.isArray(e))i=e.map(rr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sw,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ud]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Gi(s),Vs(o)}}resolveInjectorInitializers(){const e=Vs(this),n=Gi(void 0);try{const i=this.get(ts,Pe,Gt.Self);for(const o of i)o()}finally{Vs(e),Gi(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(rr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(e){let n=xa(e=zt(e))?e:zt(e&&e.provide);const r=function Iw(t){return qp(t)?Us(void 0,t.useValue):Us(Xd(t),Ol)}(e);if(!xa(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Us(void 0,Ol,!0),i.factory=()=>kp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ol&&(n.value=Ov,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Lv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=zt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Na(t){const e=wl(t),n=null!==e?e.factory:Ma(t);if(null!==n)return n;if(t instanceof ot)throw new Te(204,!1);if(t instanceof Function)return function Fv(t){if(t.length>0)throw new Te(204,!1);const n=function tw(t){return t&&(t[kd]||t[rv])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Te(204,!1)}function Xd(t,e,n){let r;if(xa(t)){const i=zt(t);return Ma(i)||Na(i)}if(qp(t))r=()=>zt(t.useValue);else if(function Nv(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...kp(t.deps||[]));else if(function xv(t){return!(!t||!t.useExisting)}(t))r=()=>ze(zt(t.useExisting));else{const i=zt(t&&(t.useClass||t.provide));if(!function Ew(t){return!!t.deps}(t))return Ma(i)||Na(i);r=()=>new i(...kp(t.deps))}return r}function Us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ns(t,e){for(const n of t)Array.isArray(n)?ns(n,e):n&&Jc(n)?ns(n.\u0275providers,e):e(n)}function Bs(t,e){t instanceof ei&&t.assertNotDestroyed();const r=Vs(t),i=Gi(void 0);try{return e()}finally{Vs(r),Gi(i)}}class Tw{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bv(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function f(){return c}function c(t){return t.type.prototype.ngOnChanges&&(t.setInput=p),d}function d(){const t=w(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Fe)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p(t,e,n,r,i){const o=this.declaredInputs[r],s=w(t)||function N(t,e){return t[_]=e}(t,{previous:Fe,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Tw(u&&u.currentValue,n,l===Fe),Bv(t,e,i,n)}f.ngInherit=!0;const _="__ngSimpleChanges__";function w(t){return t[_]||null}const it=function(t,e,n){};function Tt(t,e){for(let u=e.directiveStart,h=e.directiveEnd;u<h;u++){const m=t.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:A,ngAfterViewChecked:S,ngOnDestroy:H}=m;var n,r,i,o,s,a,l;v&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,v),b&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,b),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,b)),A&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,A),S&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,S),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,S)),null!=H&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,H)}}function Kn(t,e,n){Jp(t,e,3,n)}function qi(t,e,n,r){(3&t[$t])===n&&Jp(t,e,n,r)}function Vl(t,e){let n=t[$t];(3&n)===e&&(n&=16383,n+=1,t[$t]=n)}function Jp(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[fl]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[fl]+=65536),(a<o||-1==o)&&(jv(t,n,e,l),t[fl]=(4294901760&t[fl])+l+2),l++}function eh(t,e){it(4,t,e);const n=J(null);try{e.call(t)}finally{J(n),it(5,t,e)}}function jv(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[$t]>>14<t[fl]>>16&&(3&t[$t])===e&&(t[$t]+=16384,eh(a,o)):eh(a,o)}const ka=-1;class Oa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Aw(t){return t!==ka}function eg(t){return 32767&t}function tg(t,e){let n=function g3(t){return t>>16}(t),r=e;for(;n>0;)r=r[ms],n--;return r}let Sw=!0;function qv(t){const e=Sw;return Sw=t,e}const gP=255,mP=5;let m3=0;const js={};function Wv(t,e){const n=_P(t,e);if(-1!==n)return n;const r=e[nt];r.firstCreatePass&&(t.injectorIndex=e.length,Rw(r.data,t),Rw(e,null),Rw(r.blueprint,null));const i=Kv(t,e),o=t.injectorIndex;if(Aw(i)){const s=eg(i),a=tg(i,e),l=a[nt].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Rw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _P(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Kv(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=bP(i),null===r)return ka;if(n++,i=i[ms],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ka}function Pw(t,e,n){!function _3(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(xo)&&(r=n[xo]),null==r&&(r=n[xo]=m3++);const i=r&gP;e.data[t+(i>>mP)]|=1<<i}(t,e,n)}function vP(t,e,n){if(n&Gt.Optional||void 0!==t)return t;Vd()}function yP(t,e,n,r){if(n&Gt.Optional&&void 0===r&&(r=null),!(n&(Gt.Self|Gt.Host))){const i=t[Xr],o=Gi(void 0);try{return i?i.get(e,r,n&Gt.Optional):pv(e,r,n&Gt.Optional)}finally{Gi(o)}}return vP(r,0,n)}function IP(t,e,n,r=Gt.Default,i){if(null!==t){if(2048&e[$t]&&!(r&Gt.Self)){const s=function w3(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[$t]&&!(512&s[$t]);){const a=EP(o,s,n,r|Gt.Self,js);if(a!==js)return a;let l=o.parent;if(!l){const u=s[pd];if(u){const h=u.get(n,js,r);if(h!==js)return h}l=bP(s),s=s[ms]}o=l}return i}(t,e,n,r,js);if(s!==js)return s}const o=EP(t,e,n,r,js);if(o!==js)return o}return yP(e,n,r,i)}function EP(t,e,n,r,i){const o=function I3(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(xo)?t[xo]:void 0;return"number"==typeof e?e>=0?e&gP:E3:e}(n);if("function"==typeof o){if(!yp(e,t,r))return r&Gt.Host?vP(i,0,r):yP(e,n,r,i);try{let s;if(s=o(r),null!=s||r&Gt.Optional)return s;Vd()}finally{Hc()}}else if("number"==typeof o){let s=null,a=_P(t,e),l=ka,u=r&Gt.Host?e[ir][yi]:null;for((-1===a||r&Gt.SkipSelf)&&(l=-1===a?Kv(t,e):e[a+8],l!==ka&&CP(r,!1)?(s=e[nt],a=eg(l),e=tg(l,e)):a=-1);-1!==a;){const h=e[nt];if(wP(o,a,h.data)){const g=y3(a,e,n,s,r,u);if(g!==js)return g}l=e[a+8],l!==ka&&CP(r,e[nt].data[a+8]===u)&&wP(o,a,e)?(s=h,a=eg(l),e=tg(l,e)):a=-1}}return i}function y3(t,e,n,r,i,o){const s=e[nt],a=s.data[t+8],h=function Yv(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const b=s[v];if(v<l&&n===b||v>=l&&b.type===n)return v}if(i){const v=s[l];if(v&&Si(v)&&v.type===n)return l}return null}(a,s,n,null==r?wa(a)&&Sw:r!=s&&0!=(3&a.type),i&Gt.Host&&o===a);return null!==h?uu(e,s,h,a):js}function uu(t,e,n,r){let i=t[n];const o=e.data;if(function Hv(t){return t instanceof Oa}(i)){const s=i;s.resolving&&function hv(t,e){throw e&&e.join(" > "),new Te(-200,t)}(function Cn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Qt(t)}(o[n]));const a=qv(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Gi(s.injectImpl):null;yp(t,r,Gt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Rt(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const g=c(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,g),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,g)}var l,u,h;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(h=n.preOrderCheckHooks)&&void 0!==h?h:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Gi(u),qv(a),s.resolving=!1,Hc()}}return i}function wP(t,e,n){return!!(n[e+(t>>mP)]&1<<t)}function CP(t,e){return!(t&Gt.Self||t&Gt.Host&&e)}class li{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return IP(this._tNode,this._lView,e,Hd(r),n)}}function E3(){return new li(Sn(),be())}function hr(t){return ae(()=>{const e=t.prototype.constructor,n=e[qn]||Mw(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[qn]||Mw(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mw(t){return Ld(t)?()=>{const e=Mw(zt(t));return e&&e()}:Ma(t)}function bP(t){const e=t[nt],n=e.type;return 2===n?e.declTNode:1===n?t[yi]:null}function $l(t){return function v3(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(Sc(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(Sn(),t)}function RP(t,e=null,n=null,r){const i=PP(t,e,n,r);return i.resolveInjectorInitializers(),i}function PP(t,e=null,n=null,r,i=new Set){const o=[n||Pe,yw(t)];return r=r||("object"==typeof t?void 0:rr(t)),new ei(o,e||Fl(),r||null,i)}let fr=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return RP({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return RP({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=eu,t.NULL=new Wd,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>ze(Sv)}),t.__NG_ELEMENT_ID__=-1,e})();function Nw(t){return t.ngOriginalError}class Fa{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Nw(e);for(;n&&Nw(n);)n=Nw(n);return n||null}}const xP=new ot("",{providedIn:"root",factory:()=>Ge(Fa).handleError.bind(void 0)}),kP=new ot("",{providedIn:"root",factory:()=>!1});let Zv;function LP(t){var e;return(null===(e=function Ow(){if(void 0===Zv&&(Zv=null,ge.trustedTypes))try{Zv=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zv}())||void 0===e?void 0:e.createScriptURL(t))||t}class VP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tn})`}}function Ul(t){return t instanceof VP?t.changingThisBreaksApplicationSecurity:t}function ng(t,e){const n=function L3(t){return t instanceof VP&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tn})`)}return n===e}const B3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var oh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(oh||{});function du(t){const e=ig();return e?e.sanitize(oh.URL,t)||"":ng(t,"URL")?Ul(t):function Fw(t){return(t=String(t)).match(B3)?t:"unsafe:"+t}(Qt(t))}function GP(t){const e=ig();if(e)return LP(e.sanitize(oh.RESOURCE_URL,t)||"");if(ng(t,"ResourceURL"))return LP(Ul(t));throw new Te(904,!1)}function ig(){const t=be();return t&&t[Nr].sanitizer}const Uw=new Map;let aH=0;const jw="__ngContext__";function Wi(t,e){Jr(e)?(t[jw]=e[va],function cH(t){Uw.set(t[va],t)}(e)):t[jw]=e}function Vo(t){return t instanceof Function?t():t}var jl=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jl||{});let qw;function Ww(t,e){return qw(t,e)}function ah(t,e,n,r,i){if(null!=r){let o,s=!1;Ii(r)?o=r:Jr(r)&&(s=!0,r=r[er]);const a=Pn(r);0===t&&null!==n?null==i?dM(e,n,a):hu(e,n,a,i||null,!0):1===t&&null!==n?hu(e,n,a,i||null,!0):2===t?function ly(t,e,n){const r=sy(t,e);r&&function MH(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function kH(t,e,n,r,i){const o=n[no];o!==Pn(n)&&ah(e,t,r,o,i);for(let a=dr;a<n.length;a++){const l=n[a];cy(l[nt],l,t,e,r,o)}}(e,t,o,n,i)}}function iy(t,e,n){return t.createElement(e,n)}function lM(t,e){cy(t,e,e[Kt],2,null,null)}function cM(t,e){const n=t[Ea],r=n.indexOf(e);n.splice(r,1)}function sg(t,e){if(t.length<=dr)return;const n=dr+e,r=t[n];if(r){const i=r[hl];null!==i&&i!==t&&cM(i,r),e>0&&(t[n-1][vi]=r[vi]);const o=Rd(t,dr+e);!function bH(t,e){lM(t,e),e[er]=null,e[yi]=null}(r[nt],r);const s=o[wo];null!==s&&s.detachView(o[nt]),r[Rr]=null,r[vi]=null,r[$t]&=-129}return r}function oy(t,e){if(!(256&e[$t])){const n=e[Kt];n.destroyNode&&cy(t,e,n,3,null,null),function DH(t){let e=t[Mc];if(!e)return Yw(t[nt],t);for(;e;){let n=null;if(Jr(e))n=e[Mc];else{const r=e[dr];r&&(n=r)}if(!n){for(;e&&!e[vi]&&e!==t;)Jr(e)&&Yw(e[nt],e),e=e[Rr];null===e&&(e=t),Jr(e)&&Yw(e[nt],e),n=e&&e[vi]}e=n}}(e)}}function Yw(t,e){if(!(256&e[$t])){e[$t]&=-129,e[$t]|=256,e[ks]&&function Me(t){if(R(t),et(t))for(let e=0;e<t.producerNode.length;e++)xe(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[ks]),function PH(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Oa)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];it(4,a,l);try{l.call(a)}finally{it(5,a,l)}}else{it(4,i,o);try{o.call(i)}finally{it(5,i,o)}}}}}(t,e),function RH(t,e){const n=t.cleanup,r=e[_a];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[_a]=null);const i=e[No];if(null!==i){e[No]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[nt].type&&e[Kt].destroy();const n=e[hl];if(null!==n&&Ii(e[Rr])){n!==e[Rr]&&cM(n,e);const r=e[wo];null!==r&&r.detachView(t)}!function uH(t){Uw.delete(t[va])}(e)}}function Qw(t,e,n){return function uM(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[er];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===K.None||o===K.Emulated)return null}return Ri(r,n)}}(t,e.parent,n)}function hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function dM(t,e,n){t.appendChild(e,n)}function hM(t,e,n,r,i){null!==r?hu(t,e,n,r,i):dM(t,e,n)}function sy(t,e){return t.parentNode(e)}function fM(t,e,n){return gM(t,e,n)}let Xw,gM=function pM(t,e,n){return 40&t.type?Ri(t,n):null};function ay(t,e,n,r){const i=Qw(t,r,e),o=e[Kt],a=fM(r.parent||e[yi],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)hM(o,i,n[l],a,!1);else hM(o,i,n,a,!1);void 0!==Xw&&Xw(o,r,e,n,i)}function ag(t,e){if(null!==e){const n=e.type;if(3&n)return Ri(e,t);if(4&n)return Jw(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ag(t,r);{const i=t[e.index];return Ii(i)?Jw(-1,i):Pn(i)}}if(32&n)return Ww(e,t)()||Pn(t[e.index]);{const r=_M(t,e);return null!==r?Array.isArray(r)?r[0]:ag(_s(t[ir]),r):ag(t,e.next)}}return null}function _M(t,e){return null!==e?t[ir][yi].projection[e.projection]:null}function Jw(t,e){const n=dr+t+1;if(n<e.length){const r=e[n],i=r[nt].firstChild;if(null!==i)return ag(r,i)}return e[no]}function Zw(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Wi(Pn(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Zw(t,e,n.child,r,i,o,!1),ah(e,t,i,a,o);else if(32&l){const u=Ww(n,r);let h;for(;h=u();)ah(e,t,i,h,o);ah(e,t,i,a,o)}else 16&l?yM(t,e,r,n,i,o):ah(e,t,i,a,o);n=s?n.projectionNext:n.next}}function cy(t,e,n,r,i,o){Zw(n,r,t.firstChild,e,i,o,!1)}function yM(t,e,n,r,i,o){const s=n[ir],l=s[yi].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ah(e,t,i,l[u],o);else{let u=l;const h=s[Rr];Nd(r)&&(u.flags|=128),Zw(t,e,u,h,i,o,!0)}}function IM(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function EM(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Xo(t,e,r),null!==i&&IM(t,e,i),null!==o&&function FH(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const sn={};function Or(t=1){wM(gn(),be(),si()+t,!1)}function wM(t,e,n,r){if(!r)if(3==(3&e[$t])){const o=t.preOrderCheckHooks;null!==o&&Kn(e,o,n)}else{const o=t.preOrderHooks;null!==o&&qi(e,o,0,n)}Is(n)}function E(t,e=Gt.Default){const n=be();return null===n?ze(t,e):IP(Sn(),n,zt(t),e)}function bM(t,e,n,r,i,o){const s=J(null);try{let a=null;i&Tn.SignalBased&&(a=e[r][Je]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Tn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):Bv(e,a,r,o)}finally{J(s)}}function uy(t,e,n,r,i,o,s,a,l,u,h){const g=e.blueprint.slice();return g[er]=i,g[$t]=204|r,(null!==u||t&&2048&t[$t])&&(g[$t]|=2048),Y_(g),g[Rr]=g[ms]=t,g[Bn]=n,g[Nr]=s||t&&t[Nr],g[Kt]=a||t&&t[Kt],g[Xr]=l||t&&t[Xr]||null,g[yi]=o,g[va]=function lH(){return aH++}(),g[ji]=h,g[pd]=u,g[ir]=2==e.type?t[ir]:g,g}function lh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function eC(t,e,n,r,i){const o=bd(),s=Td(),l=t.data[e]=function zH(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function $c(){return qt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Vc(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ro(o,!0),o}function lg(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function TM(t,e,n,r,i){const o=si(),s=2&r;try{Is(-1),s&&e.length>Yt&&wM(t,e,Yt,!1),it(s?2:0,i),n(r,i)}finally{Is(o),it(s?3:1,i)}}function tC(t,e,n){if(xc(e)){const r=J(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{J(r)}}}function nC(t,e,n){j0()&&(function XH(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;wa(n)&&function iz(t,e,n){const r=Ri(e,t),i=DM(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=dy(t,uy(t,i,null,s,r,e,null,t[Nr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wv(n,e),Wi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=uu(e,t,a,n);Wi(u,e),null!==s&&oz(0,a-i,u,l,0,s),Si(l)&&(Hi(n.index,e)[Bn]=uu(e,t,a,n))}}(t,e,n,Ri(n,e)),64==(64&n.flags)&&MM(t,e,n))}function rC(t,e,n=Ri){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function DM(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=iC(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iC(t,e,n,r,i,o,s,a,l,u,h){const g=Yt+r,m=g+i,v=function VH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:sn);return n}(g,m),b="function"==typeof u?u():u;return v[nt]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let AM=()=>null;function SM(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=Tn.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let h=s;if(null!==i){if(!i.hasOwnProperty(s))continue;h=i[s]}0===t?RM(r,n,h,l,u):RM(r,n,h,l)}return r}function RM(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function bo(t,e,n,r,i,o,s,a){const l=Ri(e,n);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(cC(t,n,h,r,i),wa(e)&&function WH(t,e){const n=Hi(e,t);16&n[$t]||(n[$t]|=64)}(n,e.index)):3&e.type&&(r=function qH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function oC(t,e,n,r){if(j0()){const i=null===r?null:{"":-1},o=function ZH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(cd(e,a.selectors,!1))if(r||(r=[]),Si(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),sC(t,e,l.length)}else r.unshift(a),sC(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&PM(t,e,n,s,i,a),i&&function ez(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Te(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Rc(n.mergedAttrs,n.attrs)}function PM(t,e,n,r,i,o){for(let g=0;g<r.length;g++)Pw(Wv(n,e),t,r[g].type);!function nz(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let g=0;g<r.length;g++){const m=r[g];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=lg(t,e,r.length,null);for(let g=0;g<r.length;g++){const m=r[g];n.mergedAttrs=Rc(n.mergedAttrs,m.hostAttrs),rz(t,n,e,l,m),tz(l,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const v=m.type.prototype;var u,h;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!v.ngOnChanges&&!v.ngDoCheck||((null!==(h=t.preOrderCheckHooks)&&void 0!==h?h:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function GH(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,b=m?m.outputs:null;l=SM(0,g.inputs,h,l,m?m.inputs:null),u=SM(1,g.outputs,h,u,b);const A=null===l||null===s||V_(e)?null:sz(l,h,s);a.push(A)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function MM(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function W0(){return qt.lFrame.currentDirectiveIndex}();try{Is(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Uc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&JH(l,u)}}finally{Is(-1),Uc(s)}}function JH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function sC(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function tz(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Si(e)&&(n[""]=t)}}function rz(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Ma(i.type)),s=new Oa(o,Si(i),E);t.blueprint[r]=s,n[r]=s,function YH(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function QH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,lg(t,n,i.hostVars,sn),i)}function Hs(t,e,n,r,i,o){const s=Ri(t,e);!function aC(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?Qt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[Kt],s,o,t.value,n,r,i)}function oz(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)bM(r,n,s[a++],s[a++],s[a++],s[a++])}function sz(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function xM(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function NM(t,e){const n=t.contentQueries;if(null!==n){const r=J(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];Dd(n[i]),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function dy(t,e){return t[Mc]?t[fd][vi]=e:t[Mc]=e,t[fd]=e,e}function lC(t,e,n){Dd(0);const r=J(null);try{e(t,n)}finally{J(r)}}function hy(t,e){const n=t[Xr],r=n?n.get(Fa,null):null;r&&r.handleError(e)}function cC(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];bM(t.data[s],e[s],r,a,l,i)}}function Va(t,e,n){const r=function Ca(t,e){return Pn(e[t])}(e,t);!function aM(t,e,n){t.setValue(e,n)}(t[Kt],r,n)}function az(t,e){const n=Hi(e,t),r=n[nt];!function lz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[er];null!==i&&null===n[ji]&&(n[ji]=Lp(i,n[Xr])),uC(r,n,n[Bn])}function uC(t,e,n){Ip(e);try{var r;const i=t.viewQuery;null!==i&&lC(1,i,n);const o=t.template;null!==o&&TM(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[wo])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&NM(t,e),t.staticViewQueries&&lC(2,t.viewQuery,n);const s=t.components;null!==s&&function cz(t,e){for(let n=0;n<e.length;n++)az(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[$t]&=-5,wp()}}function ch(t,e){return!e||null===e.firstChild||Nd(t)}function ug(t,e,n,r=!0){const i=e[nt];if(function AH(t,e,n,r){const i=dr+r,o=n.length;r>0&&(n[i-1][vi]=e),r<o-dr?(e[vi]=n[i],Sd(n,dr+r,e)):(n.push(e),e[vi]=null),e[Rr]=n;const s=e[hl];null!==s&&n!==s&&function SH(t,e){const n=t[Ea];e[ir]!==e[Rr][Rr][ir]&&(t[$t]|=md.HasTransplantedViews),null===n?t[Ea]=[e]:n.push(e)}(s,e);const a=e[wo];null!==a&&a.insertView(t),fp(e),e[$t]|=128}(i,e,t,n),r){const s=Jw(n,t),a=e[Kt],l=sy(a,t[no]);null!==l&&function TH(t,e,n,r,i,o){r[er]=i,r[yi]=e,cy(t,r,n,1,i,o)}(i,t[yi],a,e,l,s)}const o=e[ji];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function dg(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Pn(o)),Ii(o)&&VM(o,r);const s=n.type;if(8&s)dg(t,e,n.child,r);else if(32&s){const a=Ww(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=_M(e,n);if(Array.isArray(a))r.push(...a);else{const l=_s(e[ir]);dg(l[nt],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VM(t,e){for(let n=dr;n<t.length;n++){const r=t[n],i=r[nt].firstChild;null!==i&&dg(r[nt],r,i,e)}t[no]!==t[er]&&e.push(t[no])}let $M=[];const fz={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ed(t.lView)},consumerOnSignalRead(){this.lView[ks]=this}};function UM(t){return jM(t[Mc])}function BM(t){return jM(t[vi])}function jM(t){for(;null!==t&&!Ii(t);)t=t[vi];return t}function fy(t,e=!0,n=0){const r=t[Nr],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function mz(t,e){hC(t,e);let n=0;for(;hp(t);){if(100===n)throw new Te(103,!1);n++,hC(t,1)}}(t,n)}catch(u){throw e&&hy(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function _z(t,e,n,r){var i;const o=e[$t];if(256==(256&o))return;null===(i=e[Nr].inlineEffectRunner)||void 0===i||i.flush(),Ip(e);let a=null,l=null;(function vz(t){return 2!==t.type})(t)&&(l=function uz(t){var e;return null!==(e=t[ks])&&void 0!==e?e:function dz(t){var e;const n=null!==(e=$M.pop())&&void 0!==e?e:Object.create(fz);return n.lView=t,n}(t)}(e),a=function z(t){return t&&(t.nextProducerIndex=0),J(t)}(l));try{Y_(e),function vs(t){return qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&TM(t,e,n,2,r);const u=3==(3&o);if(u){const m=t.preOrderCheckHooks;null!==m&&Kn(e,m,null)}else{const m=t.preOrderHooks;null!==m&&qi(e,m,0,null),Vl(e,0)}if(function yz(t){for(let e=UM(t);null!==e;e=BM(e)){if(!(e[$t]&md.HasTransplantedViews))continue;const n=e[Ea];for(let r=0;r<n.length;r++){B0(n[r])}}}(e),zM(e,0),null!==t.contentQueries&&NM(t,e),u){const m=t.contentCheckHooks;null!==m&&Kn(e,m)}else{const m=t.contentHooks;null!==m&&qi(e,m,1),Vl(e,1)}!function LH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Is(~i);else{const o=i,s=n[++r],a=n[++r];kr(s,o),a(2,e[o])}}}finally{Is(-1)}}(t,e);const h=t.components;null!==h&&qM(e,h,0);const g=t.viewQuery;if(null!==g&&lC(2,g,r),u){const m=t.viewCheckHooks;null!==m&&Kn(e,m)}else{const m=t.viewHooks;null!==m&&qi(e,m,2),Vl(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ya]){for(const m of e[ya])m();e[ya]=null}e[$t]&=-73}catch(u){throw Ed(e),u}finally{null!==l&&(function Y(t,e){if(J(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(et(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)xe(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function hz(t){t.lView[ks]!==t&&(t.lView=null,$M.push(t))}(l)),wp()}}function zM(t,e){for(let n=UM(t);null!==n;n=BM(n))for(let r=dr;r<n.length;r++)GM(n[r],e)}function Iz(t,e,n){GM(Hi(e,t),n)}function GM(t,e){dp(t)&&hC(t,e)}function hC(t,e){const r=t[nt],i=t[$t],o=t[ks];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!Ne(o))),o&&(o.dirty=!1),t[$t]&=-9217,s)_z(r,t,r.template,t[Bn]);else if(8192&i){zM(t,1);const a=r.components;null!==a&&qM(t,a,1)}}function qM(t,e,n){for(let r=0;r<e.length;r++)Iz(t,e[r],n)}function hg(t){var e;for(null===(e=t[Nr].changeDetectionScheduler)||void 0===e||e.notify();t;){t[$t]|=64;const n=_s(t);if(Nc(t)&&!n)return t;t=n}return null}class fg{get rootNodes(){const e=this._lView,n=e[nt];return dg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(e){this._lView[Bn]=e}get destroyed(){return 256==(256&this._lView[$t])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Rr];if(Ii(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sg(e,r),Rd(n,r))}this._attachedToViewContainer=!1}oy(this._lView[nt],this._lView)}onDestroy(e){pp(this._lView,e)}markForCheck(){hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[$t]&=-129}reattach(){fp(this._lView),this._lView[$t]|=128}detectChanges(){this._lView[$t]|=1024,fy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lM(this._lView[nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=e,fp(this._lView)}}let Cs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Cz,e})();const Ez=Cs,wz=class extends Ez{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function cg(t,e,n,r){var i,o;const s=e.tView,u=uy(t,s,n,4096&t[$t]?4096:16,null,e,null,null,null,null!==(i=null==r?void 0:r.injector)&&void 0!==i?i:null,null!==(o=null==r?void 0:r.dehydratedView)&&void 0!==o?o:null);u[hl]=t[e.index];const g=t[wo];return null!==g&&(u[wo]=g.createEmbeddedView(s)),uC(s,u,n),u}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new fg(i)}};function Cz(){return function py(t,e){return 4&t.type?new wz(e,t,yl(t,e)):null}(Sn(),be())}class ZM{}class Gz{}class e1{}class Wz{resolveComponentFactory(e){throw function qz(t){const e=Error(`No component factory found for ${rr(t)}.`);return e.ngComponent=t,e}(e)}}let yy=(()=>{class e{}return e.NULL=new Wz,e})();class n1{}let $a=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Kz(){const t=be(),n=Hi(Sn().index,t);return(Jr(n)?n:t)[Kt]}(),e})(),Yz=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),e})();const vC={};function o1(t){const e=J(null);try{return t()}finally{J(e)}}function Iy(t){return!!function yC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class s1{constructor(){}supports(e){return Iy(e)}create(e){return new t6(e)}}const e6=(t,e)=>e;class t6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||e6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<l1(r,i,o)?n:r,a=l1(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,h=l-i;if(u!=h){for(let m=0;m<u;m++){const v=m<o.length?o[m]:o[m]=0,b=v+m;h<=b&&b<u&&(o[m]=v+1)}o[s.previousIndex]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Iy(e))throw new Te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Zz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new n6(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new a1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new a1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class n6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class r6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class a1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new r6,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function u1(){return new IC([new s1])}let IC=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||u1()),deps:[[e,new kl,new su]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new Te(901,!1)}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:u1}),e})(),st=(()=>{class e{}return e.__NG_ELEMENT_ID__=a6,e})();function a6(t){return function l6(t,e,n){if(wa(t)&&!n){const r=Hi(t.index,e);return new fg(r,r)}return 47&t.type?new fg(e[ir],e):null}(Sn(),be(),16==(16&t))}let wy=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=h6,t.__NG_ENV_ID__=n=>n,e})();class d6 extends wy{constructor(e){super(),this._lView=e}onDestroy(e){return pp(this._lView,e),()=>function X_(t,e){if(null===t[No])return;const n=t[No].indexOf(e);-1!==n&&t[No].splice(n,1)}(this._lView,e)}}function h6(){return new d6(be())}const h1=new Set;function fu(t){var e,n;h1.has(t)||(h1.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function f1(...t){}class Se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function v6(){const t="function"==typeof ge.requestAnimationFrame;let e=ge[t?"requestAnimationFrame":"setTimeout"],n=ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function E6(t){const e=()=>{!function I6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wC(t),t.isCheckStableRunning=!0,EC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function w6(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return p1(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),g1(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return p1(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),g1(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,wC(t),EC(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new Te(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,y6,f1,f1);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const y6={};function EC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function p1(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function g1(t){t._nesting--,EC(t)}class m1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var pu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(pu||{});const _1={destroy(){}};function y1(t,e){var n,r,i;!e&&function Kp(t){if(!fv()&&!function lw(){return bl}())throw new Te(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:Ge(fr);if(!function Bl(t){return"browser"===(null!=t?t:Ge(fr)).get(Lo)}(o))return _1;fu("NgAfterNextRender");const s=o.get(vg),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new E1,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:pu.MixedReadWrite,u=()=>{a.unregister(g),h()},h=o.get(wy).onDestroy(u),g=new I1(o,l,()=>{u(),t()});return a.register(g),{destroy:u}}class I1{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Se),this.errorHandler=e.get(Fa,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class E1{constructor(){this.executingCallbacks=!1,this.buckets={[pu.EarlyRead]:new Set,[pu.Write]:new Set,[pu.MixedReadWrite]:new Set,[pu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let vg=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of i)o();null===(r=this.handler)||void 0===r||r.execute()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>new t}),e})();function by(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Sr(i,a):2==o&&(r=Sr(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class b1 extends yy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ln(e);return new Eg(n,this.ngModule)}}function T1(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class S6{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Hd(r);const i=this.injector.get(e,vC,r);return i!==vC||n===vC?i:this.parentInjector.get(e,n,r)}}class Eg extends e1{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=T1(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return T1(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Jo(t){return t.map(O0).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){var s;let a=(i=i||this.ngModule)instanceof ai?i:null===(s=i)||void 0===s?void 0:s.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const l=a?new S6(e,a):e,u=l.get(n1,null);if(null===u)throw new Te(407,!1);const v={rendererFactory:u,sanitizer:l.get(Yz,null),inlineEffectRunner:null,afterRenderEventManager:l.get(vg,null),changeDetectionScheduler:l.get(ZM,null)},b=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",S=r?function $H(t,e,n,r){const o=r.get(kP,!1)||n===K.ShadowDom,s=t.selectRootElement(e,o);return function UH(t){AM(t)}(s),s}(b,r,this.componentDef.encapsulation,l):iy(b,A,function A6(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let H=512;this.componentDef.signals?H|=4096:this.componentDef.onPush||(H|=16);let U=null;null!==S&&(U=Lp(S,l,!0));const he=iC(0,null,null,1,0,null,null,null,null,null,null),me=uy(null,he,null,H,null,null,v,b,l,null,U);let Xe,wt;Ip(me);try{const mn=this.componentDef;let nr,ol=null;mn.findHostDirectiveDefs?(nr=[],ol=new Map,mn.findHostDirectiveDefs(mn,nr,ol),nr.push(mn)):nr=[mn];const M0=function P6(t,e){const n=t[nt],r=Yt;return t[r]=e,lh(n,r,2,"#host",null)}(me,S),gue=function M6(t,e,n,r,i,o,s){const a=i[nt];!function x6(t,e,n,r){for(const i of t)e.mergedAttrs=Rc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(by(e,e.mergedAttrs,!0),null!==n&&EM(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Lp(e,i[Xr]));const u=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=uy(i,DM(n),null,h,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&sC(a,t,r.length-1),dy(i,g),i[t.index]=g}(M0,S,mn,nr,me,v,b);wt=Fc(he,Yt),S&&function k6(t,e,n,r){if(r)Xo(t,n,["ng-version","17.2.2"]);else{const{attrs:i,classes:o}=function F0(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!to(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Xo(t,n,i),o&&o.length>0&&IM(t,n,o.join(" "))}}(b,mn,S,r),void 0!==n&&function O6(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(wt,this.ngContentSelectors,n),Xe=function N6(t,e,n,r,i,o){const s=Sn(),a=i[nt],l=Ri(s,i);PM(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Wi(uu(i,a,s.directiveStart+h,s),i);MM(a,i,s),l&&Wi(l,i);const u=uu(i,a,s.directiveStart+s.componentOffset,s);if(t[Bn]=i[Bn]=u,null!==o)for(const h of o)h(u,e);return tC(a,s,i),u}(gue,mn,nr,ol,me,[F6]),uC(he,me,null)}finally{wp()}return new R6(this.componentType,Xe,yl(wt,me),me,wt)}}class R6 extends Gz{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fg(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;cC(s[nt],s,i,e,n),this.previousInputValues.set(e,n),hg(Hi(this._tNode.index,s))}}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function F6(){const t=Sn();Tt(be()[nt],t)}let rs=(()=>{class e{}return e.__NG_ELEMENT_ID__=L6,e})();function L6(){return function S1(t,e){let n;const r=e[t.index];return Ii(r)?n=r:(n=xM(r,e,null,t),e[t.index]=n,dy(e,n)),R1(n,e,t,r),new D1(n,t,e)}(Sn(),be())}const V6=rs,D1=class extends V6{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return yl(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kv(this._hostTNode,this._hostLView);if(Aw(e)){const n=tg(e,this._hostLView),r=eg(e);return new li(n[nt].data[r+8],n)}return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=A1(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,ch(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function lu(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const H=n||{};h=H.index,r=H.injector,i=H.projectableNodes,o=H.environmentInjector||H.ngModuleRef}const g=u?e:new Eg(ln(e)),m=r||this.parentInjector;if(!o&&null==g.ngModule){const U=(u?m:this.parentInjector).get(ai,null);U&&(o=U)}const v=ln(null!==(s=g.componentType)&&void 0!==s?s:{}),b=(null==v?void 0:v.id,null),A=null!==(l=null==b?void 0:b.firstChild)&&void 0!==l?l:null,S=g.create(m,i,A,o);return this.insertImpl(S.hostView,h,ch(this._hostTNode,b)),S}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function _l(t){return Ii(t[Rr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Rr],u=new D1(l,l[yi],l[Rr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return ug(s,i,o,r),e.attachToViewContainerRef(),Sd(TC(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=A1(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);r&&(Rd(TC(this._lContainer),n),oy(r[nt],r))}detach(e){const n=this._adjustIndex(e,-1),r=sg(this._lContainer,n);return r&&null!=Rd(TC(this._lContainer),n)?new fg(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function A1(t){return t[8]}function TC(t){return t[8]||(t[8]=[])}let R1=function M1(t,e,n,r){if(t[no])return;let i;i=8&n.type?Pn(r):function $6(t,e){const n=t[Kt],r=n.createComment(""),i=Ri(e,t);return hu(n,sy(n,i),r,function xH(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[no]=i},DC=()=>!1;function an(t){let e=function Y1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Te(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Dy(t.inputs),s.inputTransforms=Dy(t.inputTransforms),s.declaredInputs=Dy(t.declaredInputs),s.outputs=Dy(t.outputs);const a=i.hostBindings;a&&lG(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&sG(t,l),u&&aG(t,u),iG(t,i),Mt(t.outputs,i.outputs),Si(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===an&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,n=Rc(n,i.hostAttrs))}}(r)}function iG(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function Dy(t){return t===Fe?{}:t===Pe?[]:t}function sG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function lG(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Z1(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class gu{}class ex{}class OC extends gu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new b1(this);const i=xr(e);this._bootstrapComponents=Vo(i.bootstrap),this._r3Injector=PP(e,n,[{provide:gu,useValue:this},{provide:yy,useValue:this.componentFactoryResolver},...r],rr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class FC extends ex{constructor(e){super(),this.moduleType=e}create(e){return new OC(this.moduleType,e,[])}}class tx extends gu{constructor(e){super(),this.componentFactoryResolver=new b1(this),this.instance=null;const n=new ei([...e.providers,{provide:gu,useValue:this},{provide:yy,useValue:this.componentFactoryResolver}],e.parent||Fl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function LC(t,e,n=null){return new tx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Cg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ur(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function oo(t,e,n,r,i,o,s,a){const l=be(),u=gn(),h=t+Yt,g=u.firstCreatePass?function _G(t,e,n,r,i,o,s,a,l){const u=e.consts,h=lh(e,t,4,s||null,ko(u,a));oC(e,n,h,ko(u,l)),Tt(e,h);const g=h.tView=iC(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,n,r,i,o,s):u.data[h];ro(g,!1);const m=nx(u,l,g,t);Ad()&&ay(u,l,m,g),Wi(m,l);const v=xM(m,l,m,g);return l[h]=v,dy(l,v),function P1(t,e,n){return DC(t,e,n)}(v,g,l),gl(g)&&nC(u,l,g),null!=s&&rC(l,g,a),oo}let nx=function rx(t,e,n,r){return Fs(!0),e[Kt].createComment("")};function ss(t,e,n,r){const i=be();return Ur(i,Oo(),e)&&(gn(),Hs(Wn(),i,t,e,n,r)),ss}function yh(t,e,n,r){return Ur(t,Oo(),n)?e+Qt(n)+r:sn}function ui(t,e,n){const r=be();return Ur(r,Oo(),e)&&bo(gn(),Wn(),r,t,e,r[Kt],n,!1),ui}function QC(t,e,n,r,i){const s=i?"class":"style";cC(t,n,e.inputs[s],s,r)}function le(t,e,n,r){const i=be(),o=gn(),s=Yt+t,a=i[Kt],l=o.firstCreatePass?function U5(t,e,n,r,i,o){const s=e.consts,l=lh(e,t,2,r,ko(s,i));return oC(e,n,l,ko(s,o)),null!==l.attrs&&by(l,l.attrs,!1),null!==l.mergedAttrs&&by(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=Xx(o,i,l,a,e,t);i[s]=u;const h=gl(l);return ro(l,!0),EM(a,u,l),32!=(32&l.flags)&&Ad()&&ay(o,i,u,l),0===function eP(){return qt.lFrame.elementDepthCount}()&&Wi(u,i),function tP(){qt.lFrame.elementDepthCount++}(),h&&(nC(o,i,l),tC(o,l,i)),null!==r&&rC(i,l),le}function Ce(){let t=Sn();Td()?_p():(t=t.parent,ro(t,!1));const e=t;(function gp(t){return qt.skipHydrationRootTNode===t})(e)&&function z0(){qt.skipHydrationRootTNode=null}(),function nP(){qt.lFrame.elementDepthCount--}();const n=gn();return n.firstCreatePass&&(Tt(n,t),xc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function zv(t){return 0!=(8&t.flags)}(e)&&QC(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Dw(t){return 0!=(16&t.flags)}(e)&&QC(n,e,be(),e.stylesWithoutHost,!1),Ce}function at(t,e,n,r){return le(t,e,n,r),Ce(),at}let Xx=(t,e,n,r,i,o)=>(Fs(!0),iy(r,i,function X0(){return qt.lFrame.currentNamespace}()));function ib(){return be()}const Rh="en-US";let rN=Rh;function Wt(t,e,n,r){const i=be(),o=gn(),s=Sn();return function ab(t,e,n,r,i,o,s){const a=gl(r),u=t.firstCreatePass&&function OM(t){return t.cleanup||(t.cleanup=[])}(t),h=e[Bn],g=function kM(t){return t[_a]||(t[_a]=[])}(e);let m=!0;if(3&r.type||s){const A=Ri(r,e),S=s?s(A):A,H=g.length,U=s?me=>s(Pn(me[r.index])):r.index;let he=null;if(!s&&a&&(he=function j9(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[_a],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==he)(he.__ngLastListenerFn__||he).__ngNextListenerFn__=o,he.__ngLastListenerFn__=o,m=!1;else{o=PN(r,e,h,o,!1);const me=n.listen(S,i,o);g.push(o,me),u&&u.push(i,U,H,H+1)}}else o=PN(r,e,h,o,!1);const v=r.outputs;let b;if(m&&null!==v&&(b=v[i])){const A=b.length;if(A)for(let S=0;S<A;S+=2){const Xe=e[b[S]][b[S+1]].subscribe(o),wt=g.length;g.push(o,Xe),u&&u.push(i,r.index,wt,"function"==typeof Xe?wt+1:-(wt+1))}}}(o,i,i[Kt],s,t,e,r),Wt}function RN(t,e,n,r){try{return it(6,e,n),!1!==n(r)}catch(i){return hy(t,i),!1}finally{it(7,e,n)}}function PN(t,e,n,r,i){return function o(s){if(s===Function)return r;hg(t.componentOffset>-1?Hi(t.index,e):e);let l=RN(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=RN(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function as(t=1){return function Cp(t){return(qt.lFrame.contextLView=function Q_(t,e){for(;t>0;)e=e[ms],t--;return e}(t,qt.lFrame.contextLView))[Bn]}(t)}function H9(t,e){let n=null;const r=function k0(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?cd(t,o,!0):gs(r,o))return i}else n=i}return n}function ft(t){const e=be()[ir][yi];if(!e.projection){const r=e.projection=function Pd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?H9(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function ht(t,e=0,n){const r=be(),i=gn(),o=lh(i,Yt+t,16,null,n||null);null===o.projection&&(o.projection=e),_p(),(!r[ji]||Lc())&&32!=(32&o.flags)&&function NH(t,e,n){yM(e[Kt],0,e,n,Qw(t,n,e),fM(n.parent||e[yi],n,e))}(i,r,o)}function jy(t,e,n){return lb(t,"",e,"",n),jy}function lb(t,e,n,r,i){const o=be(),s=yh(o,e,n,r);return s!==sn&&bo(gn(),Wn(),o,t,s,o[Kt],i,!1),lb}function Dt(t,e=""){const n=be(),r=gn(),i=t+Yt,o=r.firstCreatePass?lh(r,i,1,e,null):r.data[i],s=KN(r,n,o,e,t);n[i]=s,Ad()&&ay(r,n,s,o),ro(o,!1)}let KN=(t,e,n,r,i)=>(Fs(!0),function ry(t,e){return t.createText(e)}(e[Kt],r));function Iu(t){return Eu("",t,""),Iu}function Eu(t,e,n){const r=be(),i=yh(r,t,e,n);return i!==sn&&Va(r,si(),i),Eu}function ub(t,e,n,r,i){if(t=zt(t),Array.isArray(t))for(let o=0;o<t.length;o++)ub(t[o],e,n,r,i);else{const o=gn(),s=be(),a=Sn();let l=xa(t)?t:zt(t.provide);const u=Xd(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(xa(t)||!t.multi){const v=new Oa(u,i,E),b=hb(l,e,i?h:h+m,g);-1===b?(Pw(Wv(a,s),o,l),db(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[b]=v,s[b]=v)}else{const v=hb(l,e,h+m,g),b=hb(l,e,h,h+m),S=b>=0&&n[b];if(i&&!S||!i&&!(v>=0&&n[v])){Pw(Wv(a,s),o,l);const H=function uq(t,e,n,r,i){const o=new Oa(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,ok(o,i,r&&!n),o}(i?cq:lq,n.length,i,r,u);!i&&S&&(n[b].providerFactory=H),db(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else db(o,t,v>-1?v:b,ok(n[i?b:v],u,!i&&r));!i&&r&&S&&n[b].componentProviders++}}}function db(t,e,n,r){const i=xa(e),o=function kv(t){return!!t.useClass}(e);if(i||o){const l=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(n);-1===h?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function ok(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lq(t,e,n,r){return fb(this.multi,[])}function cq(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=uu(n,n[nt],this.providerFactory.index,r);o=a.slice(0,s),fb(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fb(i,o);return o}function fb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function aq(t,e,n){const r=gn();if(r.firstCreatePass){const i=Si(t);ub(n,r.data,r.blueprint,i,!0),ub(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let dq=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=Rv(0,r.type),o=i.length>0?LC([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=St({token:t,providedIn:"environment",factory:()=>new t(ze(ai))}),e})();function sk(t){fu("NgStandalone"),t.getStandaloneInjector=e=>e.get(dq).getOrCreateStandaloneInjector(t)}function gk(t,e,n,r,i,o){const s=e+n;return Ur(t,s,i)?function zs(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function kg(t,e){const n=t[e];return n===sn?void 0:n}(t,s+1)}function zy(t,e){const n=gn();let r;const i=t+Yt;var o;n.firstCreatePass?(r=function Mq(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(null!==(o=n.destroyHooks)&&void 0!==o?o:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ma(r.type)),l=Gi(E);try{const u=qv(!1),h=s();return qv(u),function W9(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,be(),i,h),h}finally{Gi(l)}}function Gy(t,e,n){const r=t+Yt,i=be(),o=function ml(t,e){return t[e]}(i,r);return function Og(t,e){return t[nt].data[e].pure}(i,r)?gk(i,function Zr(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}class Nh{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const i8=new Nh("17.2.2");let Ok=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const $k=new ot(""),Ky=new ot("");let Cb,Eb=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Cb||(function P8(t){Cb=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Se),ze(wb),ze(Ky))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),wb=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=Cb)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Vg(t){return!!t&&"function"==typeof t.then}function Uk(t){return!!t&&"function"==typeof t.subscribe}const Yy=new ot("");let bb=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=Ge(Yy,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Vg(s))r.push(s);else if(Uk(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Tb=new ot("");function Hk(t,e){return Array.isArray(e)?e.reduce(Hk,t):{...t,...e}}let Yl=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ge(xP),this.afterRenderEffectManager=Ge(vg),this.componentTypes=[],this.components=[],this.isStable=Ge(Cg).hasPendingTasks.pipe(vt(r=>!r)),this._injector=Ge(ai)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof e1;if(!this._injector.get(bb).done)throw!o&&function Ns(t){const e=ln(t)||Zn(t)||oi(t);return null!==e&&e.standalone}(r),new Te(405,!1);let a;a=o?r:this._injector.get(yy).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function M8(t){return t.isBoundToModule}(a)?void 0:this._injector.get(gu),h=a.create(fr.NULL,[],i||a.selector,l),g=h.location.nativeElement,m=h.injector.get($k,null);return null==m||m.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Qy(this.components,h),null==m||m.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(100===r)throw new Te(103,!1);const i=0===r;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!zk(o)||this.detectChangesInView(o,s,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>zk(i)))}detectChangesInView(r,i,o){let s;o?(s=0,r[$t]|=1024):s=64&r[$t]?0:1,fy(r,i,s)}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Qy(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(Tb,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qy(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Te(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Qy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function zk(t){return hp(t)}class N8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gk=(()=>{var t;class e{compileModuleSync(r){return new FC(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=Vo(xr(r).declarations).reduce((a,l)=>{const u=ln(l);return u&&a.push(new Eg(u)),a},[]);return new N8(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),F8=(()=>{var t;class e{constructor(){this.zone=Ge(Se),this.applicationRef=Ge(Yl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function L8(){const t=Ge(Se),e=Ge(Fa);return n=>t.runOutsideAngular(()=>e.handleError(n))}let $8=(()=>{var t;class e{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=Ge(Se),this.pendingTasks=Ge(Cg)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;Se.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Ua=new ot("",{providedIn:"root",factory:()=>Ge(Ua,Gt.Optional|Gt.SkipSelf)||function U8(){return typeof $localize<"u"&&$localize.locale||Rh}()}),Db=new ot("");let Yk=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function C6(t="zone.js",e){return"noop"===t?new m1:"zone.js"===t?new Se(e):t}(null==i?void 0:i.ngZone,function Kk(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function mG(t,e,n){return new OC(t,e,n)}(r.moduleType,this.injector,function Wk(t){return[{provide:Se,useFactory:t},{provide:ts,multi:!0,useFactory:()=>{const e=Ge(F8,{optional:!0});return()=>e.initialize()}},{provide:ts,multi:!0,useFactory:()=>{const e=Ge($8);return()=>{e.initialize()}}},{provide:xP,useFactory:L8}]}(()=>o)),a=s.injector.get(Fa,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Qy(this._modules,s),l.unsubscribe()})}),function jk(t,e,n){try{const r=n();return Vg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(bb);return l.runInitializers(),l.donePromise.then(()=>(function iN(t){"string"==typeof t&&(rN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ua,Rh)||Rh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=Hk({},i);return function O8(t,e,n){const r=new FC(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Yl);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new Te(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(Db,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(fr))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Ql=null;const Qk=new ot("");function Xk(t,e,n=[]){const r=`Platform: ${e}`,i=new ot(r);return(o=[])=>{let s=Ab();if(!s||s.injector.get(Qk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function H8(t){if(Ql&&!Ql.get(Qk,!1))throw new Te(400,!1);(function Bk(){!function we(t){bt=t}(()=>{throw new Te(600,!1)})})(),Ql=t;const e=t.get(Yk);(function Zk(t){const e=t.get(iv,null);null==e||e.forEach(n=>n())})(t)}(function Jk(t=[],e){return fr.create({name:e,providers:[{provide:au,useValue:"platform"},{provide:Db,useValue:new Set([()=>Ql=null])},...t]})}(a,r))}return function z8(t){const e=Ab();if(!e)throw new Te(401,!1);return e}()}}function Ab(){var t,e;return null!==(t=null===(e=Ql)||void 0===e?void 0:e.get(Yk))&&void 0!==t?t:null}const Y8=Xk(null,"core",[]);let Q8=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Yl))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();function Oh(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function TO(t){const e=ln(t);if(!e)return null;const n=new Eg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let kb=null;function Xl(){return kb}class DW{}const Do=new ot("");let Ob=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(SW),providedIn:"platform"}),e})();const AW=new ot("");let SW=(()=>{var t;class e extends Ob{constructor(){super(),this._doc=Ge(Do),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xl().getBaseHref(this._doc)}onPopState(r){const i=Xl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Xl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new t,providedIn:"platform"}),e})();function Fb(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function DO(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ba(t){return t&&"?"!==t[0]?"?"+t:t}let Ds=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(SO),providedIn:"root"}),e})();const AO=new ot("");let SO=(()=>{var t;class e extends Ds{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=Ge(Do).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Fb(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ba(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+Ba(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+Ba(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Ob),ze(AO,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),RO=(()=>{var t;class e extends Ds{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=Fb(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ba(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ba(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Ob),ze(AO,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})(),Jl=(()=>{var t;class e{constructor(r){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function MW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(DO(PO(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ba(i))}normalize(r){return e.stripTrailingSlash(function PW(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,PO(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ba(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ba(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=Ba,t.joinWithSlash=Fb,t.stripTrailingSlash=DO,t.\u0275fac=function(r){return new(r||t)(ze(Ds))},t.\u0275prov=St({token:t,factory:()=>function RW(){return new Jl(ze(Ds))}(),providedIn:"root"}),e})();function PO(t){return t.replace(/\/index.html$/,"")}class v7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pI=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new v7(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),BO(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{BO(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(rs),E(Cs),E(IC))},t.\u0275dir=kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function BO(t,e){t.context.$implicit=e.item}let zg=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new y7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jO("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jO("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(rs),E(Cs))},t.\u0275dir=kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class y7{constructor(){this.$implicit=null,this.ngIf=null}}function jO(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rr(e)}'.`)}class T7{createSubscription(e,n){return o1(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){o1(()=>e.unsubscribe())}}class D7{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const A7=new D7,S7=new T7;let gI=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Vg(r))return A7;if(Uk(r))return S7;throw function Ss(t,e){return new Te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(st,16))},t.\u0275pipe=Bi({name:"async",type:t,pure:!1,standalone:!0}),e})(),GO=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();const qO="browser";function mI(t){return"server"===t}let Q7=(()=>{var t;class e{}return(t=e).\u0275prov=St({token:t,providedIn:"root",factory:()=>function Y7(t){return t===qO}(Ge(Lo))?new X7(Ge(Do),window):new Z7}),e})();class X7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function J7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class Z7{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class SK extends DW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zb extends SK{static makeCurrent(){!function TW(t){var e;null!==(e=kb)&&void 0!==e||(kb=t)}(new Zb)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function RK(){return Wg=Wg||document.querySelector("base"),Wg?Wg.getAttribute("href"):null}();return null==n?null:function PK(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Wg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function g7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Wg=null,xK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const eT=new ot("");let tF=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Te(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(eT),ze(Se))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class nF{constructor(e){this._doc=e}}const tT="ng-app-id";let rF=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${tT}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(tT),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(tT,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Do),ze(Od),ze(Fd,8),ze(Lo))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const nT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rT=/%COMP%/g,FK=new ot("",{providedIn:"root",factory:()=>!0});function oF(t,e){return e.map(n=>n.replace(rT,t))}let sF=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=mI(l),this.defaultRenderer=new iT(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===K.ShadowDom&&(i={...i,encapsulation:K.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof lF?o.applyToHost(r):o instanceof oT&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case K.Emulated:s=new lF(u,h,i,this.appId,g,a,l,m);break;case K.ShadowDom:return new UK(u,h,r,i,a,l,this.nonce,m);default:s=new oT(u,h,i,g,a,l,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(tF),ze(rF),ze(Od),ze(FK),ze(Do),ze(Lo),ze(Se),ze(Fd))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();class iT{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Te(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=nT[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=nT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jl.DashCase|jl.Important)?e.style.setProperty(n,r,i&jl.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jl.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Xl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function aF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class UK extends iT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=oF(i.id,i.styles);for(const h of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oT extends iT{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?oF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lF extends oT{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function LK(t){return"_ngcontent-%COMP%".replace(rT,t)}(u),this.hostAttr=function VK(t){return"_nghost-%COMP%".replace(rT,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let BK=(()=>{var t;class e extends nF{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const cF=["alt","control","meta","shift"],jK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let zK=(()=>{var t;class e extends nF{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xl().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),cF.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=jK[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cF.forEach(a=>{a!==o&&(0,HK[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();const dF=[{provide:Lo,useValue:qO},{provide:iv,useValue:function GK(){Zb.makeCurrent()},multi:!0},{provide:Do,useFactory:function WK(){return function Aa(t){Da=t}(document),document},deps:[]}],KK=Xk(Y8,"browser",dF),YK=new ot(""),hF=[{provide:Ky,useClass:class MK{addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Te(5103,!1);return o},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Xl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:$k,useClass:Eb,deps:[Se,wb,Ky]},{provide:Eb,useClass:Eb,deps:[Se,wb,Ky]}],fF=[{provide:au,useValue:"root"},{provide:Fa,useFactory:function qK(){return new Fa},deps:[]},{provide:eT,useClass:BK,multi:!0,deps:[Do,Se,Lo]},{provide:eT,useClass:zK,multi:!0,deps:[Do]},sF,rF,tF,{provide:n1,useExisting:sF},{provide:class eK{},useClass:xK,deps:[]},[]];let QK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Od,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(YK,12))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({providers:[...fF,...hF],imports:[GO,Q8]}),e})(),XK=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Do))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var lt=oe(1316);const sT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _F(t){return yt(null==t?void 0:t.then)}function vF(t){return yt(t[_i])}function yF(t){return Symbol.asyncIterator&&yt(null==t?void 0:t[Symbol.asyncIterator])}function IF(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const EF=function nY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wF(t){return yt(null==t?void 0:t[EF])}function CF(t){return(0,lt.o7)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,lt.U1)(n.read());if(i)return yield(0,lt.U1)(void 0);yield yield(0,lt.U1)(r)}}finally{n.releaseLock()}})}function bF(t){return yt(null==t?void 0:t.getReader)}function Ao(t){if(t instanceof Rn)return t;if(null!=t){if(vF(t))return function rY(t){return new Rn(e=>{const n=t[_i]();if(yt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(sT(t))return function iY(t){return new Rn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(_F(t))return function oY(t){return new Rn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gn)})}(t);if(yF(t))return TF(t);if(wF(t))return function sY(t){return new Rn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(bF(t))return function aY(t){return TF(CF(t))}(t)}throw IF(t)}function TF(t){return new Rn(e=>{(function lY(t,e){var n,r,i,o;return(0,lt.kH)(this,void 0,void 0,function*(){try{for(n=(0,lt.mA)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function za(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Zl(t,e=0){return Et((n,r)=>{n.subscribe(Ot(r,i=>za(r,t,()=>r.next(i),e),()=>za(r,t,()=>r.complete(),e),i=>za(r,t,()=>r.error(i),e)))})}function Lh(t,e=0){return Et((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DF(t,e){if(!t)throw new Error("Iterable cannot be null");return new Rn(n=>{za(n,e,()=>{const r=t[Symbol.asyncIterator]();za(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jn(t,e){return e?function pY(t,e){if(null!=t){if(vF(t))return function cY(t,e){return Ao(t).pipe(Lh(e),Zl(e))}(t,e);if(sT(t))return function dY(t,e){return new Rn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(_F(t))return function uY(t,e){return Ao(t).pipe(Lh(e),Zl(e))}(t,e);if(yF(t))return DF(t,e);if(wF(t))return function hY(t,e){return new Rn(n=>{let r;return za(n,e,()=>{r=t[EF](),za(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>yt(null==r?void 0:r.return)&&r.return()})}(t,e);if(bF(t))return function fY(t,e){return DF(CF(t),e)}(t,e)}throw IF(t)}(t,e):Ao(t)}function aT(t){return t[t.length-1]}function Yg(t){return function gY(t){return t&&yt(t.schedule)}(aT(t))?t.pop():void 0}function Bt(...t){return jn(t,Yg(t))}const{isArray:_Y}=Array,{getPrototypeOf:vY,prototype:yY,keys:IY}=Object;const{isArray:wY}=Array;function lT(t){return vt(e=>function CY(t,e){return wY(e)?t(...e):t(e)}(t,e))}function yI(...t){const e=Yg(t),n=function AF(t){return yt(aT(t))?t.pop():void 0}(t),{args:r,keys:i}=function SF(t){if(1===t.length){const e=t[0];if(_Y(e))return{args:e,keys:null};if(function EY(t){return t&&"object"==typeof t&&vY(t)===yY}(e)){const n=IY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return jn([],e);const o=new Rn(function bY(t,e,n=ur){return r=>{PF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)PF(e,()=>{const u=jn(t[l],e);let h=!1;u.subscribe(Ot(r,g=>{o[l]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function RF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):ur));return n?o.pipe(lT(n)):o}function PF(t,e,n){t?za(n,t,e):e()}const II=Re(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pi(t,e,n=1/0){return yt(e)?Pi((r,i)=>vt((o,s)=>e(r,o,i,s))(Ao(t(r,i))),n):("number"==typeof e&&(n=e),Et((r,i)=>function TY(t,e,n,r,i,o,s,a){const l=[];let u=0,h=0,g=!1;const m=()=>{g&&!l.length&&!u&&e.complete()},v=A=>u<r?b(A):l.push(A),b=A=>{o&&e.next(A),u++;let S=!1;Ao(n(A,h++)).subscribe(Ot(e,H=>{null==i||i(H),o?v(H):e.next(H)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<r;){const H=l.shift();s?za(e,s,()=>b(H)):b(H)}m()}catch(H){e.error(H)}}))};return t.subscribe(Ot(e,v,()=>{g=!0,m()})),()=>{null==a||a()}}(r,i,t,n)))}function Vh(t=1/0){return Pi(ur,t)}function cT(...t){return function DY(){return Vh(1)}()(jn(t,Yg(t)))}function MF(t){return new Rn(e=>{Ao(t()).subscribe(e)})}function EI(t,e){const n=yt(t)?t:()=>t,r=i=>i.error(n());return new Rn(e?i=>e.schedule(r,0,i):r)}const Ws=new Rn(t=>t.complete());function uT(){return Et((t,e)=>{let n=null;t._refCount++;const r=Ot(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class xF extends Rn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ut(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;const n=this.getSubject();e.add(this.source.subscribe(Ot(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return uT()(this)}}function Pr(t,e){return Et((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ot(r,l=>{null==i||i.unsubscribe();let u=0;const h=o++;Ao(t(l,h)).subscribe(i=Ot(r,g=>r.next(e?e(l,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $h(t){return t<=0?()=>Ws:Et((e,n)=>{let r=0;e.subscribe(Ot(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wI(...t){const e=Yg(t);return Et((n,r)=>{(e?cT(t,n,e):cT(t,n)).subscribe(r)})}function Uo(t,e){return Et((n,r)=>{let i=0;n.subscribe(Ot(r,o=>t.call(e,o,i++)&&r.next(o)))})}function CI(t){return Et((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function NF(t=SY){return Et((e,n)=>{let r=!1;e.subscribe(Ot(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function SY(){return new II}function ec(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Uo((i,o)=>t(i,o,r)):ur,$h(1),n?CI(e):NF(()=>new II))}function Qg(t,e){return yt(e)?Pi(t,e,1):Pi(t,1)}function Mi(t,e,n){const r=yt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Et((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ot(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ur}function Cu(t){return Et((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Ot(n,void 0,void 0,s=>{o=Ao(t(s,Cu(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function bI(t,e){return Et(function RY(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ot(s,h=>{const g=u++;l=a?t(l,h,g):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function dT(t){return t<=0?()=>Ws:Et((e,n)=>{let r=[];e.subscribe(Ot(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hT(t){return Et((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const cn="primary",Xg=Symbol("RouteTitle");class NY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Uh(t){return new NY(t)}function kY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ks(t,e){const n=t?fT(t):void 0,r=e?fT(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!kF(t[i],e[i]))return!1;return!0}function fT(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function OF(t){return t.length>0?t[t.length-1]:null}function tc(t){return function tY(t){return!!t&&(t instanceof Rn||yt(t.lift)&&yt(t.subscribe))}(t)?t:Vg(t)?jn(Promise.resolve(t)):Bt(t)}const FY={exact:function VF(t,e,n){if(!bu(t.segments,e.segments)||!TI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!VF(t.children[r],e.children[r],n))return!1;return!0},subset:$F},FF={exact:function LY(t,e){return Ks(t,e)},subset:function VY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>kF(t[n],e[n]))},ignored:()=>!0};function LF(t,e,n){return FY[n.paths](t.root,e.root,n.matrixParams)&&FF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function $F(t,e,n){return UF(t,e,e.segments,n)}function UF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bu(i,n)||e.hasChildren()||!TI(i,n,r))}if(t.segments.length===n.length){if(!bu(t.segments,n)||!TI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!$F(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(bu(t.segments,i)&&TI(t.segments,i,r)&&t.children[cn])&&UF(t.children[cn],e,o,r)}}function TI(t,e,n){return e.every((r,i)=>FF[n](t[i].parameters,r.parameters))}class Bh{constructor(e=new Yn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap}toString(){return BY.serialize(this)}}class Yn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return DI(this)}}class Jg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=Uh(this.parameters)),this._parameterMap}toString(){return HF(this)}}function bu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Tu=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>new pT,providedIn:"root"}),e})();class pT{parse(e){const n=new JY(e);return new Bh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Zg(e.root,!0)}`,r=function zY(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${AI(n)}=${AI(i)}`).join("&"):`${AI(n)}=${AI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function jY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const BY=new pT;function DI(t){return t.segments.map(e=>HF(e)).join("/")}function Zg(t,e){if(!t.hasChildren())return DI(t);if(e){const n=t.children[cn]?Zg(t.children[cn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==cn&&r.push(`${i}:${Zg(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function UY(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===cn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==cn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===cn?[Zg(t.children[cn],!1)]:[`${i}:${Zg(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[cn]?`${DI(t)}/${n[0]}`:`${DI(t)}/(${n.join("//")})`}}function BF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function AI(t){return BF(t).replace(/%3B/gi,";")}function gT(t){return BF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function SI(t){return decodeURIComponent(t)}function jF(t){return SI(t.replace(/\+/g,"%20"))}function HF(t){return`${gT(t.path)}${function HY(t){return Object.entries(t).map(([e,n])=>`;${gT(e)}=${gT(n)}`).join("")}(t.parameters)}`}const GY=/^[^\/()?;#]+/;function mT(t){const e=t.match(GY);return e?e[0]:""}const qY=/^[^\/()?;=#]+/,KY=/^[^=?&#]+/,QY=/^[^&#]+/;class JY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[cn]=new Yn(e,n)),r}parseSegment(){const e=mT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Te(4009,!1);return this.capture(e),new Jg(SI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function WY(t){const e=t.match(qY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mT(this.remaining);i&&(r=i,this.capture(r))}e[SI(n)]=SI(r)}parseQueryParam(e){const n=function YY(t){const e=t.match(KY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function XY(t){const e=t.match(QY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=jF(n),o=jF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=cn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[cn]:new Yn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Te(4011,!1)}}function zF(t){return t.segments.length>0?new Yn([],{[cn]:t}):t}function GF(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=GF(i);if(r===cn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ZY(t){if(1===t.numberOfChildren&&t.children[cn]){const e=t.children[cn];return new Yn(t.segments.concat(e.segments),e.children)}return t}(new Yn(t.segments,e))}function jh(t){return t instanceof Bh}function qF(t){var e;let n;const o=zF(function r(s){const a={};for(const u of s.children){const h=r(u);a[u.outlet]=h}const l=new Yn(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function WF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return _T(i,i,i,n,r);const o=function tQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new YF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YF(n,e,r)}(e);if(o.toRoot())return _T(i,i,new Yn([],{}),n,r);const s=function nQ(t,e,n){if(t.isAbsolute)return new PI(e,!0,0);if(!n)return new PI(e,!1,NaN);if(null===n.parent)return new PI(n,!0,0);const r=RI(t.commands[0])?0:1;return function rQ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Te(4005,!1);i=r.segments.length}return new PI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?tm(s.segmentGroup,s.index,o.commands):QF(s.segmentGroup,s.index,o.commands);return _T(i,s.segmentGroup,a,n,r)}function RI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function em(t){return"object"==typeof t&&null!=t&&t.outlets}function _T(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=t===e?n:KF(t,e,n);const a=zF(GF(s));return new Bh(a,o,i)}function KF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:KF(o,e,n)}),new Yn(t.segments,r)}class YF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&RI(r[0]))throw new Te(4003,!1);const i=r.find(em);if(i&&i!==OF(r))throw new Te(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QF(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Yn([],{})),0===t.segments.length&&t.hasChildren())return tm(t,e,n);const i=function oQ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(em(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!JF(l,u,s))return o;r+=2}else{if(!JF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Yn(t.segments.slice(0,i.pathIndex),{});return s.children[cn]=new Yn(t.segments.slice(i.pathIndex),t.children),tm(s,0,o)}return i.match&&0===o.length?new Yn(t.segments,{}):i.match&&!t.hasChildren()?vT(t,e,n):i.match?tm(t,0,o):vT(t,e,n)}function tm(t,e,n){if(0===n.length)return new Yn(t.segments,{});{const r=function iQ(t){return em(t[0])?t[0].outlets:{[cn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==cn)&&t.children[cn]&&1===t.numberOfChildren&&0===t.children[cn].segments.length){const o=tm(t.children[cn],e,n);return new Yn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=QF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Yn(t.segments,i)}}function vT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(em(o)){const l=sQ(o.outlets);return new Yn(r,l)}if(0===i&&RI(n[0])){r.push(new Jg(t.segments[e].path,XF(n[0]))),i++;continue}const s=em(o)?o.outlets[cn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&RI(a)?(r.push(new Jg(s,XF(a))),i+=2):(r.push(new Jg(s,{})),i++)}return new Yn(r,{})}function sQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=vT(new Yn([],{}),0,r))}),e}function XF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function JF(t,e,n){return t==n.path&&Ks(e,n.parameters)}const nm="imperative";var bn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(bn||{});class Ys{constructor(e,n){this.id=e,this.url=n}}class rm extends Ys{constructor(e,n,r="imperative",i=null){super(e,n),this.type=bn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ga extends Ys{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=bn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var us=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(us||{}),MI=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(MI||{});class Hh extends Ys{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=bn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zh extends Ys{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=bn.NavigationSkipped}}class xI extends Ys{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=bn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ZF extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lQ extends Ys{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=bn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uQ extends Ys{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dQ{constructor(e){this.route=e,this.type=bn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hQ{constructor(e){this.route=e,this.type=bn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fQ{constructor(e){this.snapshot=e,this.type=bn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pQ{constructor(e){this.snapshot=e,this.type=bn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gQ{constructor(e){this.snapshot=e,this.type=bn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mQ{constructor(e){this.snapshot=e,this.type=bn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=bn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yT{}class IT{constructor(e){this.url=e}}class _Q{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Du,this.attachRef=null}}let Du=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new _Q,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class tL{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ET(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=ET(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=wT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wT(e,this._root).map(n=>n.value)}}function ET(t,e){if(t===e.value)return e;for(const n of e.children){const r=ET(t,n);if(r)return r}return null}function wT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=wT(t,n);if(r.length)return r.unshift(e),r}return[]}class Rs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Gh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nL extends tL{constructor(e,n){super(e),this.snapshot=n,TT(this,e)}toString(){return this.snapshot.toString()}}function rL(t){const e=function vQ(t){const o=new bT([],{},{},"",{},cn,t,null,{});return new iL("",new Rs(o,[]))}(t),n=new q([new Jg("",{})]),r=new q({}),i=new q({}),o=new q({}),s=new q(""),a=new Qs(n,r,o,s,i,cn,t,e.root);return a.snapshot=e.root,new nL(new Rs(a,[]),e)}class Qs{constructor(e,n,r,i,o,s,a,l){var u,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(h=this.dataSubject)||void 0===h?void 0:h.pipe(vt(g=>g[Xg])))&&void 0!==u?u:Bt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(vt(n=>Uh(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(vt(n=>Uh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CT(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&sL(o)&&(i.resolve[Xg]=o.title),i}class bT{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Xg]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=Uh(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=Uh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iL extends tL{constructor(e,n){super(n),this.url=e,TT(this,n)}toString(){return oL(this._root)}}function TT(t,e){e.value._routerState=t,e.children.forEach(n=>TT(t,n))}function oL(t){const e=t.children.length>0?` { ${t.children.map(oL).join(", ")} } `:"";return`${t.value}${e}`}function DT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ks(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ks(e.params,n.params)||t.paramsSubject.next(n.params),function OY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ks(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ks(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function AT(t,e){const n=Ks(t.params,e.params)&&function $Y(t,e){return bu(t,e)&&t.every((n,r)=>Ks(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||AT(t.parent,e.parent))}function sL(t){return"string"==typeof t.title||null===t.title}let aL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=Ge(Du),this.location=Ge(rs),this.changeDetector=Ge(st),this.environmentInjector=Ge(ai),this.inputBinder=Ge(NI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Te(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new Te(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new yQ(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:h,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f]}),e})();class yQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qs?this.route:e===Du?this.childContexts:this.parent.get(e,n)}}const NI=new ot("");let lL=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=yI([i.queryParams,i.params,i.data]).pipe(Pr(([s,a,l],u)=>(l={...s,...a,...l},0===u?Bt(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=TO(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function im(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function EQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return im(t,r,i);return im(t,r)})}(t,e,n);return new Rs(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>im(t,a)),s}}const r=function wQ(t){return new Qs(new q(t.url),new q(t.params),new q(t.queryParams),new q(t.fragment),new q(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>im(t,o));return new Rs(r,i)}}const cL="ngNavigationCancelingError";function uL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=jh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dL(!1,us.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dL(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[cL]=!0,n.cancellationCode=e,n}function hL(t){return!!t&&t[cL]}let fL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["ng-component"]],standalone:!0,features:[sk],decls:1,vars:0,template:function(r,i){1&r&&at(0,"router-outlet")},dependencies:[aL],encapsulation:2}),e})();function ST(t){const e=t.children&&t.children.map(ST),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==cn&&(n.component=fL),n}function Xs(t){return t.outlet||cn}function om(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class PQ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),DT(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Gh(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Gh(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mQ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(DT(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),DT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=om(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class pL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kI{constructor(e,n){this.component=e,this.route=n}}function MQ(t,e,n){const r=t._root;return sm(r,e?e._root:null,n,[r.value])}function qh(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function tv(t){return null!==wl(t)}(t)?e.get(t):t:r}function sm(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gh(e);return t.children.forEach(s=>{(function NQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function kQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bu(t.url,e.url)||!Ks(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AT(t,e)||!Ks(t.queryParams,e.queryParams);default:return!AT(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),sm(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kI(a.outlet.component,s))}else s&&am(e,a,i),i.canActivateChecks.push(new pL(r)),sm(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>am(a,n.getContext(s),i)),i}function am(t,e,n){const r=Gh(t),i=t.value;Object.entries(r).forEach(([o,s])=>{am(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new kI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function lm(t){return"function"==typeof t}function gL(t){return t instanceof II||"EmptyError"===(null==t?void 0:t.name)}const OI=Symbol("INITIAL_VALUE");function Wh(){return Pr(t=>yI(t.map(e=>e.pipe($h(1),wI(OI)))).pipe(vt(e=>{for(const n of e)if(!0!==n){if(n===OI)return OI;if(!1===n||n instanceof Bh)return n}return!0}),Uo(e=>e!==OI),$h(1)))}function mL(t){return function yo(...t){return Io(t)}(Mi(e=>{if(jh(e))throw uL(0,e)}),vt(e=>!0===e))}class RT{constructor(e){this.segmentGroup=e||null}}class PT extends Error{constructor(e){super(),this.urlTree=e}}function Kh(t){return EI(new RT(t))}class ZQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Bt(r);if(i.numberOfChildren>1||!i.children[cn])return EI(new Te(4e3,!1));i=i.children[cn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new PT(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Bh(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Yn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Te(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const MT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eX(t,e,n,r,i){const o=xT(t,e,n);return o.matched?(r=function bQ(t,e){var n;return t.providers&&!t._injector&&(t._injector=LC(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function QQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Bt(i.map(s=>{const a=qh(s,t);return tc(function UQ(t){return t&&lm(t.canMatch)}(a)?a.canMatch(e,n):Bs(t,()=>a(e,n)))})).pipe(Wh(),mL()):Bt(!0)}(r,e,n).pipe(vt(s=>!0===s?o:{...MT}))):Bt(o)}function xT(t,e,n){var r,i;if("**"===e.path)return function tX(t){return{matched:!0,parameters:t.length>0?OF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...MT}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||kY)(n,t,e);if(!s)return{...MT};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,h])=>{a[u]=h.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function _L(t,e,n,r){return n.length>0&&function iX(t,e,n){return n.some(r=>FI(t,e,r)&&Xs(r)!==cn)}(t,n,r)?{segmentGroup:new Yn(e,rX(r,new Yn(n,t.children))),slicedSegments:[]}:0===n.length&&function oX(t,e,n){return n.some(r=>FI(t,e,r))}(t,n,r)?{segmentGroup:new Yn(t.segments,nX(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Yn(t.segments,t.children),slicedSegments:n}}function nX(t,e,n,r){const i={};for(const o of n)if(FI(t,e,o)&&!r[Xs(o)]){const s=new Yn([],{});i[Xs(o)]=s}return{...r,...i}}function rX(t,e){const n={};n[cn]=e;for(const r of t)if(""===r.path&&Xs(r)!==cn){const i=new Yn([],{});n[Xs(r)]=i}return n}function FI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class lX{}class dX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ZQ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Te(4002,`'${e.segmentGroup}'`)}recognize(){const e=_L(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(vt(n=>{const r=new bT([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,{}),i=new Rs(r,n),o=new iL("",i),s=function eQ(t,e,n=null,r=null){return WF(qF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,cn).pipe(Cu(r=>{if(r instanceof PT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof RT?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=CT(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(vt(o=>o instanceof Rs?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return jn(i).pipe(Qg(o=>{const s=r.children[o],a=function SQ(t,e){const n=t.filter(r=>Xs(r)===e);return n.push(...t.filter(r=>Xs(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),bI((o,s)=>(o.push(...s),o)),CI(null),function PY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Uo((i,o)=>t(i,o,r)):ur,dT(1),n?CI(e):NF(()=>new II))}(),Pi(o=>{if(null===o)return Kh(r);const s=vL(o);return function hX(t){t.sort((e,n)=>e.value.outlet===cn?-1:n.value.outlet===cn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Bt(s)}))}processSegment(e,n,r,i,o,s){return jn(n).pipe(Qg(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(Cu(u=>{if(u instanceof RT)return Bt(null);throw u}))}),ec(a=>!!a),Cu(a=>{if(gL(a))return function aX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Bt(new lX):Kh(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function sX(t,e,n,r){return!!(Xs(t)===r||r!==cn&&FI(e,n,t))&&xT(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Kh(i):Kh(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=xT(n,i,o);if(!a)return Kh(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,g).pipe(Pi(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=eX(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(Pr(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(Pr(({routes:u})=>{var h,g,m;const v=null!==(h=r._loadedInjector)&&void 0!==h?h:e,{consumedSegments:b,remainingSegments:A,parameters:S}=a,H=new bT(b,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function pX(t){return t.data||{}}(r),Xs(r),null!==(g=null!==(m=r.component)&&void 0!==m?m:r._loadedComponent)&&void 0!==g?g:null,r,function gX(t){return t.resolve||{}}(r)),{segmentGroup:U,slicedSegments:he}=_L(n,b,A,u);if(0===he.length&&U.hasChildren())return this.processChildren(v,u,U).pipe(vt(Xe=>null===Xe?null:new Rs(H,Xe)));if(0===u.length&&0===he.length)return Bt(new Rs(H,[]));const me=Xs(r)===o;return this.processSegment(v,u,U,he,me?cn:o,!0).pipe(vt(Xe=>new Rs(H,Xe instanceof Rs?[Xe]:[])))}))):Kh(n)}))}getChildConfig(e,n,r){return n.children?Bt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Bt({routes:n._loadedRoutes,injector:n._loadedInjector}):function YQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Bt(!0):Bt(i.map(s=>{const a=qh(s,t);return tc(function FQ(t){return t&&lm(t.canLoad)}(a)?a.canLoad(e,n):Bs(t,()=>a(e,n)))})).pipe(Wh(),mL())}(e,n,r).pipe(Pi(i=>i?this.configLoader.loadChildren(e,n).pipe(Mi(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function JQ(t){return EI(dL(!1,us.GuardRejected))}())):Bt({routes:[],injector:e})}}function fX(t){const e=t.value.routeConfig;return e&&""===e.path}function vL(t){const e=[],n=new Set;for(const r of t){if(!fX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=vL(r.children);e.push(new Rs(r.value,i))}return e.filter(r=>!n.has(r))}function yL(t){const e=t.children.map(n=>yL(n)).flat();return[t,...e]}function NT(t){return Pr(e=>{const n=t(e);return n?jn(n).pipe(vt(()=>e)):Bt(e)})}let IL=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===cn)}return i}getResolvedTitleForRoute(r){return r.data[Xg]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(EX),providedIn:"root"}),e})(),EX=(()=>{var t;class e extends IL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(XK))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Yh=new ot("",{providedIn:"root",factory:()=>({})}),Qh=new ot("");let kT=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ge(Gk)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Bt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=tc(r.loadComponent()).pipe(vt(EL),Mi(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),hT(()=>{this.componentLoaders.delete(r)})),o=new xF(i,()=>new L).pipe(uT());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Bt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function wX(t,e,n,r){return tc(t.loadChildren()).pipe(vt(EL),Pi(i=>i instanceof ex||Array.isArray(i)?Bt(i):jn(e.compileModuleAsync(i))),vt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Qh,[],{optional:!0,self:!0}).flat()),{routes:s.map(ST),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(hT(()=>{this.childrenLoaders.delete(i)})),a=new xF(s,()=>new L).pipe(uT());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function EL(t){return function CX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let OT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(bX),providedIn:"root"}),e})(),bX=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const wL=new ot(""),CL=new ot("");function TX(t,e,n){const r=t.get(CL),i=t.get(Do);return t.get(Se).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function DX(t){return new Promise(e=>{y1(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&Bs(t,()=>l({transition:a,from:e,to:n})),s})}let LI=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L,this.transitionAbortSubject=new L,this.configLoader=Ge(kT),this.environmentInjector=Ge(ai),this.urlSerializer=Ge(Tu),this.rootContexts=Ge(Du),this.location=Ge(Jl),this.inputBindingEnabled=null!==Ge(NI,{optional:!0}),this.titleStrategy=Ge(IL),this.options=Ge(Yh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Ge(OT),this.createViewTransition=Ge(wL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new hQ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new dQ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new q({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Uo(s=>0!==s.id),vt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Pr(s=>{this.currentTransition=s;let a=!1,l=!1;return Bt(s).pipe(Mi(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pr(u=>{var h;const g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=null!==(h=u.extras.onSameUrlNavigation)&&void 0!==h?h:r.onSameUrlNavigation;if(!g&&"reload"!==m){const v="";return this.events.next(new zh(u.id,this.urlSerializer.serialize(u.rawUrl),v,MI.IgnoredSameUrlNavigation)),u.resolve(null),Ws}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Bt(u).pipe(Pr(v=>{var b,A;const S=null===(b=this.transitions)||void 0===b?void 0:b.getValue();return this.events.next(new rm(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),S!==(null===(A=this.transitions)||void 0===A?void 0:A.getValue())?Ws:Promise.resolve(v)}),function mX(t,e,n,r,i,o){return Pi(s=>function cX(t,e,n,r,i,o,s="emptyOnly"){return new dX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(vt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Mi(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const b=new ZF(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:v,extractedUrl:b,source:A,restoredState:S,extras:H}=u,U=new rm(v,this.urlSerializer.serialize(b),A,S);this.events.next(U);const he=rL(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:he,urlAfterRedirects:b,extras:{...H,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Bt(s)}{const v="";return this.events.next(new zh(u.id,this.urlSerializer.serialize(u.extractedUrl),v,MI.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ws}}),Mi(u=>{const h=new aQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),vt(u=>(this.currentTransition=s={...u,guards:MQ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function BQ(t,e){return Pi(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Bt({...n,guardsResult:!0}):function jQ(t,e,n,r){return jn(t).pipe(Pi(i=>function KQ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Bt(o.map(a=>{var l;const u=null!==(l=om(e))&&void 0!==l?l:i,h=qh(a,u);return tc(function $Q(t){return t&&lm(t.canDeactivate)}(h)?h.canDeactivate(t,e,n,r):Bs(u,()=>h(t,e,n,r))).pipe(ec())})).pipe(Wh()):Bt(!0)}(i.component,i.route,n,e,r)),ec(i=>!0!==i,!0))}(s,r,i,t).pipe(Pi(a=>a&&function OQ(t){return"boolean"==typeof t}(a)?function HQ(t,e,n,r){return jn(e).pipe(Qg(i=>cT(function GQ(t,e){return null!==t&&e&&e(new fQ(t)),Bt(!0)}(i.route.parent,r),function zQ(t,e){return null!==t&&e&&e(new gQ(t)),Bt(!0)}(i.route,r),function WQ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function xQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>MF(()=>Bt(s.guards.map(l=>{var u;const h=null!==(u=om(s.node))&&void 0!==u?u:n,g=qh(l,h);return tc(function VQ(t){return t&&lm(t.canActivateChild)}(g)?g.canActivateChild(r,t):Bs(h,()=>g(r,t))).pipe(ec())})).pipe(Wh())));return Bt(o).pipe(Wh())}(t,i.path,n),function qQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Bt(!0);const i=r.map(o=>MF(()=>{var s;const a=null!==(s=om(e))&&void 0!==s?s:n,l=qh(o,a);return tc(function LQ(t){return t&&lm(t.canActivate)}(l)?l.canActivate(e,t):Bs(a,()=>l(e,t))).pipe(ec())}));return Bt(i).pipe(Wh())}(t,i.route,n))),ec(i=>!0!==i,!0))}(r,o,t,e):Bt(a)),vt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Mi(u=>{if(s.guardsResult=u.guardsResult,jh(u.guardsResult))throw uL(0,u.guardsResult);const h=new lQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Uo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",us.GuardRejected),!1)),NT(u=>{if(u.guards.canActivateChecks.length)return Bt(u).pipe(Mi(h=>{const g=new cQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Pr(h=>{let g=!1;return Bt(h).pipe(function _X(t,e){return Pi(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Bt(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of yL(l))s.add(u);let a=0;return jn(s).pipe(Qg(l=>o.has(l)?function vX(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!sL(i)&&(o[Xg]=i.title),function yX(t,e,n,r){const i=fT(t);if(0===i.length)return Bt({});const o={};return jn(i).pipe(Pi(s=>function IX(t,e,n,r){var i;const o=null!==(i=om(e))&&void 0!==i?i:r,s=qh(t,o);return tc(s.resolve?s.resolve(e,n):Bs(o,()=>s(e,n)))}(t[s],e,n,r).pipe(ec(),Mi(a=>{o[s]=a}))),dT(1),function MY(t){return vt(()=>t)}(o),Cu(s=>gL(s)?Ws:EI(s)))}(o,t,e,r).pipe(vt(s=>(t._resolvedData=s,t.data=CT(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=CT(l,l.parent,t).resolve,Bt(void 0))),Mi(()=>a++),dT(1),Pi(l=>a===s.size?Bt(n):Ws))})}(this.paramsInheritanceStrategy,this.environmentInjector),Mi({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",us.NoDataFromResolver)}}))}),Mi(h=>{const g=new uQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),NT(u=>{const h=g=>{var m;const v=[];null!==(m=g.routeConfig)&&void 0!==m&&m.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Mi(b=>{g.component=b}),vt(()=>{})));for(const b of g.children)v.push(...h(b));return v};return yI(h(u.targetSnapshot.root)).pipe(CI(null),$h(1))}),NT(()=>this.afterPreactivation()),Pr(()=>{var u;const{currentSnapshot:h,targetSnapshot:g}=s,m=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,h.root,g.root);return m?jn(m).pipe(vt(()=>s)):Bt(s)}),vt(u=>{const h=function IQ(t,e,n){const r=im(t,e._root,n?n._root:void 0);return new nL(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,s}),Mi(()=>{this.events.next(new yT)}),((t,e,n,r)=>vt(i=>(new PQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$h(1),Mi({next:u=>{var h;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ga(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(h=this.titleStrategy)||void 0===h||h.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function xY(t){return Et((e,n)=>{Ao(t).subscribe(Ot(n,()=>n.complete(),fn)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Mi(u=>{throw u}))),hT(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",us.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Cu(u=>{if(l=!0,hL(u))this.events.next(new Hh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function CQ(t){return hL(t)&&jh(t.url)}(u)?this.events.next(new IT(u.url)):s.resolve(!1);else{var h;this.events.next(new xI(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(h=s.targetSnapshot)&&void 0!==h?h:void 0));try{s.resolve(r.errorHandler(u))}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Ws}))}))}cancelNavigationTransition(r,i,o){const s=new Hh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function AX(t){return t!==nm}let SX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(PX),providedIn:"root"}),e})();class RX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let PX=(()=>{var t;class e extends RX{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),bL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:()=>Ge(MX),providedIn:"root"}),e})(),MX=(()=>{var t;class e extends bL{constructor(){super(...arguments),this.location=Ge(Jl),this.urlSerializer=Ge(Tu),this.options=Ge(Yh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Ge(OT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Bh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rL(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof rm)this.stateMemento=this.createStateMemento();else if(r instanceof zh)this.rawUrlTree=i.initialUrl;else if(r instanceof ZF){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof yT?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Hh&&(r.code===us.GuardRejected||r.code===us.NoDataFromResolver)?this.restoreHistory(i):r instanceof xI?this.restoreHistory(i,!0):r instanceof Ga&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var cm=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(cm||{});function TL(t,e){t.events.pipe(Uo(n=>n instanceof Ga||n instanceof Hh||n instanceof xI||n instanceof zh),vt(n=>n instanceof Ga||n instanceof zh?cm.COMPLETE:n instanceof Hh&&(n.code===us.Redirect||n.code===us.SupersededByNewNavigation)?cm.REDIRECTING:cm.FAILED),Uo(n=>n!==cm.REDIRECTING),$h(1)).subscribe(()=>{e()})}function xX(t){throw t}const NX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Ge(Ok),this.stateManager=Ge(bL),this.options=Ge(Yh,{optional:!0})||{},this.pendingTasks=Ge(Cg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Ge(LI),this.urlSerializer=Ge(Tu),this.location=Ge(Jl),this.urlHandlingStrategy=Ge(OT),this._events=new L,this.errorHandler=this.options.errorHandler||xX,this.navigated=!1,this.routeReuseStrategy=Ge(SX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=Ge(Qh,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!Ge(NI,{optional:!0}),this.eventsSubscription=new Ke,this.isNgZoneEnabled=Ge(Se)instanceof Se&&Se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Hh&&i.code!==us.Redirect&&i.code!==us.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ga)this.navigated=!0;else if(i instanceof IT){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||AX(o.source)};this.scheduleNavigation(a,nm,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function FX(t){return!(t instanceof yT||t instanceof IT)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nm,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ST),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a;let m,g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{m=qF(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return WF(m,r,g,null!=h?h:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=jh(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,nm,null,i)}navigate(r,i={skipLocationChange:!1}){return function OX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Te(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...NX}:!1===i?{...kX}:i,jh(r))return LF(this.currentUrlTree,r,o);const s=this.parseUrl(r);return LF(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((m,v)=>{l=m,u=v});const g=this.pendingTasks.add();return TL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),nc=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new L,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const h=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=r.events.subscribe(g=>{g instanceof Ga&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function qP(t,e,n){return function Z3(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?GP:du}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pr),E(Qs),$l("tabindex"),E($a),E(Ve),E(Ds))},t.\u0275dir=kt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Wt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ss("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Tn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Oh],skipLocationChange:[Tn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Oh],replaceUrl:[Tn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Oh],routerLink:"routerLink"},standalone:!0,features:[Z1,f]}),e})();class DL{}let $X=(()=>{var t;class e{preload(r,i){return i().pipe(Cu(()=>Bt(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),UX=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Uo(r=>r instanceof Ga),Qg(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=LC(u.providers,r,`Route: ${u.path}`));const h=null!==(s=u._injector)&&void 0!==s?s:r,g=null!==(a=u._loadedInjector)&&void 0!==a?a:h;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return jn(o).pipe(Vh())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):Bt(null);const s=o.pipe(Pi(a=>{var l;return null===a?Bt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?jn([s,this.loader.loadComponent(i)]).pipe(Vh()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(pr),ze(Gk),ze(ai),ze(DL),ze(kT))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const FT=new ot("");let AL=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof rm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ga?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof zh&&r.code===MI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eL&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new eL(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function CM(){throw new Error("invalid")}()},t.\u0275prov=St({token:t,factory:t.\u0275fac}),e})();function Js(t,e){return{\u0275kind:t,\u0275providers:e}}function RL(){const t=Ge(fr);return e=>{var n,r;const i=t.get(Yl);if(e!==i.components[0])return;const o=t.get(pr),s=t.get(PL);1===t.get(LT)&&o.initialNavigation(),null===(n=t.get(ML,null,Gt.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(FT,null,Gt.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const PL=new ot("",{factory:()=>new L}),LT=new ot("",{providedIn:"root",factory:()=>1}),ML=new ot("");function zX(t){return Js(0,[{provide:ML,useExisting:UX},{provide:DL,useExisting:t}])}function qX(t){return Js(9,[{provide:wL,useValue:TX},{provide:CL,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const xL=new ot("ROUTER_FORROOT_GUARD"),WX=[Jl,{provide:Tu,useClass:pT},pr,Du,{provide:Qs,useFactory:function SL(t){return t.routerState.root},deps:[pr]},kT,[]];let VT=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[WX,[],{provide:Qh,multi:!0,useValue:r},{provide:xL,useFactory:XX,deps:[[pr,new su,new kl]]},{provide:Yh,useValue:i||{}},null!=i&&i.useHash?{provide:Ds,useClass:RO}:{provide:Ds,useClass:SO},{provide:FT,useFactory:()=>{const t=Ge(Q7),e=Ge(Se),n=Ge(Yh),r=Ge(LI),i=Ge(Tu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new AL(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?zX(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?JX(i):[],null!=i&&i.bindToComponentInputs?Js(8,[lL,{provide:NI,useExisting:lL}]).\u0275providers:[],null!=i&&i.enableViewTransitions?qX().\u0275providers:[],[{provide:NL,useFactory:RL},{provide:Tb,multi:!0,useExisting:NL}]]}}static forChild(r){return{ngModule:e,providers:[{provide:Qh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(xL,8))},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({}),e})();function XX(t){return"guarded"}function JX(t){return["disabled"===t.initialNavigation?Js(3,[{provide:Yy,multi:!0,useFactory:()=>{const e=Ge(pr);return()=>{e.setUpLocationChangeListener()}}},{provide:LT,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Js(2,[{provide:LT,useValue:0},{provide:Yy,multi:!0,deps:[fr],useFactory:e=>{const n=e.get(AW,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(pr),o=e.get(PL);TL(i,()=>{r(!0)}),e.get(LI).afterPreactivation=()=>(r(!0),o.closed?Bt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const NL=new ot("");function um(t){return(um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vn(t,e,n){return(e=function tJ(t){var e=function eJ(t,e){if("object"!=um(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==um(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zs=oe(9360);(0,Zs.registerVersion)("firebase","10.8.0","app");class iJ extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}}const VI={setInterval(t,e,...n){const{delegate:r}=VI;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=VI;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class kL extends iJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return VI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&VI.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,pe(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const $T={now:()=>($T.delegate||Date).now(),delegate:void 0};class dm{constructor(e,n=dm.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}dm.now=$T.now;class OL extends dm{constructor(e,n=dm.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const aJ=new class sJ extends OL{}(class oJ extends kL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),UT=new OL(kL),BT=new Nh("ANGULARFIRE2_VERSION");class jT{constructor(){return((t,e)=>{const n=(0,Zs.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(cJ)}}const cJ="app-check";function Xh(){}class FL{constructor(e,n=aJ){vn(this,"zone",void 0),vn(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class uJ{constructor(e){vn(this,"zone",void 0),vn(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xh,{},Xh,Xh)),n.pipe(Mi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let HT=(()=>{var t;class e{constructor(r){vn(this,"ngZone",void 0),vn(this,"outsideAngular",void 0),vn(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new FL(Zone.current)),this.insideAngular=r.run(()=>new FL(Zone.current,UT)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(ze(Se))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function Jh(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function LL(t){return t.pipe(Zl(Jh().outsideAngular))}function co(t){return function hJ(t){return function(n){return(n=n.lift(new uJ(t.ngZone))).pipe(Lh(t.outsideAngular),Zl(t.insideAngular))}}(Jh())(t)}var Bo=oe(8368);Bo.c.registerVersion("firebase","10.8.0","app-compat");const mJ=["ngOnDestroy"];class VL{constructor(e){return e}}const hm=new ot("angularfire2.app.options"),fm=new ot("angularfire2.app.name");function $I(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Bo.c.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Bo.c.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;yJ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new VL(s)}const yJ=(t,...e)=>{},IJ={provide:VL,useFactory:$I,deps:[hm,Se,[new su,fm]]};let EJ=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:hm,useValue:r},{provide:fm,useValue:i}]}}constructor(r){Bo.c.registerVersion("angularfire",BT.full,"core"),Bo.c.registerVersion("angularfire",BT.full,"app-compat"),Bo.c.registerVersion("angular",i8.full,r.toString())}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(ze(Lo))}),vn(e,"\u0275mod",Zo({type:t})),vn(e,"\u0275inj",Fo({providers:[IJ]})),e})();function zT(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function wJ(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||($L("error",`${e} was already initialized on the ${n} Firebase App with different settings.${CJ?" You may need to reload as Firebase is not HMR aware.":""}`),$L("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const CJ=typeof module<"u"&&!!module.hot,$L=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),oe(864);class TJ extends L{constructor(e=1/0,n=1/0,r=$T){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function GT(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new xn({next:()=>{r.unsubscribe(),t()}});return Ao(e(...n)).subscribe(r)}function UL(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function DJ(t={}){const{connector:e=(()=>new L),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,h=!1,g=!1;const m=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,h=g=!1},b=()=>{const A=s;v(),null==A||A.unsubscribe()};return Et((A,S)=>{u++,!g&&!h&&m();const H=l=null!=l?l:e();S.add(()=>{u--,0===u&&!g&&!h&&(a=GT(b,i))}),H.subscribe(S),!s&&u>0&&(s=new xn({next:U=>H.next(U),error:U=>{g=!0,m(),a=GT(v,n,U),H.error(U)},complete:()=>{h=!0,m(),a=GT(v,r),H.complete()}}),Ao(A).subscribe(s))})(o)}}({connector:()=>new TJ(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function BL(t,e){return yt(e)?Pr(()=>t,e):Pr(()=>t)}const jL=new ot("angularfire2.auth.use-emulator"),HL=new ot("angularfire2.auth.settings"),zL=new ot("angularfire2.auth.tenant-id"),GL=new ot("angularfire2.auth.langugage-code"),qL=new ot("angularfire2.auth.use-device-language"),WL=new ot("angularfire.auth.persistence"),KL=(t,e,n,r,i,o,s,a)=>zT(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))l.settings[u]=h;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let ea=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b){vn(this,"authState",void 0),vn(this,"idToken",void 0),vn(this,"user",void 0),vn(this,"idTokenResult",void 0),vn(this,"credential",void 0);const A=new L,S=Bt(void 0).pipe(Zl(a.outsideAngular),Pr(()=>s.runOutsideAngular(()=>Promise.resolve().then(oe.bind(oe,864)))),vt(()=>$I(r,s,i)),vt(H=>KL(H,s,l,h,g,m,u,v)),UL({bufferSize:1,refCount:!1}));if(mI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Bt(null);else{S.pipe(ec()).subscribe();const H=S.pipe(Pr(me=>me.getRedirectResult().then(Xe=>Xe,()=>null)),co,UL({bufferSize:1,refCount:!1})),U=S.pipe(Pr(me=>new Rn(Xe=>({unsubscribe:s.runOutsideAngular(()=>me.onAuthStateChanged(wt=>Xe.next(wt),wt=>Xe.error(wt),()=>Xe.complete()))})))),he=S.pipe(Pr(me=>new Rn(Xe=>({unsubscribe:s.runOutsideAngular(()=>me.onIdTokenChanged(wt=>Xe.next(wt),wt=>Xe.error(wt),()=>Xe.complete()))}))));this.authState=H.pipe(BL(U),Lh(a.outsideAngular),Zl(a.insideAngular)),this.user=H.pipe(BL(he),Lh(a.outsideAngular),Zl(a.insideAngular)),this.idToken=this.user.pipe(Pr(me=>me?jn(me.getIdToken()):Bt(null))),this.idTokenResult=this.user.pipe(Pr(me=>me?jn(me.getIdTokenResult()):Bt(null))),this.credential=function bJ(...t){const e=Yg(t),n=function mY(t,e){return"number"==typeof aT(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Ao(r[0]):Vh(n)(jn(r,e)):Ws}(H,A,this.authState.pipe(Uo(me=>!me))).pipe(vt(me=>null!=me&&me.user?me:null),Lh(a.outsideAngular),Zl(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(mJ.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(h=>n.run(()=>h)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,h)=>a.then(g=>{var m;const v=null==g?void 0:g(...h);return null!=r&&null!==(m=r.spy)&&void 0!==m&&m.apply&&r.spy.apply(o,h,v),v})})})}))(this,S,s,{spy:{apply:(H,U,he)=>{(H.startsWith("signIn")||H.startsWith("createUser"))&&he.then(me=>A.next(me))}}})}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(ze(hm),ze(fm,8),ze(Lo),ze(Se),ze(HT),ze(jL,8),ze(HL,8),ze(zL,8),ze(GL,8),ze(qL,8),ze(WL,8),ze(jT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),SJ=(()=>{var t;class e{constructor(){Bo.c.registerVersion("angularfire",BT.full,"auth-compat")}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)}),vn(e,"\u0275mod",Zo({type:t})),vn(e,"\u0275inj",Fo({providers:[ea]})),e})();const YL_firebaseConfig={apiKey:"AIzaSyCBAWFeVOqgBOCrTH9pDMjG_1DA6lbJZdA",authDomain:"codb-54514.firebaseapp.com",projectId:"codb-54514",storageBucket:"codb-54514.appspot.com",messagingSenderId:"377890774552",appId:"1:377890774552:web:4f408209f000ade59ead6d",measurementId:"G-CJ7SJDWPXP"};function rc(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Ei=new ot("");function UI(t){return null}function zV(t){return"number"==typeof t?t:parseFloat(t)}Promise.resolve(),Promise.resolve();let Ru=(()=>{var t;class e{constructor(){this._validator=UI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):UI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=kt({type:t,features:[f]}),e})();const vZ={provide:Ei,useExisting:kn(()=>fD),multi:!0};let fD=(()=>{var t;class e extends Ru{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>zV(r),this.createValidator=r=>function eV(t){return e=>{if(rc(e.value)||rc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=kt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ss("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[On([vZ]),an]}),e})();const yZ={provide:Ei,useExisting:kn(()=>pD),multi:!0};let pD=(()=>{var t;class e extends Ru{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>zV(r),this.createValidator=r=>function ZL(t){return e=>{if(rc(e.value)||rc(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=kt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ss("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[On([yZ]),an]}),e})();class AZ{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const oc=new AZ,JV=t=>e2(t),e2=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=xZ(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},xZ=t=>{const e=oc.get("platform");return Object.keys(o2).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):o2[n](t)})},mD=t=>!!(Pu(t,/iPad/i)||Pu(t,/Macintosh/i)&&YI(t)),t2=t=>Pu(t,/android|sink/i),YI=t=>jZ(t,"(any-pointer:coarse)"),n2=t=>r2(t)||i2(t),r2=t=>!!(t.cordova||t.phonegap||t.PhoneGap),i2=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},Pu=(t,e)=>e.test(t.navigator.userAgent),jZ=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},o2={ipad:mD,iphone:t=>Pu(t,/iPhone/i),ios:t=>Pu(t,/iPhone|iPod/i)||mD(t),android:t2,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return mD(t)||(t=>t2(t)&&!Pu(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:r2,capacitor:i2,electron:t=>Pu(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:YI,mobileweb:t=>YI(t)&&!n2(t),desktop:t=>!YI(t),hybrid:n2};var ym=oe(1896),HZ=oe(9248);const zZ=["addListener","removeListener"],GZ=["addEventListener","removeEventListener"],qZ=["on","off"];function QI(t,e,n,r){if(yt(n)&&(r=n,n=void 0),r)return QI(t,e,n).pipe(lT(r));const[i,o]=function YZ(t){return yt(t.addEventListener)&&yt(t.removeEventListener)}(t)?GZ.map(s=>a=>t[s](e,a,n)):function WZ(t){return yt(t.addListener)&&yt(t.removeListener)}(t)?zZ.map(s2(t,e)):function KZ(t){return yt(t.on)&&yt(t.off)}(t)?qZ.map(s2(t,e)):[];if(!i&&sT(t))return Pi(s=>QI(s,e,n))(Ao(t));if(!i)throw new TypeError("Invalid event target");return new Rn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function s2(t,e){return n=>r=>t[n](e,r)}function a2(t,e=ur){return t=null!=t?t:QZ,Et((n,r)=>{let i,o=!0;n.subscribe(Ot(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function QZ(t,e){return t===e}let JZ=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new L,this.keyboardDidShow=new L,this.keyboardDidHide=new L,this.pause=new L,this.resume=new L,this.resize=new L,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},tf(this.pause,n,"pause",r),tf(this.resume,n,"resume",r),tf(this.backButton,n,"ionBackButton",r),tf(this.resize,this.win,"resize",r),tf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),tf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),JV(t).includes(e)))(this.win,n)}platforms(){return JV(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return ZZ(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(ze(Do),ze(Se))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZZ=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},tf=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let nf=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=l2,this.animated=c2,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof rm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,y.c)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=eee(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=l2,this.animated=c2,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(ze(JZ),ze(Jl),ze(Tu),ze(pr,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const eee=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},l2="auto",c2=void 0;let _D=(()=>{class t{get(n,r){const i=vD();return i?i.get(n,r):null}getBoolean(n,r){const i=vD();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=vD();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const u2=new ot("USERCONFIG"),vD=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class d2{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Im=(()=>{class t{constructor(){this.zone=Ge(Se),this.applicationRef=Ge(Yl)}create(n,r,i){return new tee(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class tee{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(nee(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const nee=(t,e,n,r,i,o,s,a,l,u,h)=>{const m=function bW(t,e){const n=ln(t),r=e.elementInjector||Fl();return new Eg(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:fr.create({providers:iee(l),parent:n})}),v=m.instance,b=m.location.nativeElement;if(l&&(h&&void 0!==v[h]&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),Object.assign(v,l)),u)for(const S of u)b.classList.add(S);const A=h2(t,v,b);return s.appendChild(b),r.attachView(m.hostView),i.set(b,m),o.set(b,A),b},ree=[ym.L,ym.a,ym.b,ym.c,ym.d],h2=(t,e,n)=>t.run(()=>{const r=ree.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),f2=new ot("NavParamsToken"),iee=t=>[{provide:f2,useValue:t},{provide:d2,useFactory:oee,deps:[f2]}],oee=t=>new d2(t),p2=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),ID=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},g2=(t,e)=>!e||t.stackId!==e.stackId,_ee=(t,e)=>{if(!t)return;const n=m2(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},m2=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),_2=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class vee{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?m2(e):void 0}createView(e,n){var r;const i=ID(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=h2(this.zone,e.instance,o);return{id:this.nextId++,stackId:_ee(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=ID(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=g2(e,l);u&&(o="back",s=void 0);const h=this.views.slice();let g;const m=this.router;m.getCurrentNavigation?g=m.getCurrentNavigation():null!==(n=m.navigations)&&void 0!==n&&n.value&&(g=m.navigations.value),null!==(r=g)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),b=this.insertView(e,o);v||e.ref.changeDetectorRef.detectChanges();const A=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==A&&(a=A),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>yee(e,b,h,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&v2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(_2),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?p2(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):p2(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,y.c)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const yee=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{v2(t,e,n,r,i),o()})}):Promise.resolve(),v2=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(_2)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let y2=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new q(null),this.activated=null,this._activatedRoute=null,this.name=cn,this.stackWillChange=new ct,this.stackDidChange=new ct,this.activateEvents=new ct,this.deactivateEvents=new ct,this.parentContexts=Ge(Du),this.location=Ge(rs),this.environmentInjector=Ge(ai),this.inputBinder=Ge(I2,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=Ge(_D),this.navCtrl=Ge(nf),this.nativeEl=o.nativeElement,this.name=n||cn,this.tabsPrefix="true"===r?ID(s,l):void 0,this.stackCtrl=new vee(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,HZ.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,h=this.parentContexts.getOrCreateContext(this.name).children,g=new q(null),m=this.createActivatedRouteProxy(g,n),v=new Iee(m,h,this.location.injector),b=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(b,{index:this.location.length,injector:v,environmentInjector:null!=r?r:this.environmentInjector}),g.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:g2(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new Qs;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(Uo(i=>!!i),Pr(i=>this.currentActivatedRoute$.pipe(Uo(o=>null!==o&&o.component===i),Pr(o=>o&&o.activatedRoute[r]),a2())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)($l("name"),$l("tabs"),E(Jl),E(Ve),E(pr),E(Se),E(Qs),E(t,12))},t.\u0275dir=kt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Iee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qs?this.route:e===Du?this.childContexts:this.parent.get(e,n)}}const I2=new ot("");let Eee=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=yI([r.queryParams,r.params,r.data]).pipe(Pr(([o,s,a],l)=>(a={...o,...s,...a},0===l?Bt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=TO(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();function Cee(t){return null!=t&&t.componentInputBindingEnabled?new Eee:null}let Dee=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(E(Ds),E(nf),E(Ve),E(pr),E(nc,8))},t.\u0275dir=kt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Wt("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f]}),t})();const E2=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class w2{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}oe(388),oe(6256),oe(8512),oe(6556),oe(2528);var kee=oe(8523),Oee=oe(9637),C2=(oe(3452),oe(3816)),Fee=(oe(4829),oe(2992));oe(6560),oe(2784);const Vee=kee.i,$ee=function(){var t=(0,y.c)(function*(e,n){if(!(typeof window>"u"))return yield Vee(),(0,Fee.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),mt=["*"],Qee=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Xee=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Vn=(t,e,n)=>{n.forEach(r=>t[r]=QI(e,r))};function It(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Qee(n,i),o&&Xee(n,o),n}}let Mu=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(st),E(Ve),E(Se))},t.\u0275cmp=He({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:mt,decls:1,vars:0,template:function(n,r){1&n&&(ft(),ht(0))},encapsulation:2,changeDetection:0}),t=(0,lt.UN)([It({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),b2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Vn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return t.\u0275fac=function(n){return new(n||t)(E(st),E(Ve),E(Se))},t.\u0275cmp=He({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:mt,decls:1,vars:0,template:function(n,r){1&n&&(ft(),ht(0))},encapsulation:2,changeDetection:0}),t=(0,lt.UN)([It({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t),t})(),wm=(()=>{class t extends y2{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)($l("name"),$l("tabs"),E(Jl),E(Ve),E(pr),E(Se),E(Qs),E(t,12))},t.\u0275dir=kt({type:t,selectors:[["ion-router-outlet"]],features:[an]}),t})(),JI=(()=>{class t extends Dee{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[an]}),t})();const bne={provide:Ei,useExisting:kn(()=>T2),multi:!0};let T2=(()=>{class t extends fD{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ss("max",r._enabled?r.max:null)},features:[On([bne]),an]}),t})();const Tne={provide:Ei,useExisting:kn(()=>D2),multi:!0};let D2=(()=>{class t extends pD{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=kt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ss("min",r._enabled?r.min:null)},features:[On([Tne]),an]}),t})(),Dne=(()=>{class t extends w2{constructor(){super(C2.m),this.angularDelegate=Ge(Im),this.injector=Ge(fr),this.environmentInjector=Ge(ai)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})();class Ane extends w2{constructor(){super(C2.c),this.angularDelegate=Ge(Im),this.injector=Ge(fr),this.environmentInjector=Ge(ai)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Sne=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Oee.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function Lee(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(oe.e(4448).then(oe.t.bind(oe,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(oe.e(488).then(oe.t.bind(oe,6304,23)))}return Promise.all(t)}().then(()=>$ee(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:E2,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let Rne=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:u2,useValue:n},{provide:Yy,useFactory:Sne,multi:!0,deps:[u2,Do,Se]},{provide:I2,useFactory:Cee,deps:[pr]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({providers:[Im,Dne,Ane],imports:[GO]}),t})(),Pne=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{alert("Login riuscito!"),this.router.navigate(["/home"])}).catch(a=>{alert("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ea),E(pr))},t.\u0275cmp=He({type:t,selectors:[["app-login"]],decls:18,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["type","email","id","login-email","placeholder","Email",1,"field1"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center","height","2.5rem",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(le(0,"body"),at(1,"img",0),le(2,"div",1)(3,"div",2),at(4,"img",3)(5,"input",4),Ce(),le(6,"div",2),at(7,"img",5)(8,"input",6),Ce(),le(9,"button",7),Wt("click",function(){return i.login()}),le(10,"div",8),at(11,"img",9),le(12,"p",10),Dt(13,"Login"),Ce()()()(),le(14,"p",11),Dt(15,"Non possiedi un account?"),le(16,"strong",12),Wt("click",function(){return i.toRegister()}),Dt(17,"Registrati"),Ce()()())}}),e})();function CD(){return Et((t,e)=>{let n,r=!1;t.subscribe(Ot(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var Ct,ZI=oe(4920),ta=oe(5976),hn=oe(7144),Mne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ps={},bD=bD||{},nn=Mne||self;function eE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Cm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var TD="closure_uid_"+(1e9*Math.random()>>>0),Nne=0;function kne(t,e,n){return t.call.apply(t.bind,arguments)}function One(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ki(t,e,n){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kne:One).apply(null,arguments)}function tE(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wi(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function sc(){this.s=this.s,this.o=this.o}sc.prototype.s=!1,sc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function xne(t){Object.prototype.hasOwnProperty.call(t,TD)&&t[TD]||(t[TD]=++Nne)}(this)},sc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function DD(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function S2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(eE(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Yi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Yi.prototype.h=function(){this.defaultPrevented=!0};var Lne=function(){if(!nn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};nn.addEventListener("test",n,e),nn.removeEventListener("test",n,e)}catch{}return t}();function bm(t){return/^[\s\xa0]*$/.test(t)}function nE(){var t=nn.navigator;return t&&(t=t.userAgent)?t:""}function na(t){return-1!=nE().indexOf(t)}function AD(t){return AD[" "](t),t}AD[" "]=function(){};var RD,t,$ne=na("Opera"),sf=na("Trident")||na("MSIE"),R2=na("Edge"),SD=R2||sf,P2=na("Gecko")&&!(-1!=nE().toLowerCase().indexOf("webkit")&&!na("Edge"))&&!(na("Trident")||na("MSIE"))&&!na("Edge"),Une=-1!=nE().toLowerCase().indexOf("webkit")&&!na("Edge");function M2(){var t=nn.document;return t?t.documentMode:void 0}e:{var PD="",MD=(t=nE(),P2?/rv:([^\);]+)(\)|;)/.exec(t):R2?/Edge\/([\d\.]+)/.exec(t):sf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Une?/WebKit\/(\S+)/.exec(t):$ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(MD&&(PD=MD?MD[1]:""),sf){var xD=M2();if(null!=xD&&xD>parseFloat(PD)){RD=String(xD);break e}}RD=PD}var Bne=nn.document&&sf&&(M2()||parseInt(RD,10))||void 0;function Tm(t,e){if(Yi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(P2){e:{try{AD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tm.$.h.call(this)}}wi(Tm,Yi);var jne={2:"touch",3:"pen",4:"mouse"};Tm.prototype.h=function(){Tm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dm="closure_listenable_"+(1e6*Math.random()|0),Hne=0;function zne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Hne,this.fa=this.ia=!1}function rE(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function kD(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function N2(t){const e={};for(const n in t)e[n]=t[n];return e}const k2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<k2.length;o++)n=k2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function iE(t){this.src=t,this.g={},this.h=0}function OD(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=A2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(rE(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function FD(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}iE.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=FD(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new zne(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var LD="closure_lm_"+(1e6*Math.random()|0),VD={};function F2(t,e,n,r,i){if(r&&r.once)return V2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)F2(t,e[o],n,r,i);return null}return n=jD(n),t&&t[Dm]?t.O(e,n,Cm(r)?!!r.capture:!!r,i):L2(t,e,n,!1,r,i)}function L2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Cm(i)?!!i.capture:!!i,a=UD(t);if(a||(t[LD]=a=new iE(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function qne(){const e=Wne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Lne||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(U2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function V2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)V2(t,e[o],n,r,i);return null}return n=jD(n),t&&t[Dm]?t.P(e,n,Cm(r)?!!r.capture:!!r,i):L2(t,e,n,!0,r,i)}function $2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)$2(t,e[o],n,r,i);else r=Cm(r)?!!r.capture:!!r,n=jD(n),t&&t[Dm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=FD(o=t.g[e],n,r,i))&&(rE(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=UD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=FD(e,n,r,i)),(n=-1<t?e[t]:null)&&$D(n))}function $D(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Dm])OD(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(U2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=UD(e))?(OD(n,t),0==n.h&&(n.src=null,e[LD]=null)):rE(t)}}}function U2(t){return t in VD?VD[t]:VD[t]="on"+t}function Wne(t,e){if(t.fa)t=!0;else{e=new Tm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$D(t),t=n.call(r,e)}return t}function UD(t){return(t=t[LD])instanceof iE?t:null}var BD="__closure_events_fn_"+(1e9*Math.random()>>>0);function jD(t){return"function"==typeof t?t:(t[BD]||(t[BD]=function(e){return t.handleEvent(e)}),t[BD])}function Ci(){sc.call(this),this.i=new iE(this),this.S=this,this.J=null}function xi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Yi(e,t);else if(e instanceof Yi)e.target=e.target||t;else{var i=e;O2(e=new Yi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=oE(s,r,!0,e)&&i}if(i=oE(s=e.g=t,r,!0,e)&&i,i=oE(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=oE(s=e.g=n[o],r,!1,e)&&i}function oE(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&OD(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wi(Ci,sc),Ci.prototype[Dm]=!0,Ci.prototype.removeEventListener=function(t,e,n,r){$2(this,t,e,n,r)},Ci.prototype.N=function(){if(Ci.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rE(n[r]);delete t.g[e],t.h--}}this.J=null},Ci.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ci.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var HD=nn.JSON.stringify;function Yne(){var t=zD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var B2=new class Kne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Xne,t=>t.reset());class Xne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Jne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Zne(t){nn.setTimeout(()=>{throw t},0)}let Am,Sm=!1,zD=new class Qne{constructor(){this.h=this.g=null}add(e,n){const r=B2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},j2=()=>{const t=nn.Promise.resolve(void 0);Am=()=>{t.then(ere)}};var ere=()=>{for(var t;t=Yne();){try{t.h.call(t.g)}catch(n){Zne(n)}var e=B2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sm=!1};function sE(t,e){Ci.call(this),this.h=t||1,this.g=e||nn,this.j=Ki(this.qb,this),this.l=Date.now()}function GD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function qD(t,e,n){if("function"==typeof t)n&&(t=Ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:nn.setTimeout(t,e||0)}function H2(t){t.g=qD(()=>{t.g=null,t.i&&(t.i=!1,H2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}wi(sE,Ci),(Ct=sE.prototype).ga=!1,Ct.T=null,Ct.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xi(this,"tick"),this.ga&&(GD(this),this.start()))}},Ct.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.N=function(){sE.$.N.call(this),GD(this),delete this.g};class tre extends sc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:H2(this)}N(){super.N(),this.g&&(nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rm(t){sc.call(this),this.h=t,this.g={}}wi(Rm,sc);var z2=[];function G2(t,e,n,r){Array.isArray(n)||(n&&(z2[0]=n.toString()),n=z2);for(var i=0;i<n.length;i++){var o=F2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function q2(t){kD(t.g,function(e,n){this.g.hasOwnProperty(n)&&$D(e)},t),t.g={}}function aE(){this.g=!0}function af(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ore(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return HD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Rm.prototype.N=function(){Rm.$.N.call(this),q2(this)},Rm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},aE.prototype.Ea=function(){this.g=!1},aE.prototype.info=function(){};var xu={},W2=null;function lE(){return W2=W2||new Ci}function K2(t){Yi.call(this,xu.Ta,t)}function Pm(t){const e=lE();xi(e,new K2(e))}function Y2(t,e){Yi.call(this,xu.STAT_EVENT,t),this.stat=e}function fo(t){const e=lE();xi(e,new Y2(e,t))}function Q2(t,e){Yi.call(this,xu.Ua,t),this.size=e}function Mm(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return nn.setTimeout(function(){t()},e)}xu.Ta="serverreachability",wi(K2,Yi),xu.STAT_EVENT="statevent",wi(Y2,Yi),xu.Ua="timingevent",wi(Q2,Yi);var cE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function WD(){}function Z2(){}WD.prototype.h=null;var QD,xm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function KD(){Yi.call(this,"d")}function YD(){Yi.call(this,"c")}function uE(){}function Nm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Rm(this),this.P=sre,this.V=new sE(t=SD?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e$}function e$(){this.i=null,this.g="",this.h=!1}wi(KD,Yi),wi(YD,Yi),wi(uE,WD),uE.prototype.g=function(){return new XMLHttpRequest},uE.prototype.i=function(){return{}},QD=new uE;var sre=45e3,t$={},XD={};function JD(t,e,n){t.L=1,t.A=pE(Wa(e)),t.u=n,t.S=!0,n$(t,null)}function n$(t,e){t.G=Date.now(),km(t),t.B=Wa(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),h$(n.i,"t",r),t.o=0,n=t.l.J,t.h=new e$,t.g=F$(t.l,n?e:null,!t.u),0<t.O&&(t.M=new tre(Ki(t.Pa,t,t.g),t.O)),G2(t.U,t.g,"readystatechange",t.nb),e=t.I?N2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pm(),function nre(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function r$(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function i$(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=are(t,n),i==XD){4==e&&(t.s=4,fo(14),r=!1),af(t.j,t.m,null,"[Incomplete Response]");break}if(i==t$){t.s=4,fo(15),af(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}af(t.j,t.m,i,null),ZD(t,i)}r$(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,fo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sA(e),e.M=!0,fo(11))):(af(t.j,t.m,n,"[Invalid Chunked Response]"),Nu(t),Om(t))}function are(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?XD:(n=Number(e.substring(n,r)),isNaN(n)?t$:(r+=1)+n>e.length?XD:(e=e.slice(r,r+n),t.o=r+n,e))}function km(t){t.Y=Date.now()+t.P,o$(t,t.P)}function o$(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Mm(Ki(t.lb,t),e)}function dE(t){t.C&&(nn.clearTimeout(t.C),t.C=null)}function Om(t){0==t.l.H||t.J||x$(t.l,t)}function Nu(t){dE(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,GD(t.V),q2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ZD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||eA(n.i,t)))if(!t.K&&eA(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;IE(n),vE(n)}oA(n),fo(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Mm(Ki(n.ib,n),6e3));if(1>=g$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ou(n,11)}else if((t.K||n.g==t)&&IE(n),!bm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const h=u[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=u[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(tA(o,o.h),o.h=null))}if(r.F){const A=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(r.Da=A,gr(r.I,r.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=O$(r,r.J?r.pa:null,r.Y),s.K){m$(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(dE(a),km(a)),r.g=s}else P$(r);0<n.j.length&&yE(n)}else"stop"!=u[0]&&"close"!=u[0]||Ou(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ou(n,7):iA(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Pm()}catch{}}function s$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(eE(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function cre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(eE(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function lre(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(eE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Ct=Nm.prototype).setTimeout=function(t){this.P=t},Ct.nb=function(t){t=t.target;const e=this.M;e&&3==ra(t)?e.l():this.Pa(t)},Ct.Pa=function(t){try{if(t==this.g)e:{const h=ra(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||SD||this.g&&(this.h.h||this.g.ja()||b$(this.g)))){this.J||4!=h||7==e||Pm(),dE(this);var n=this.g.da();this.ca=n;t:if(r$(this)){var r=b$(this.g);t="";var i=r.length,o=4==ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Nu(this),Om(this);var s="";break t}this.h.i=new nn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function rre(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bm(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,fo(12),Nu(this),Om(this);break e}af(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ZD(this,n)}this.S?(i$(this,h,s),SD&&this.i&&3==h&&(G2(this.U,this.V,"tick",this.mb),this.V.start())):(af(this.j,this.m,s,null),ZD(this,s)),4==h&&Nu(this),this.i&&!this.J&&(4==h?x$(this.l,this):(this.i=!1,km(this)))}else(function Are(t){const e={};t=(t.g&&2<=ra(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(bm(t[r]))continue;var n=Jne(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Gne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,fo(12)):(this.s=0,fo(13)),Nu(this),Om(this)}}}catch{}},Ct.mb=function(){if(this.g){var t=ra(this.g),e=this.g.ja();this.o<e.length&&(dE(this),i$(this,t,e),this.i&&4!=t&&km(this))}},Ct.cancel=function(){this.J=!0,Nu(this)},Ct.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function ire(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Pm(),fo(17)),Nu(this),this.s=2,Om(this)):o$(this,this.Y-t)};var a$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ku(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ku){this.h=t.h,hE(this,t.j),this.s=t.s,this.g=t.g,fE(this,t.m),this.l=t.l;var e=t.i,n=new Vm;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),l$(this,n),this.o=t.o}else t&&(e=String(t).match(a$))?(this.h=!1,hE(this,e[1]||"",!0),this.s=Fm(e[2]||""),this.g=Fm(e[3]||"",!0),fE(this,e[4]),this.l=Fm(e[5]||"",!0),l$(this,e[6]||"",!0),this.o=Fm(e[7]||"")):(this.h=!1,this.i=new Vm(null,this.h))}function Wa(t){return new ku(t)}function hE(t,e,n){t.j=n?Fm(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function l$(t,e,n){e instanceof Vm?(t.i=e,function mre(t,e){e&&!t.j&&(ac(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(u$(this,r),h$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Lm(e,pre)),t.i=new Vm(e,t.h))}function gr(t,e,n){t.i.set(e,n)}function pE(t){return gr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fm(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ku.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lm(e,c$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Lm(e,c$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lm(n,"/"==n.charAt(0)?fre:hre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lm(n,gre)),t.join("")};var c$=/[#\/\?@]/g,hre=/[#\?:]/g,fre=/[#\?]/g,pre=/[#\?@]/g,gre=/#/g;function Vm(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ac(t){t.g||(t.g=new Map,t.h=0,t.i&&function ure(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function u$(t,e){ac(t),e=lf(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function d$(t,e){return ac(t),e=lf(t,e),t.g.has(e)}function h$(t,e,n){u$(t,e),0<n.length&&(t.i=null,t.g.set(lf(t,e),DD(n)),t.h+=n.length)}function lf(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Ct=Vm.prototype).add=function(t,e){ac(this),this.i=null,t=lf(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ct.forEach=function(t,e){ac(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ct.ta=function(){ac(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},Ct.Z=function(t){ac(this);let e=[];if("string"==typeof t)d$(this,t)&&(e=e.concat(this.g.get(lf(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ct.set=function(t,e){return ac(this),this.i=null,d$(this,t=lf(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ct.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var _re=class{constructor(t,e){this.g=t,this.map=e}};function f$(t){this.l=t||vre,t=nn.PerformanceNavigationTiming?0<(t=nn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(nn.g&&nn.g.Ka&&nn.g.Ka()&&nn.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vre=10;function p$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function g$(t){return t.h?1:t.g?t.g.size:0}function eA(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function tA(t,e){t.g?t.g.add(e):t.h=e}function m$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function _$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return DD(t.i)}f$.prototype.cancel=function(){if(this.i=_$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var yre=class{stringify(t){return nn.JSON.stringify(t,void 0)}parse(t){return nn.JSON.parse(t,void 0)}};function Ire(){this.g=new yre}function Ere(t,e,n){const r=n||"";try{s$(t,function(i,o){let s=i;Cm(i)&&(s=HD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gE(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $m(t){this.l=t.ec||null,this.j=t.ob||!1}function mE(t,e){Ci.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wi($m,WD),$m.prototype.g=function(){return new mE(this.l,this.j)},$m.prototype.i=function(t){return function(){return t}}({}),wi(mE,Ci);var nA=0;function v$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Um(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bm(t)}function Bm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ct=mE.prototype).open=function(t,e){if(this.readyState!=nA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bm(this)},Ct.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||nn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Um(this)),this.readyState=nA},Ct.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bm(this)),this.g&&(this.readyState=3,Bm(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof nn.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;v$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},Ct.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Um(this):Bm(this),3==this.readyState&&v$(this)}},Ct.Za=function(t){this.g&&(this.response=this.responseText=t,Um(this))},Ct.Ya=function(t){this.g&&(this.response=t,Um(this))},Ct.ka=function(){this.g&&Um(this)},Ct.setRequestHeader=function(t,e){this.v.append(t,e)},Ct.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(mE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Cre=nn.JSON.parse;function Fr(t){Ci.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y$,this.L=this.M=!1}wi(Fr,Ci);var y$="",bre=/^https?$/i,Tre=["POST","PUT"];function I$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,E$(t),_E(t)}function E$(t){t.F||(t.F=!0,xi(t,"complete"),xi(t,"error"))}function w$(t){if(t.h&&typeof bD<"u"&&(!t.C[1]||4!=ra(t)||2!=t.da()))if(t.v&&4==ra(t))qD(t.La,0,t);else if(xi(t,"readystatechange"),4==ra(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(a$)[1]||null;!i&&nn.self&&nn.self.location&&(i=nn.self.location.protocol.slice(0,-1)),r=!bre.test(i?i.toLowerCase():"")}n=r}if(n)xi(t,"complete"),xi(t,"success");else{t.m=6;try{var o=2<ra(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",E$(t)}}finally{_E(t)}}}function _E(t,e){if(t.g){C$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xi(t,"ready");try{n.onreadystatechange=r}catch{}}}function C$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(nn.clearTimeout(t.A),t.A=null)}function ra(t){return t.g?t.g.readyState:0}function b$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case y$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function T$(t){let e="";return kD(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function rA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=T$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):gr(t,e,n))}function jm(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function D$(t){this.Ga=0,this.j=[],this.l=new aE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=jm("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=jm("baseRetryDelayMs",5e3,t),this.hb=jm("retryDelaySeedMs",1e4,t),this.eb=jm("forwardChannelMaxRetries",2,t),this.xa=jm("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new f$(t&&t.concurrentRequestLimit),this.Ja=new Ire,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function iA(t){if(A$(t),3==t.H){var e=t.W++,n=Wa(t.I);if(gr(n,"SID",t.K),gr(n,"RID",e),gr(n,"TYPE","terminate"),Hm(t,n),(e=new Nm(t,t.l,e)).L=2,e.A=pE(Wa(n)),n=!1,nn.navigator&&nn.navigator.sendBeacon)try{n=nn.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&nn.Image&&((new Image).src=e.A,n=!0),n||(e.g=F$(e.l,null),e.g.ha(e.A)),e.G=Date.now(),km(e)}k$(t)}function vE(t){t.g&&(sA(t),t.g.cancel(),t.g=null)}function A$(t){vE(t),t.u&&(nn.clearTimeout(t.u),t.u=null),IE(t),t.i.cancel(),t.m&&("number"==typeof t.m&&nn.clearTimeout(t.m),t.m=null)}function yE(t){if(!p$(t.i)&&!t.m){t.m=!0;var e=t.Na;Am||j2(),Sm||(Am(),Sm=!0),zD.add(e,t),t.C=0}}function S$(t,e){var n;n=e?e.m:t.W++;const r=Wa(t.I);gr(r,"SID",t.K),gr(r,"RID",n),gr(r,"AID",t.V),Hm(t,r),t.o&&t.s&&rA(r,t.o,t.s),n=new Nm(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=R$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tA(t.i,n),JD(n,r,e)}function Hm(t,e){t.na&&kD(t.na,function(n,r){gr(e,r,n)}),t.h&&s$({},function(n,r){gr(e,r,n)})}function R$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ki(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{Ere(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function P$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Am||j2(),Sm||(Am(),Sm=!0),zD.add(e,t),t.A=0}}function oA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Mm(Ki(t.Ma,t),N$(t,t.A)),t.A++,0))}function sA(t){null!=t.B&&(nn.clearTimeout(t.B),t.B=null)}function M$(t){t.g=new Nm(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Wa(t.wa);gr(e,"RID","rpc"),gr(e,"SID",t.K),gr(e,"AID",t.V),gr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gr(e,"TO",t.qa),gr(e,"TYPE","xmlhttp"),Hm(t,e),t.o&&t.s&&rA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=pE(Wa(e)),n.u=null,n.S=!0,n$(n,t)}function IE(t){null!=t.v&&(nn.clearTimeout(t.v),t.v=null)}function x$(t,e){var n=null;if(t.g==e){IE(t),sA(t),t.g=null;var r=2}else{if(!eA(t.i,e))return;n=e.F,m$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;xi(r=lE(),new Q2(r,n)),yE(t)}else P$(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Sre(t,e){return!(g$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Mm(Ki(t.Na,t,e),N$(t,t.C)),t.C++,0)))}(t,e)||2==r&&oA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ou(t,5);break;case 4:Ou(t,10);break;case 3:Ou(t,6);break;default:Ou(t,2)}}function N$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ou(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Ki(t.pb,t);n||(n=new ku("//www.google.com/images/cleardot.gif"),nn.location&&"http"==nn.location.protocol||hE(n,"https"),pE(n)),function wre(t,e){const n=new aE;if(nn.Image){const r=new Image;r.onload=tE(gE,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tE(gE,n,r,"TestLoadImage: error",!1,e),r.onabort=tE(gE,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tE(gE,n,r,"TestLoadImage: timeout",!1,e),nn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fo(2);t.H=0,t.h&&t.h.za(e),k$(t),A$(t)}function k$(t){if(t.H=0,t.ma=[],t.h){const e=_$(t.i);(0!=e.length||0!=t.j.length)&&(S2(t.ma,e),S2(t.ma,t.j),t.i.i.length=0,DD(t.j),t.j.length=0),t.h.ya()}}function O$(t,e,n){var r=n instanceof ku?Wa(n):new ku(n);if(""!=r.g)e&&(r.g=e+"."+r.g),fE(r,r.m);else{var i=nn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ku(null);r&&hE(o,r),e&&(o.g=e),i&&fE(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&gr(r,n,e),gr(r,"VER",t.ra),Hm(t,r),r}function F$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t.Ha&&!t.va?new $m({ob:n}):t.va)).Oa(t.J),e}function L$(){}function EE(){if(sf&&!(10<=Number(Bne)))throw Error("Environmental error: no available transport.")}function jo(t,e){Ci.call(this),this.g=new D$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!bm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new cf(this)}function V$(t){KD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function $$(){YD.call(this),this.status=1}function cf(t){this.g=t}function Ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function aA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function Hn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(Ct=Fr.prototype).Oa=function(t){this.M=t},Ct.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():QD.g(),this.C=function J2(t){return t.h||(t.h=t.i())}(this.u?this.u:QD),this.g.onreadystatechange=Ki(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void I$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=nn.FormData&&t instanceof nn.FormData,!(0<=A2(Tre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{C$(this),0<this.B&&((this.L=function Dre(t){return sf&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.ua,this)):this.A=qD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){I$(this,o)}},Ct.ua=function(){typeof bD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},Ct.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xi(this,"complete"),xi(this,"abort"),_E(this))},Ct.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_E(this,!0)),Fr.$.N.call(this)},Ct.La=function(){this.s||(this.G||this.v||this.l?w$(this):this.kb())},Ct.kb=function(){w$(this)},Ct.isActive=function(){return!!this.g},Ct.da=function(){try{return 2<ra(this)?this.g.status:-1}catch{return-1}},Ct.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cre(e)}},Ct.Ia=function(){return this.m},Ct.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=D$.prototype).ra=8,Ct.H=1,Ct.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Nm(this,this.l,t);let o=this.s;if(this.U&&(o?(o=N2(o),O2(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=R$(this,i,e),gr(n=Wa(this.I),"RID",t),gr(n,"CVER",22),this.F&&gr(n,"X-HTTP-Session-Id",this.F),Hm(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(T$(o)))+"&"+e:this.o&&rA(n,this.o,o)),tA(this.i,i),this.bb&&gr(n,"TYPE","init"),this.P?(gr(n,"$req",e),gr(n,"SID","null"),i.aa=!0,JD(i,n,null)):JD(i,n,e),this.H=2}}else 3==this.H&&(t?S$(this,t):0==this.j.length||p$(this.i)||S$(this))},Ct.Ma=function(){if(this.u=null,M$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Mm(Ki(this.jb,this),t)}},Ct.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fo(10),vE(this),M$(this))},Ct.ib=function(){null!=this.v&&(this.v=null,vE(this),oA(this),fo(19))},Ct.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fo(2)):(this.l.info("Failed to ping google.com"),fo(1))},Ct.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ct=L$.prototype).Ba=function(){},Ct.Aa=function(){},Ct.za=function(){},Ct.ya=function(){},Ct.isActive=function(){return!0},Ct.Va=function(){},EE.prototype.g=function(t,e){return new jo(t,e)},wi(jo,Ci),jo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fo(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=O$(t,null,t.Y),yE(t)},jo.prototype.close=function(){iA(this.g)},jo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=HD(t),t=n);e.j.push(new _re(e.fb++,t)),3==e.H&&yE(e)},jo.prototype.N=function(){this.g.h=null,delete this.j,iA(this.g),delete this.g,jo.$.N.call(this)},wi(V$,KD),wi($$,YD),wi(cf,L$),cf.prototype.Ba=function(){xi(this.g,"a")},cf.prototype.Aa=function(t){xi(this.g,new V$(t))},cf.prototype.za=function(t){xi(this.g,new $$)},cf.prototype.ya=function(){xi(this.g,"b")},wi(Ms,function Rre(){this.blockSize=-1}),Ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ms.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)aA(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){aA(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){aA(this,r),i=0;break}}this.h=i,this.i+=e},Ms.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Pre={};function lA(t){return-128<=t&&128>t?function Vne(t,e){var n=Pre;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Hn([0|e],0>e?-1:0)}):new Hn([0|t],0>t?-1:0)}function ia(t){if(isNaN(t)||!isFinite(t))return uf;if(0>t)return Ni(ia(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=cA;return new Hn(e,0)}var cA=4294967296,uf=lA(0),uA=lA(1),B$=lA(16777216);function Ka(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ds(t){return-1==t.h}function Ni(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Hn(n,~t.h).add(uA)}function wE(t,e){return t.add(Ni(e))}function CE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function zm(t,e){this.g=t,this.h=e}function bE(t,e){if(Ka(e))throw Error("division by zero");if(Ka(t))return new zm(uf,uf);if(ds(t))return e=bE(Ni(t),e),new zm(Ni(e.g),Ni(e.h));if(ds(e))return e=bE(t,Ni(e)),new zm(Ni(e.g),e.h);if(30<t.g.length){if(ds(t)||ds(e))throw Error("slowDivide_ only works with positive integers.");for(var n=uA,r=e;0>=r.X(t);)n=j$(n),r=j$(r);var i=df(n,1),o=df(r,1);for(r=df(r,2),n=df(n,2);!Ka(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=df(r,1),n=df(n,1)}return e=wE(t,i.R(e)),new zm(i,e)}for(i=uf;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=ia(n)).R(e);ds(s)||0<s.X(t);)s=(o=ia(n-=r)).R(e);Ka(o)&&(o=uA),i=i.add(o),t=wE(t,s)}return new zm(i,t)}function j$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Hn(n,t.h)}function df(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Hn(i,t.h)}(Ct=Hn.prototype).ea=function(){if(ds(this))return-Ni(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:cA+r)*e,e*=cA}return t},Ct.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ka(this))return"0";if(ds(this))return"-"+Ni(this).toString(t);for(var e=ia(Math.pow(t,6)),n=this,r="";;){var i=bE(n,e).g,o=((0<(n=wE(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ka(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Ct.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},Ct.X=function(t){return ds(t=wE(this,t))?-1:Ka(t)?0:1},Ct.abs=function(){return ds(this)?Ni(this):this},Ct.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new Hn(n,-2147483648&n[n.length-1]?-1:0)},Ct.R=function(t){if(Ka(this)||Ka(t))return uf;if(ds(this))return ds(t)?Ni(this).R(Ni(t)):Ni(Ni(this).R(t));if(ds(t))return Ni(this.R(Ni(t)));if(0>this.X(B$)&&0>t.X(B$))return ia(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,CE(n,2*r+2*i),n[2*r+2*i+1]+=o*l,CE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,CE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,CE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Hn(n,0)},Ct.gb=function(t){return bE(this,t).h},Ct.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Hn(n,this.h&t.h)},Ct.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Hn(n,this.h|t.h)},Ct.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Hn(n,this.h^t.h)},EE.prototype.createWebChannel=EE.prototype.g,jo.prototype.send=jo.prototype.u,jo.prototype.open=jo.prototype.m,jo.prototype.close=jo.prototype.close,cE.NO_ERROR=0,cE.TIMEOUT=8,cE.HTTP_ERROR=6,X2.COMPLETE="complete",Z2.EventType=xm,xm.OPEN="a",xm.CLOSE="b",xm.ERROR="c",xm.MESSAGE="d",Ci.prototype.listen=Ci.prototype.O,Fr.prototype.listenOnce=Fr.prototype.P,Fr.prototype.getLastError=Fr.prototype.Sa,Fr.prototype.getLastErrorCode=Fr.prototype.Ia,Fr.prototype.getStatus=Fr.prototype.da,Fr.prototype.getResponseJson=Fr.prototype.Wa,Fr.prototype.getResponseText=Fr.prototype.ja,Fr.prototype.send=Fr.prototype.ha,Fr.prototype.setWithCredentials=Fr.prototype.Oa,Ms.prototype.digest=Ms.prototype.l,Ms.prototype.reset=Ms.prototype.reset,Ms.prototype.update=Ms.prototype.j,Hn.prototype.add=Hn.prototype.add,Hn.prototype.multiply=Hn.prototype.R,Hn.prototype.modulo=Hn.prototype.gb,Hn.prototype.compare=Hn.prototype.X,Hn.prototype.toNumber=Hn.prototype.ea,Hn.prototype.toString=Hn.prototype.toString,Hn.prototype.getBits=Hn.prototype.D,Hn.fromNumber=ia,Hn.fromString=function U$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Ni(U$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ia(Math.pow(e,8)),r=uf,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=ia(Math.pow(e,o)),r=r.R(o).add(ia(s))):r=(r=r.R(n)).add(ia(s))}return r};var Mre=Ps.createWebChannelTransport=function(){return new EE},xre=Ps.getStatEventTarget=function(){return lE()},dA=Ps.ErrorCode=cE,Nre=Ps.EventType=X2,kre=Ps.Event=xu,H$=Ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},TE=(Ps.FetchXmlHttpFactory=$m,Ps.WebChannel=Z2),Ore=Ps.XhrIo=Fr,Fre=Ps.Md5=Ms,hf=Ps.Integer=Hn;const z$="@firebase/firestore";class bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");let ff="10.8.0";const lc=new ta.YJ("@firebase/firestore");function pf(){return lc.logLevel}function Be(t,...e){if(lc.logLevel<=ta.Ge.DEBUG){const n=e.map(hA);lc.debug(`Firestore (${ff}): ${t}`,...n)}}function Hr(t,...e){if(lc.logLevel<=ta.Ge.ERROR){const n=e.map(hA);lc.error(`Firestore (${ff}): ${t}`,...n)}}function So(t,...e){if(lc.logLevel<=ta.Ge.WARN){const n=e.map(hA);lc.warn(`Firestore (${ff}): ${t}`,...n)}}function hA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function xt(t="Unexpected state"){const e=`FIRESTORE (${ff}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function Ft(t,e){t||xt()}function gt(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends hn.kx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class G${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $re{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bi.UNAUTHENTICATED))}shutdown(){}}class Ure{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bre{constructor(e){this.t=e,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hi,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,y.c)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new G$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new bi(e)}}class jre{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hre{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jre(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft("string"==typeof n.token),this.R=n.token,new q$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class W${static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Gre(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Zt(t,e){return t<e?-1:t>e?1:0}function gf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function K$(t){return t+"\0"}class br{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new br(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new br(0,0))}static max(){return new Ut(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gm{constructor(e,n,r){void 0===n?n=0:n>e.length&&xt(),void 0===r?r=e.length-n:r>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Gm.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class In extends Gm{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new In(n)}static emptyPath(){return new In([])}}const qre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Gm{construct(e,n,r){return new mr(e,n,r)}static isValidIdentifier(e){return qre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Le(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Le(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Le(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(n)}static emptyPath(){return new mr([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(In.fromString(e))}static fromName(e){return new _t(In.fromString(e).popFirst(5))}static empty(){return new _t(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===In.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new In(e.slice()))}}class mf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function fA(t){return t.fields.find(e=>2===e.kind)}function Fu(t){return t.fields.filter(e=>2!==e.kind)}mf.UNKNOWN_ID=-1;class Lu{constructor(e,n){this.fieldPath=e,this.kind=n}}class _f{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new _f(0,Ho.min())}}function Y$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(1e9===r?new br(n+1,0):new br(n,r));return new Ho(i,_t.empty(),e)}function Q$(t){return new Ho(t.readTime,t.key,-1)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Ut.min(),_t.empty(),-1)}static max(){return new Ho(Ut.max(),_t.empty(),-1)}}function pA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_t.comparator(t.documentKey,e.documentKey),0!==n?n:Zt(t.largestBatchId,e.largestBatchId))}const X$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function cc(t){return gA.apply(this,arguments)}function gA(){return gA=(0,y.c)(function*(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==X$)throw t;Be("LocalStore","Unexpectedly lost primary lease")}),gA.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new ne((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class DE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new qm(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=mA(r.target.error);this.V.reject(new qm(e,i))}}static open(e,n,r,i){try{return new DE(n,e.transaction(i,r))}catch(o){throw new qm(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Qre(n)}}class hs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===hs.S((0,hn.Su)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),Vu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,hn.yy)())return!1;if(hs.C())return!0;const e=(0,hn.Su)(),n=hs.S(e),r=0<n&&n<10,i=hs.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,y.c)(function*(){return n.db||(Be("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new qm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Le(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Le(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new qm(e,a))},o.onupgradeneeded=s=>{Be("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{Be("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,y.c)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=DE.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),ne.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if(Be("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yre{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Vu(this.k.delete())}}class qm extends Le{constructor(e,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function uc(t){return"IndexedDbTransactionError"===t.name}class Qre{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?(Be("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Vu(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),Vu(this.store.add(e))}get(e){return Vu(this.store.get(e)).next(n=>(void 0===n&&(n=null),Be("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),Vu(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),Vu(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new ne((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ne((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ne((r,i)=>{n.onerror=o=>{const s=mA(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new ne((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new Yre(a),u=n(a.primaryKey,a.value,l);if(u instanceof ne){const h=u.catch(g=>(l.done(),ne.reject(g)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>ne.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vu(t){return new ne((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=mA(r.target.error);n(i)}})}let Z$=!1;function mA(t){const e=hs.S((0,hn.Su)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z$||(Z$=!0,setTimeout(()=>{throw r},0)),r}}return t}class Xre{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;Be("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.c)(function*(){n.task=null;try{Be("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){uc(r)?Be("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield cc(r)}yield n.ee(6e4)}))}}class Jre{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,y.c)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return ne.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Be("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>(Be("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=Q$(o);pA(s,r)>0&&(r=s)}),new Ho(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let zo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Wm(t){return null==t}function Km(t){return 0===t&&1/t==-1/0}function eU(t){return"number"==typeof t&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Qi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tU(e)),e=Zre(t.get(n),e);return tU(e)}function Zre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function tU(t){return t+"\x01\x01"}function oa(t){const e=t.length;if(Ft(e>=2),2===e)return Ft("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),In.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&xt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:xt()}o=s+2}return new In(r)}const nU=["userId","batchId"];function AE(t,e){return[t,Qi(e)]}function rU(t,e,n){return[t,Qi(e),n]}const eie={},tie=["prefixPath","collectionGroup","readTime","documentId"],nie=["prefixPath","collectionGroup","documentId"],rie=["collectionGroup","readTime","prefixPath","documentId"],iie=["canonicalId","targetId"],oie=["targetId","path"],sie=["path","targetId"],aie=["collectionId","parent"],lie=["indexId","uid"],cie=["uid","sequenceNumber"],uie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],die=["indexId","uid","orderedDocumentKey"],hie=["userId","collectionPath","documentId"],fie=["userId","collectionPath","largestBatchId"],pie=["userId","collectionGroup","largestBatchId"],iU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gie=[...iU,"documentOverlays"],oU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sU=oU,mie=[...sU,"indexConfiguration","indexState","indexEntries"];class _A extends J${constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ti(t,e){const n=gt(t);return hs.M(n.ae,e)}function aU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lr{constructor(e,n){this.comparator=e,this.root=n||ki.EMPTY}insert(e,n){return new lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SE(this.root,e,this.comparator,!1)}getReverseIterator(){return new SE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SE(this.root,e,this.comparator,!0)}}class SE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:ki.RED,this.left=null!=i?i:ki.EMPTY,this.right=null!=o?o:ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ki(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ki(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cU(this.data.getIterator())}getIteratorFrom(e){return new cU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class cU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function vf(t){return t.hasNext()?t.getNext():void 0}class Ro{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Ro([])}unionWith(e){let n=new Qn(mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ro(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class uU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new uU("Invalid base64 string: "+o):o}}(e);return new fi(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const vie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hc(t){if(Ft(!!t),"string"==typeof t){let e=0;const n=vie.exec(t);if(Ft(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(t.seconds),nanos:Lr(t.nanos)}}function Lr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ya(t){return"string"==typeof t?fi.fromBase64String(t):fi.fromUint8Array(t)}function RE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function PE(t){const e=t.mapValue.fields.__previous_value__;return RE(e)?PE(e):e}function Ym(t){const e=hc(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}class yie{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ME={nullValue:"NULL_VALUE"};function gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RE(t)?4:pU(t)?9007199254740991:10:xt()}function sa(t,e){if(t===e)return!0;const n=gc(t);if(n!==gc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ym(t).isEqual(Ym(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=hc(i.timestampValue),a=hc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Ya(t.bytesValue).isEqual(Ya(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Lr(i.geoPointValue.latitude)===Lr(o.geoPointValue.latitude)&&Lr(i.geoPointValue.longitude)===Lr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lr(i.integerValue)===Lr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Lr(i.doubleValue),a=Lr(o.doubleValue);return s===a?Km(s)===Km(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return gf(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aU(s)!==aU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!sa(s[l],a[l])))return!1;return!0}(t,e);default:return xt()}var o}function Qm(t,e){return void 0!==(t.values||[]).find(n=>sa(n,e))}function mc(t,e){if(t===e)return 0;const n=gc(t),r=gc(e);if(n!==r)return Zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Lr(o.integerValue||o.doubleValue),l=Lr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return dU(t.timestampValue,e.timestampValue);case 4:return dU(Ym(t),Ym(e));case 5:return Zt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ya(o),l=Ya(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Zt(a[u],l[u]);if(0!==h)return h}return Zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Zt(Lr(o.latitude),Lr(s.latitude));return 0!==a?a:Zt(Lr(o.longitude),Lr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=mc(a[u],l[u]);if(h)return h}return Zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===pc.mapValue&&s===pc.mapValue)return 0;if(o===pc.mapValue)return 1;if(s===pc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=Zt(l[g],h[g]);if(0!==m)return m;const v=mc(a[l[g]],u[h[g]]);if(0!==v)return v}return Zt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw xt()}}function dU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zt(t,e);const n=hc(t),r=hc(e),i=Zt(n.seconds,r.seconds);return 0!==i?i:Zt(n.nanos,r.nanos)}function yf(t){return vA(t)}function vA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ya(t.bytesValue).toBase64():"referenceValue"in t?_t.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=vA(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${vA(n.fields[s])}`;return i+"}"}(t.mapValue):xt()}function $u(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yA(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function hU(t){return!!t&&"nullValue"in t}function fU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function NE(t){return!!t&&"mapValue"in t}function Jm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Jm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function Iie(t){return"nullValue"in t?ME:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?$u(fc.empty(),_t.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:xt()}function Eie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?$u(fc.empty(),_t.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?pc:xt()}function gU(t,e){const n=mc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function mU(t,e){const n=mc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!NE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(n)}setAll(e){let n=mr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Jm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());NE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];NE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Oi(Jm(this.value))}}function _U(t){const e=[];return dc(t.fields,(n,r)=>{const i=new mr([n]);if(NE(r)){const o=_U(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ro(e)}class _r{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _r(e,0,Ut.min(),Ut.min(),Ut.min(),Oi.empty(),0)}static newFoundDocument(e,n,r,i){return new _r(e,1,n,Ut.min(),r,i,0)}static newNoDocument(e,n){return new _r(e,2,n,Ut.min(),Ut.min(),Oi.empty(),0)}static newUnknownDocument(e,n){return new _r(e,3,n,Ut.min(),Ut.min(),Oi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ut.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _c{constructor(e,n){this.position=e,this.inclusive=n}}function vU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_t.comparator(_t.fromName(s.referenceValue),n.key):mc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yU(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}class Zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function wie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class IU{}class En extends IU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Cie(e,n,r):"array-contains"===n?new Die(e,r):"in"===n?new DU(e,r):"not-in"===n?new Aie(e,r):"array-contains-any"===n?new Sie(e,r):new En(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new bie(e,r):new Tie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(mc(n,this.value)):null!==n&&gc(this.value)===gc(n)&&this.matchesComparison(mc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends IU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new zn(e,n)}matches(e){return If(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function If(t){return"and"===t.op}function IA(t){return"or"===t.op}function EA(t){return EU(t)&&If(t)}function EU(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function wA(t){if(t instanceof En)return t.field.canonicalString()+t.op.toString()+yf(t.value);if(EA(t))return t.filters.map(e=>wA(e)).join(",");{const e=t.filters.map(n=>wA(n)).join(",");return`${t.op}(${e})`}}function wU(t,e){return t instanceof En?(r=t,(i=e)instanceof En&&r.op===i.op&&r.field.isEqual(i.field)&&sa(r.value,i.value)):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&wU(s,i.filters[a]),!0)}(t,e):void xt();var r,i}function CU(t,e){const n=t.filters.concat(e);return zn.create(n,t.op)}function bU(t){return t instanceof En?`${(n=t).field.canonicalString()} ${n.op} ${yf(n.value)}`:t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(bU).join(" ,")+"}"}(t):"Filter";var n}class Cie extends En{constructor(e,n,r){super(e,n,r),this.key=_t.fromName(r.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class bie extends En{constructor(e,n){super(e,"in",n),this.keys=TU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Tie extends En{constructor(e,n){super(e,"not-in",n),this.keys=TU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>_t.fromName(r.referenceValue))}class Die extends En{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&Qm(n.arrayValue,this.value)}}class DU extends En{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Qm(this.value.arrayValue,n)}}class Aie extends En{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Qm(this.value.arrayValue,n)}}class Sie extends En{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qm(this.value.arrayValue,r))}}class Rie{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function CA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Rie(t,e,n,r,i,o,s)}function Uu(t){const e=gt(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yf(r)).join(",")),e.ce=n}return e.ce}function e_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yU(t.startAt,e.startAt)&&yU(t.endAt,e.endAt)}function kE(t){return _t.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function OE(t,e){return t.filters.filter(n=>n instanceof En&&n.field.isEqual(e))}function AU(t,e,n){let r=ME,i=!0;for(const o of OE(t,e)){let s=ME,a=!0;switch(o.op){case"<":case"<=":s=Iie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=ME}gU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];gU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function SU(t,e,n){let r=pc,i=!0;for(const o of OE(t,e)){let s=pc,a=!0;switch(o.op){case">=":case">":s=Eie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=pc}mU({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];mU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Qa{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function RU(t,e,n,r,i,o,s,a){return new Qa(t,e,n,r,i,o,s,a)}function Ef(t){return new Qa(t)}function PU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function bA(t){return null!==t.collectionGroup}function wf(t){const e=gt(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Qn(mr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new Zm(o,r))}),n.has(mr.keyField().canonicalString())||e.le.push(new Zm(mr.keyField(),r))}return e.le}function po(t){const e=gt(t);return e.he||(e.he=function MU(t,e){if("F"===t.limitType)return CA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new Zm(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new _c(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _c(t.startAt.position,t.startAt.inclusive):null;return CA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,wf(t))),e.he}function TA(t,e){const n=t.filters.concat([e]);return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function FE(t,e,n){return new Qa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function t_(t,e){return e_(po(t),po(e))&&t.limitType===e.limitType}function xU(t){return`${Uu(po(t))}|lt:${t.limitType}`}function Cf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bU(i)).join(", ")}]`),Wm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yf(i)).join(",")),`Target(${r})`}(po(t))}; limitType=${t.limitType})`}function n_(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_t.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of wf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=vU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,wf(r),i)||r.endAt&&!function(s,a,l){const u=vU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,wf(r),i)));var r,i}function NU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kU(t){return(e,n)=>{let r=!1;for(const i of wf(t)){const o=Pie(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Pie(t,e,n){const r=t.field.isKeyField()?_t.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?mc(l,u):xt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xt()}}class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return lU(this.inner)}size(){return this.innerSize}}const Mie=new lr(_t.comparator);function Po(){return Mie}const OU=new lr(_t.comparator);function r_(...t){let e=OU;for(const n of t)e=e.insert(n.key,n);return e}function FU(t){let e=OU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function aa(){return i_()}function LU(){return i_()}function i_(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const xie=new lr(_t.comparator),Nie=new Qn(_t.comparator);function un(...t){let e=Nie;for(const n of t)e=e.add(n);return e}const kie=new Qn(Zt);function DA(){return kie}function VU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function $U(t){return{integerValue:""+t}}function UU(t,e){return eU(e)?$U(e):VU(t,e)}class LE{constructor(){this._=void 0}}function Oie(t,e,n){return t instanceof bf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&RE(o)&&(o=PE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Bu?jU(t,e):t instanceof ju?HU(t,e):function(i,o){const s=BU(i,o),a=zU(s)+zU(i.Ie);return yA(s)&&yA(i.Ie)?$U(a):VU(i.serializer,a)}(t,e)}function Fie(t,e,n){return t instanceof Bu?jU(t,e):t instanceof ju?HU(t,e):n}function BU(t,e){return t instanceof Tf?yA(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class bf extends LE{}class Bu extends LE{constructor(e){super(),this.elements=e}}function jU(t,e){const n=GU(e);for(const r of t.elements)n.some(i=>sa(i,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends LE{constructor(e){super(),this.elements=e}}function HU(t,e){let n=GU(e);for(const r of t.elements)n=n.filter(i=>!sa(i,r));return{arrayValue:{values:n}}}class Tf extends LE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function zU(t){return Lr(t.integerValue||t.doubleValue)}function GU(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class o_{constructor(e,n){this.field=e,this.transform=n}}class Vie{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function VE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class $E{}function qU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Af(t.key,Tr.none()):new Df(t.key,t.data,Tr.none());{const n=t.data,r=Oi.empty();let i=new Qn(mr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ja(t.key,r,new Ro(i.toArray()),Tr.none())}}function $ie(t,e,n){t instanceof Df?function(i,o,s){const a=i.value.clone(),l=YU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ja?function(i,o,s){if(!VE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=YU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(KU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function s_(t,e,n,r){return t instanceof Df?function(o,s,a,l){if(!VE(o.precondition,s))return a;const u=o.value.clone(),h=QU(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ja?function(o,s,a,l){if(!VE(o.precondition,s))return a;const u=QU(o.fieldTransforms,l,s),h=s.data;return h.setAll(KU(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,VE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Uie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=BU(r.transform,i||null);null!=o&&(null===n&&(n=Oi.empty()),n.set(r.field,o))}return n||null}function WU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&gf(r,i,(o,s)=>function Lie(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Bu&&i instanceof Bu||r instanceof ju&&i instanceof ju?gf(r.elements,i.elements,sa):r instanceof Tf&&i instanceof Tf?sa(r.Ie,i.Ie):r instanceof bf&&i instanceof bf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class Df extends $E{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ja extends $E{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YU(t,e,n){const r=new Map;Ft(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Fie(s,a,n[i]))}return r}function QU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Oie(o,s,e))}return r}class Af extends $E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends $E{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$ie(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=s_(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=s_(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=qU(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),un())}isEqual(e){return this.batchId===e.batchId&&gf(this.mutations,e.mutations,(n,r)=>WU(n,r))&&gf(this.baseMutations,e.baseMutations,(n,r)=>WU(n,r))}}class RA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length);let i=function(){return xie}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new RA(e,n,r,i)}}class PA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class jie{constructor(e,n){this.count=e,this.unchangedNames=n}}var ri,An;function XU(t){switch(t){default:return xt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function JU(t){if(void 0===t)return Hr("GRPC error has no .code"),fe.UNKNOWN;switch(t){case ri.OK:return fe.OK;case ri.CANCELLED:return fe.CANCELLED;case ri.UNKNOWN:return fe.UNKNOWN;case ri.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ri.INTERNAL:return fe.INTERNAL;case ri.UNAVAILABLE:return fe.UNAVAILABLE;case ri.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ri.NOT_FOUND:return fe.NOT_FOUND;case ri.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ri.ABORTED:return fe.ABORTED;case ri.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ri.DATA_LOSS:return fe.DATA_LOSS;default:return xt()}}(An=ri||(ri={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";function ZU(){return new TextEncoder}const Hie=new hf([4294967295,4294967295],0);function eB(t){const e=ZU().encode(t),n=new Fre;return n.update(e),new Uint8Array(n.digest())}function tB(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hf([n,r],0),new hf([i,o],0)]}class MA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new a_(`Invalid padding: ${n}`);if(r<0)throw new a_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new a_(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new a_(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=hf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(hf.fromNumber(r)));return 1===i.compare(Hie)&&(i=new hf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=eB(e),[r,i]=tB(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new MA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=eB(e),[r,i]=tB(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class a_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class l_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,c_.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new l_(Ut.min(),i,new lr(Zt),Po(),un())}}class c_{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new c_(r,n,un(),un(),un())}}class BE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class nB{constructor(e,n){this.targetId=e,this.fe=n}}class rB{constructor(e,n,r=fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iB{constructor(){this.ge=0,this.pe=sB(),this.ye=fi.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=un(),n=un(),r=un();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xt()}}),new c_(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=sB()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ft(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class zie{constructor(e){this.Le=e,this.ke=new Map,this.qe=Po(),this.Qe=oB(),this.Ke=new lr(Zt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(kE(o))if(0===r){const s=new _t(o.path);this.We(n,s,_r.newNoDocument(s,Ut.min()))}else Ft(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ya(r).toUint8Array()}catch(l){if(l instanceof uU)return So("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new MA(s,i,o)}catch(l){return So(l instanceof a_?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&kE(a.target)){const l=new _t(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,_r.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=un();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new l_(e,n,this.Ke,this.qe,r);return this.qe=Po(),this.Qe=oB(),this.Ke=new lr(Zt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new iB,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Qn(Zt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||Be("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new iB),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function oB(){return new lr(_t.comparator)}function sB(){return new lr(_t.comparator)}const Gie={asc:"ASCENDING",desc:"DESCENDING"},qie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wie={and:"AND",or:"OR"};class Kie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xA(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function Sf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yie(t,e){return Sf(t,e.toTimestamp())}function zr(t){return Ft(!!t),Ut.fromTimestamp(function(n){const r=hc(n);return new br(r.seconds,r.nanos)}(t))}function NA(t,e){return kA(t,e).canonicalString()}function kA(t,e){const n=(i=t,new In(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function lB(t){const e=In.fromString(t);return Ft(vB(e)),e}function u_(t,e){return NA(t.databaseId,e.path)}function la(t,e){const n=lB(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _t(dB(n))}function cB(t,e){return NA(t.databaseId,e)}function uB(t){const e=lB(t);return 4===e.length?In.emptyPath():dB(e)}function OA(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dB(t){return Ft(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function hB(t,e,n){return{name:u_(t,e),fields:n.value.mapValue.fields}}function fB(t,e,n){const r=la(t,e.name),i=zr(e.updateTime),o=e.createTime?zr(e.createTime):Ut.min(),s=new Oi({mapValue:{fields:e.fields}}),a=_r.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function d_(t,e){let n;if(e instanceof Df)n={update:hB(t,e.key,e.value)};else if(e instanceof Af)n={delete:u_(t,e.key)};else if(e instanceof Ja)n={update:hB(t,e.key,e.data),updateMask:roe(e.fieldMask)};else{if(!(e instanceof AA))return xt();n={verify:u_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ju)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tf)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw xt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Yie(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:xt()),n;var o}function FA(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Tr.updateTime(zr(o.updateTime)):void 0!==o.exists?Tr.exists(o.exists):Tr.none():Tr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(Ft("REQUEST_TIME"===a.setToServerValue),l=new bf):"appendMissingElements"in a?l=new Bu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new ju(a.removeAllFromArray.values||[]):"increment"in a?l=new Tf(s,a.increment):xt();const u=mr.fromServerFormat(a.fieldPath);return new o_(u,l)}(t,i)):[];var o;if(e.update){const i=la(t,e.update.name),o=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Ro((e.updateMask.fieldPaths||[]).map(h=>mr.fromServerFormat(h)));return new Ja(i,o,s,n,r)}return new Df(i,o,n,r)}if(e.delete){const i=la(t,e.delete);return new Af(i,n)}if(e.verify){const i=la(t,e.verify);return new AA(i,n)}return xt()}function pB(t,e){return{documents:[cB(t,e.path)]}}function LA(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cB(t,i);const o=function(u){if(0!==u.length)return _B(zn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:vc((m=h).field),direction:eoe(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=xA(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function gB(t){let e=uB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=mB(g);return m instanceof zn&&EA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new Zm(Rf((b=m).field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Wm(m)?null:m}(n.limit));let l=null;var g;n.startAt&&(l=new _c((g=n.startAt).values||[],!!g.before));let u=null;return n.endAt&&(u=function(g){return new _c(g.values||[],!g.before)}(n.endAt)),RU(e,i,s,o,a,"F",l,u)}function mB(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rf(n.unaryFilter.field);return En.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rf(n.unaryFilter.field);return En.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rf(n.unaryFilter.field);return En.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rf(n.unaryFilter.field);return En.create(s,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(t):void 0!==t.fieldFilter?En.create(Rf((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return zn.create(n.compositeFilter.filters.map(r=>mB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xt()}}(n.compositeFilter.op))}(t):xt();var n}function eoe(t){return Gie[t]}function toe(t){return qie[t]}function noe(t){return Wie[t]}function vc(t){return{fieldPath:t.canonicalString()}}function Rf(t){return mr.fromServerFormat(t.fieldPath)}function _B(t){return t instanceof En?function(n){if("=="===n.op){if(fU(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NAN"}};if(hU(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(fU(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NAN"}};if(hU(n.value))return{unaryFilter:{field:vc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(n.field),op:toe(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>_B(i));return 1===r.length?r[0]:{compositeFilter:{op:noe(n.op),filters:r}}}(t):xt()}function roe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Za{constructor(e,n,r,i,o=Ut.min(),s=Ut.min(),a=fi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yB{constructor(e){this.ct=e}}function IB(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:u_(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Sf(o,s.version.toTimestamp()),createTime:Sf(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Hu(e.version)};else{if(!e.isUnknownDocument())return xt();r.unknownDocument={path:n.path.toArray(),version:Hu(e.version)}}var o,s;return r}function jE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zu(t){const e=new br(t.seconds,t.nanoseconds);return Ut.fromTimestamp(e)}function Gu(t,e){const n=(e.baseMutations||[]).map(o=>FA(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>FA(t.ct,o)),i=br.fromMillis(e.localWriteTimeMs);return new SA(e.batchId,i,n,r)}function h_(t){const e=zu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?zu(t.lastLimboFreeSnapshotVersion):Ut.min();let r;return r=void 0!==t.query.documents?(Ft(1===(o=t.query).documents.length),po(Ef(uB(o.documents[0])))):function(o){return po(gB(o))}(t.query),new Za(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,fi.fromBase64String(t.resumeToken));var o}function EB(t,e){const n=Hu(e.snapshotVersion),r=Hu(e.lastLimboFreeSnapshotVersion);let i;i=kE(e.target)?pB(t.ct,e.target):LA(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function VA(t){const e=gB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?FE(e,e.limit,"L"):e}function $A(t,e){return new PA(e.largestBatchId,FA(t.ct,e.overlayMutation))}function wB(t,e){const n=e.path.lastSegment();return[t,Qi(e.path.popLast()),n]}function CB(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Hu(r.readTime),documentKey:Qi(r.documentKey.path),largestBatchId:r.largestBatchId}}class ooe{getBundleMetadata(e,n){return bB(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:zu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return bB(e).put({bundleId:(i=n).id,createTime:Hu(zr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return TB(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:VA(o.bundledQuery),readTime:zu(o.readTime)};var o})}saveNamedQuery(e,n){return TB(e).put({name:(i=n).name,readTime:Hu(zr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function bB(t){return Ti(t,"bundles")}function TB(t){return Ti(t,"namedQueries")}class HE{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new HE(e,n.uid||"")}getOverlay(e,n){return f_(e).get(wB(this.userId,n)).next(r=>r?$A(this.serializer,r):null)}getOverlays(e,n){const r=aa();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new PA(n,s);i.push(this.ht(e,a))}),ne.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Qi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(f_(e).H("collectionPathOverlayIndex",a))}),ne.waitFor(o)}getOverlaysForCollection(e,n,r){const i=aa(),o=Qi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return f_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=$A(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=aa();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return f_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const g=$A(this.serializer,u);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return f_(e).put(function(i,o,s){const[a,l,u]=wB(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:d_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function f_(t){return Ti(t,"documentOverlays")}class qu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Lr(e.integerValue));else if("doubleValue"in e){const r=Lr(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Km(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ya(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?pU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):xt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),_t.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function soe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function DB(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=soe(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}qu.bt=new qu;class aoe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=DB(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=DB(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class loe{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class coe{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class p_{constructor(){this.Gt=new aoe,this.zt=new loe(this.Gt),this.jt=new coe(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Wu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wu(this.indexId,this.documentKey,this.arrayValue,r)}}function yc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=AB(t.arrayValue,e.arrayValue),0!==n?n:(n=AB(t.directionalValue,e.directionalValue),0!==n?n:_t.comparator(t.documentKey,e.documentKey)))}function AB(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class SB{constructor(e){this.Yt=new Qn((n,r)=>mr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Ft(e.collectionGroup===this.collectionId),this.en)return!1;const n=fA(e);if(void 0!==n&&!this.nn(n))return!1;const r=Fu(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new Qn(mr.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Lu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Lu(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Lu(r.field,"asc"===r.dir?0:1)));return new mf(mf.UNKNOWN_ID,this.collectionId,n,_f.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function RB(t){var e,n;if(Ft(t instanceof En||t instanceof zn),t instanceof En){if(t instanceof DU){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>En.create(t.field,"==",o)))||[];return zn.create(i,"or")}return t}const r=t.filters.map(i=>RB(i));return zn.create(r,t.op)}function uoe(t){if(0===t.getFilters().length)return[];const e=jA(RB(t));return Ft(PB(e)),UA(e)||BA(e)?[e]:e.getFilters()}function UA(t){return t instanceof En}function BA(t){return t instanceof zn&&EA(t)}function PB(t){return UA(t)||BA(t)||function(n){if(n instanceof zn&&IA(n)){for(const r of n.getFilters())if(!UA(r)&&!BA(r))return!1;return!0}return!1}(t)}function jA(t){if(Ft(t instanceof En||t instanceof zn),t instanceof En)return t;if(1===t.filters.length)return jA(t.filters[0]);const e=t.filters.map(r=>jA(r));let n=zn.create(e,t.op);return n=zE(n),PB(n)?n:(Ft(n instanceof zn),Ft(If(n)),Ft(n.filters.length>1),n.filters.reduce((r,i)=>HA(r,i)))}function HA(t,e){let n;return Ft(t instanceof En||t instanceof zn),Ft(e instanceof En||e instanceof zn),n=t instanceof En?e instanceof En?zn.create([t,e],"and"):MB(t,e):e instanceof En?MB(e,t):function(i,o){if(Ft(i.filters.length>0&&o.filters.length>0),If(i)&&If(o))return CU(i,o.getFilters());const s=IA(i)?i:o,a=IA(i)?o:i,l=s.filters.map(u=>HA(u,a));return zn.create(l,"or")}(t,e),zE(n)}function MB(t,e){if(If(e))return CU(e,t.getFilters());{const n=e.filters.map(r=>HA(t,r));return zn.create(n,"or")}}function zE(t){if(Ft(t instanceof En||t instanceof zn),t instanceof En)return t;const e=t.getFilters();if(1===e.length)return zE(e[0]);if(EU(t))return t;const n=e.map(i=>zE(i)),r=[];return n.forEach(i=>{i instanceof En?r.push(i):i instanceof zn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:zn.create(r,t.op)}class doe{constructor(){this._n=new zA}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Ho.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class zA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Qn(In.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Qn(In.comparator)).toArray()}}const GE=new Uint8Array(0);class hoe{constructor(e,n){this.databaseId=n,this.an=new zA,this.un=new Xa(r=>Uu(r),(r,i)=>e_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:Qi(i)};return xB(e).put(o)}return ne.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[K$(n),""],!1,!0);return xB(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(oa(s.parent))}return r})}addFieldIndex(e,n){const r=g_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=Mf(e);return o.next(a=>{s.put(CB(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=g_(e),i=Mf(e),o=Pf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=g_(e),r=Pf(e),i=Mf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ne.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new SB(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Pf(e);let i=!0;const o=new Map;return ne.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=un();const a=[];return ne.forEach(o,(l,u)=>{var he;Be("IndexedDbIndexManager",`Using index ${he=l,`id=${he.indexId}|cg=${he.collectionGroup}|f=${he.fields.map(me=>`${me.fieldPath}:${me.kind}`).join(",")}`} to execute ${Uu(n)}`);const h=function(he,me){const Xe=fA(me);if(void 0===Xe)return null;for(const wt of OE(he,Xe.fieldPath))switch(wt.op){case"array-contains-any":return wt.value.arrayValue.values||[];case"array-contains":return[wt.value]}return null}(u,l),g=function(he,me){const Xe=new Map;for(const wt of Fu(me))for(const mn of OE(he,wt.fieldPath))switch(mn.op){case"==":case"in":Xe.set(wt.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return Xe.set(wt.fieldPath.canonicalString(),mn.value),Array.from(Xe.values())}return null}(u,l),m=function(he,me){const Xe=[];let wt=!0;for(const mn of Fu(me)){const nr=0===mn.kind?AU(he,mn.fieldPath,he.startAt):SU(he,mn.fieldPath,he.startAt);Xe.push(nr.value),wt&&(wt=nr.inclusive)}return new _c(Xe,wt)}(u,l),v=function(he,me){const Xe=[];let wt=!0;for(const mn of Fu(me)){const nr=0===mn.kind?SU(he,mn.fieldPath,he.endAt):AU(he,mn.fieldPath,he.endAt);Xe.push(nr.value),wt&&(wt=nr.inclusive)}return new _c(Xe,wt)}(u,l),b=this.hn(l,u,m),A=this.hn(l,u,v),S=this.Pn(l,u,g),H=this.In(l.indexId,h,b,m.inclusive,A,v.inclusive,S);return ne.forEach(H,U=>r.j(U,n.limit).next(he=>{he.forEach(me=>{const Xe=_t.fromSegments(me.documentKey);s.has(Xe)||(s=s.add(Xe),a.push(Xe))})}))}).next(()=>a)}return ne.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:uoe(zn.create(e.filters,"and")).map(r=>CA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),h=[];for(let g=0;g<l;++g){const m=n?this.Tn(n[g/u]):GE,v=this.En(e,m,r[g%u],i),b=this.dn(e,m,o[g%u],s),A=a.map(S=>this.En(e,m,S,!0));h.push(...this.createRange(v,b,A))}return h}En(e,n,r,i){const o=new Wu(e,_t.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Wu(e,_t.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new SB(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return ne.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new Qn(mr.comparator),h=!1;for(const g of l.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:u=u.add(m.field));for(const g of l.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new p_;for(const i of Fu(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);qu.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new p_;return qu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new p_;return qu.bt.Pt($u(this.databaseId,n),r.Ht(function(o){const s=Fu(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new p_);let o=0;for(const s of Fu(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&Xm(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);qu.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new p_;l.seed(a.Wt()),qu.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof En&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=g_(e),i=Mf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return ne.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(h,g){const m=g?new _f(g.sequenceNumber,new Ho(zu(g.readTime),new _t(oa(g.documentKey)),g.largestBatchId)):_f.empty(),v=h.fields.map(([b,A])=>new Lu(mr.fromServerFormat(b),A));return new mf(h.indexId,h.collectionGroup,v,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Zt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=g_(e),o=Mf(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ne.forEach(a,l=>o.put(CB(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return ne.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?ne.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ne.forEach(a,l=>this.pn(e,i,l).next(u=>{const h=this.yn(o,l);return u.isEqual(h)?ne.resolve():this.wn(e,o,l,u,h)}))))})}Sn(e,n,r,i){return Pf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Pf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Pf(e);let o=new Qn(yc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Wu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Qn(yc);const i=this.An(n,e);if(null==i)return r;const o=fA(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Xm(s))for(const a of s.arrayValue.values||[])r=r.add(new Wu(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Wu(n.indexId,e.key,GE,i));return r}wn(e,n,r,i,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,h,g,m){const v=l.getIterator(),b=u.getIterator();let A=vf(v),S=vf(b);for(;A||S;){let H=!1,U=!1;if(A&&S){const he=h(A,S);he<0?U=!0:he>0&&(H=!0)}else null!=A?U=!0:H=!0;H?(g(S),S=vf(b)):U?(m(A),A=vf(v)):(A=vf(v),S=vf(b))}}(i,o,yc,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),ne.waitFor(s)}gn(e){let n=1;return Mf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>yc(s,a)).filter((s,a,l)=>!a||0!==yc(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=yc(s,e),l=yc(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,GE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,GE,[]]))}return o}Dn(e,n){return yc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(NB)}getMinOffset(e,n){return ne.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||xt())).next(NB)}}function xB(t){return Ti(t,"collectionParents")}function Pf(t){return Ti(t,"indexEntries")}function g_(t){return Ti(t,"indexConfiguration")}function Mf(t){return Ti(t,"indexState")}function NB(t){Ft(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;pA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ho(e.readTime,e.documentKey,n)}const kB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xi(e,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function OB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(h,g,m)=>(a++,m.delete()));o.push(l.next(()=>{Ft(1===a)}));const u=[];for(const h of n.mutations){const g=rU(e,h.key.path,n.batchId);o.push(i.delete(g)),u.push(h.key)}return ne.waitFor(o).next(()=>u)}function qE(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xt();e=t.noDocument}return JSON.stringify(e).length}Xi.DEFAULT_COLLECTION_PERCENTILE=10,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xi.DEFAULT=new Xi(41943040,Xi.DEFAULT_COLLECTION_PERCENTILE,Xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xi.DISABLED=new Xi(-1,0,0);class WE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Ft(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new WE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=xf(e),s=Ic(e);return s.add({}).next(a=>{Ft("number"==typeof a);const l=new SA(a,n,r,i),u=function(v,b,A){const S=A.baseMutations.map(U=>d_(v.ct,U)),H=A.mutations.map(U=>d_(v.ct,U));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:H}}(this.serializer,this.userId,l),h=[];let g=new Qn((m,v)=>Zt(m.canonicalString(),v.canonicalString()));for(const m of i){const v=rU(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,eie))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),ne.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return Ic(e).get(n).next(r=>r?(Ft(r.userId===this.userId),Gu(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?ne.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ic(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Ft(a.batchId>=r),o=Gu(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ic(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).W("userMutationsIndex",n).next(r=>r.map(i=>Gu(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=AE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return xf(e).Y({range:i},(s,a,l)=>{const[u,h,g]=s,m=oa(h);if(u===this.userId&&n.path.isEqual(m))return Ic(e).get(g).next(v=>{if(!v)throw xt();Ft(v.userId===this.userId),o.push(Gu(this.serializer,v))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(Zt);const i=[];return n.forEach(o=>{const s=AE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=xf(e).Y({range:a},(u,h,g)=>{const[m,v,b]=u,A=oa(v);m===this.userId&&o.path.isEqual(A)?r=r.add(b):g.done()});i.push(l)}),ne.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=AE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Qn(Zt);return xf(e).Y({range:s},(l,u,h)=>{const[g,m,v]=l,b=oa(m);g===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(v)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Ic(e).get(o).next(s=>{if(null===s)throw xt();Ft(s.userId===this.userId),r.push(Gu(this.serializer,s))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return OB(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ne.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return xf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=oa(o[1]);i.push(l)}else a.done()}).next(()=>{Ft(0===i.length)})})}containsKey(e,n){return FB(e,this.userId,n)}xn(e){return LB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FB(t,e,n){const r=AE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return xf(t).Y({range:o,J:!0},(a,l,u)=>{const[h,g,m]=a;h===e&&g===i&&(s=!0),u.done()}).next(()=>s)}function Ic(t){return Ti(t,"mutations")}function xf(t){return Ti(t,"documentMutations")}function LB(t){return Ti(t,"mutationQueues")}class Ku{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ku(0)}static Bn(){return new Ku(-1)}}class foe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new Ku(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>Ut.fromTimestamp(new br(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Nf(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Nf(e).Y((s,a)=>{const l=h_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>ne.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Nf(e).Y((r,i)=>{const o=h_(i);n(o)})}Ln(e){return VB(e).get("targetGlobalKey").next(n=>(Ft(null!==n),n))}kn(e,n){return VB(e).put("targetGlobalKey",n)}qn(e,n){return Nf(e).put(EB(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Uu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Nf(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=h_(a);e_(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Ec(e);return n.forEach(s=>{const a=Qi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),ne.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ec(e);return ne.forEach(n,o=>{const s=Qi(o.path);return ne.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Ec(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ec(e);let o=un();return i.Y({range:r,J:!0},(s,a,l)=>{const u=oa(s[1]),h=new _t(u);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Qi(n.path),i=IDBKeyRange.bound([r],[K$(r)],!1,!0);let o=0;return Ec(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return Nf(e).get(n).next(r=>r?h_(r):null)}}function Nf(t){return Ti(t,"targets")}function VB(t){return Ti(t,"targetGlobal")}function Ec(t){return Ti(t,"targetDocuments")}function $B([t,e],[n,r]){const i=Zt(t,n);return 0===i?Zt(e,r):i}class poe{constructor(e){this.Kn=e,this.buffer=new Qn($B),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$B(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.c)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){uc(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cc(r)}yield n.zn(3e5)}))}}class goe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ne.resolve(zo._e);const r=new poe(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(kB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kB):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),pf()<=ta.Ge.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}class moe{constructor(e,n){this.db=e,this.garbageCollector=function BB(t,e){return new goe(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return KE(e,r)}removeReference(e,n,r){return KE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return KE(e,n)}er(e,n){return function(i,o){let s=!1;return LB(i).Z(a=>FB(i,a,o).next(l=>(l&&(s=!0),ne.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Ut.min()),Ec(e).delete([0,Qi(s.path)])))});i.push(l)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return KE(e,n)}Xn(e,n){const r=Ec(e);let i,o=zo._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==zo._e&&n(new _t(oa(i)),o),o=u,i=l):o=zo._e}).next(()=>{o!==zo._e&&n(new _t(oa(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function KE(t,e){return Ec(t).put((i=t.currentSequenceNumber,{targetId:0,path:Qi(e.path),sequenceNumber:i}));var i}class jB{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _oe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Yu(e).put(r)}removeEntry(e,n,r){return Yu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=_r.newInvalidDocument(n);return Yu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(m_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:_r.newInvalidDocument(n)};return Yu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(m_(n))},(i,o)=>{r={document:this.nr(n,o),size:qE(o)}}).next(()=>r)}getEntries(e,n){let r=Po();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Po(),i=new lr(_t.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,qE(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return ne.resolve();let i=new Qn(qB);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(m_(i.first()),m_(i.last())),s=i.getIterator();let a=s.getNext();return Yu(e).Y({index:"documentKeyIndex",range:o},(l,u,h)=>{const g=_t.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&qB(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?h.U(m_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),jE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let h=Po();for(const g of u){const m=this.nr(_t.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(n_(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=Po();const s=GB(n,r),a=GB(n,Ho.max());return Yu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,h)=>{const g=this.nr(_t.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new voe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return zB(e).get("remoteDocumentGlobalKey").next(n=>(Ft(!!n),n))}tr(e,n){return zB(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function ioe(t,e){let n;if(e.document)n=fB(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_t.fromSegments(e.noDocument.path),i=zu(e.noDocument.readTime);n=_r.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return xt();{const r=_t.fromSegments(e.unknownDocument.path),i=zu(e.unknownDocument.version);n=_r.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new br(i[0],i[1]);return Ut.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return _r.newInvalidDocument(e)}}function HB(t){return new _oe(t)}class voe extends jB{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Xa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Qn((o,s)=>Zt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=IB(this.ar.serializer,s);i=i.add(o.path.popLast());const u=qE(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=IB(this.ar.serializer,s.convertToNoDocument(Ut.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),ne.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function zB(t){return Ti(t,"remoteDocumentGlobal")}function Yu(t){return Ti(t,"remoteDocumentsV14")}function m_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GB(t,e){const n=e.documentKey.path.toArray();return[t,jE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qB(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Zt(n[o],r[o]),i)return i;return i=Zt(n.length,r.length),i||(i=Zt(n[n.length-2],r[r.length-2]),i||Zt(n[n.length-1],r[r.length-1]))}class yoe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class WB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&s_(r.mutation,i,Ro.empty(),br.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,un()).next(()=>r))}getLocalViewOfDocuments(e,n,r=un()){const i=aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=r_();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,un()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Po();const s=i_(),a=i_();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof Ja)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),s_(h.mutation,u,h.mutation.getFieldMask(),br.now())):s.set(u.key,Ro.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var g;return a.set(u,new yoe(h,null!==(g=s.get(u))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=i_();let i=new lr((s,a)=>s-a),o=un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let h=r.get(l)||Ro.empty();h=a.applyToLocalView(u,h),r.set(l,h);const g=(i.get(a.batchId)||un()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,g=LU();h.forEach(m=>{if(!o.has(m)){const v=qU(n.get(m),r.get(m));null!==v&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return _t.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):bA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ne.resolve(aa());let a=-1,l=o;return s.next(u=>ne.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,un())).next(h=>({batchId:a,changes:FU(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(r=>{let i=r_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=r_();return this.indexManager.getCollectionParents(e,o).next(a=>ne.forEach(a,l=>{const u=(g=n,m=l.child(o),new Qa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,_r.newInvalidDocument(h)))});let a=r_();return s.forEach((l,u)=>{const h=o.get(l);void 0!==h&&s_(h.mutation,u,Ro.empty(),br.now()),n_(n,u)&&(a=a.insert(l,u))}),a})}}class Ioe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:zr(i.createTime)}),ne.resolve();var i}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:VA(i.bundledQuery),readTime:zr(i.readTime)}),ne.resolve();var i}}class Eoe{constructor(){this.overlays=new lr(_t.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=aa();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=aa(),o=n.length+1,s=new _t(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lr((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);null===h&&(h=aa(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=aa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PA(n,r));let o=this.hr.get(n);void 0===o&&(o=un(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class GA{constructor(){this.Pr=new Qn(Di.Ir),this.Tr=new Qn(Di.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Di(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Di(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _t(new In([])),r=new Di(n,e),i=new Di(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _t(new In([])),r=new Di(n,e),i=new Di(n,e+1);let o=un();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Di(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Di{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _t.comparator(e.key,n.key)||Zt(e.pr,n.pr)}static Er(e,n){return Zt(e.pr,n.pr)||_t.comparator(e.key,n.key)}}class woe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Qn(Di.Ir)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new SA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Di(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Di(n,0),i=new Di(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(Zt);return n.forEach(i=>{const o=new Di(i,0),s=new Di(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_t.isDocumentKey(o)||(o=o.child(""));const s=new Di(new _t(o),0);let a=new Qn(Zt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),ne.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Ft(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const o=new Di(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Di(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Coe{constructor(e){this.vr=e,this.docs=new lr(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(n))}getEntries(e,n){let r=Po();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():_r.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Po();const s=n.path,a=new _t(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||pA(Q$(h),r)<=0||(i.has(h.key)||n_(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){xt()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new boe(this)}getSize(e){return ne.resolve(this.size)}}class boe extends jB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class Toe{constructor(e){this.persistence=e,this.Mr=new Xa(n=>Uu(n),e_),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Or=0,this.Nr=new GA,this.targetCount=0,this.Br=Ku.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Ku(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}class qA{constructor(e,n){this.Lr={},this.overlays={},this.kr=new zo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Toe(this),this.indexManager=new doe,this.remoteDocumentCache=new Coe(r=>this.referenceDelegate.Kr(r)),this.serializer=new yB(n),this.$r=new Ioe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Eoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new woe(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const i=new Doe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Doe extends J${constructor(e){super(),this.currentSequenceNumber=e}}class YE{constructor(e){this.persistence=e,this.zr=new GA,this.jr=null}static Hr(e){return new YE(e)}get Jr(){if(this.jr)return this.jr;throw xt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=_t.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Ut.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class Aoe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new DE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nU,{unique:!0}),l.createObjectStore("documentMutations"),KB(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),KB(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nU,{unique:!0});const g=u.store("mutations"),m=h.map(v=>g.put(v));return ne.waitFor(m)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:hie});u.createIndex("collectionPathOverlayIndex",fie,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",pie,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:tie});u.createIndex("documentKeyIndex",nie),u.createIndex("collectionGroupIndex",rie)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:lie}).createIndex("sequenceNumberIndex",cie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:uie}).createIndex("documentKeyIndex",die,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=qE(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ne.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>ne.forEach(a,l=>{Ft(l.userId===o.userId);const u=Gu(this.serializer,l);return OB(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new In(s),u=[0,Qi(l)];o.push(n.get(u).next(h=>h?ne.resolve():n.put({targetId:0,path:Qi(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:aie});const r=n.store("collectionParents"),i=new zA,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Qi(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new In(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const h=oa(a);return o(h.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=h_(i),s=EB(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(g=s,g.document?new _t(In.fromString(g.document.name).popFirst(5)):g.noDocument?_t.fromSegments(g.noDocument.path):g.unknownDocument?_t.fromSegments(g.unknownDocument.path):xt()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;i.push(a.put(u))}).next(()=>ne.waitFor(i))}si(e,n){const r=n.store("mutations"),i=HB(this.serializer),o=new qA(YE.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:un();Gu(this.serializer,l).keys().forEach(g=>h=h.add(g)),a.set(l.userId,h)}),ne.forEach(a,(l,u)=>{const h=new bi(u),g=HE.lt(this.serializer,h),m=o.getIndexManager(h),v=WE.lt(h,this.serializer,m,o.referenceDelegate);return new WB(i,v,g,m).recalculateAndSaveOverlaysForDocumentKeys(new _A(n,zo._e),l).next()})})}}function KB(t){t.createObjectStore("targetDocuments",{keyPath:oie}).createIndex("documentTargetsIndex",sie,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iie,{unique:!0}),t.createObjectStore("targetGlobal")}const WA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class KA{constructor(e,n,r,i,o,s,a,l,u,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=h,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!KA.D())throw new Le(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new moe(this,i),this.Ti=n+"main",this.serializer=new yB(l),this.Ei=new hs(this.Ti,this.ui,new Aoe(this.serializer)),this.Qr=new foe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=HB(this.serializer),this.$r=new ooe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===h&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,WA);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new zo(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,y.c)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,y.c)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,y.c)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(uc(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return __(e).get("owner").next(n=>ne.resolve(this.Si(n)))}bi(e){return XE(e).delete(this.clientId)}Di(){var e=this;return(0,y.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ti(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return ne.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ne.resolve(!0):__(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new Le(fe.FAILED_PRECONDITION,WA);return!1}}return!(!this.networkEnabled||!this.inForeground)||XE(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&Be("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,y.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new _A(n,zo._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>XE(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return WE.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hoe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return HE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?mie:14===l?sU:13===l?oU:12===l?gie:11===l?iU:void xt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new _A(a,this.kr?this.kr.next():zo._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new Le(fe.FAILED_PRECONDITION,X$);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return __(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Le(fe.FAILED_PRECONDITION,WA)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return __(e).put("owner",n)}static D(){return hs.D()}yi(e){const n=__(e);return n.get("owner").next(r=>this.Si(r)?(Be("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ne.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(Hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,hn.qk)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function __(t){return Ti(t,"owner")}function XE(t){return Ti(t,"clientMetadata")}function YA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class QA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=un(),i=un();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new QA(e,n.fromCache,r,i)}}class Soe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,hn.qk)()?8:hs.v((0,hn.Su)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Soe;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(pf()<=ta.Ge.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",Cf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(pf()<=ta.Ge.DEBUG&&Be("QueryEngine","Query:",Cf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(pf()<=ta.Ge.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",Cf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,po(n))):ne.resolve())}ji(e,n){if(PU(n))return ne.resolve(null);let r=po(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=FE(n,null,"F"),r=po(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=un(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,FE(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return PU(n)||i.isEqual(Ut.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?ne.resolve(null):(pf()<=ta.Ge.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cf(n)),this.es(e,s,n,Y$(i,-1)).next(a=>a))})}Zi(e,n){let r=new Qn(kU(e));return n.forEach((i,o)=>{n_(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return pf()<=ta.Ge.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",Cf(n)),this.zi.getDocumentsMatchingQuery(e,n,Ho.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Roe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lr(Zt),this.rs=new Xa(o=>Uu(o),e_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function QB(t,e,n,r){return new Roe(t,e,n,r)}function XB(t,e){return XA.apply(this,arguments)}function XA(){return XA=(0,y.c)(function*(t,e){const n=gt(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=un();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),XA.apply(this,arguments)}function JB(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function ZB(t,e,n){let r=un(),i=un();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Po();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Be("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function xoe(t,e){const n=gt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kf(t,e){const n=gt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,ne.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Za(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Of(t,e,n){return JA.apply(this,arguments)}function JA(){return JA=(0,y.c)(function*(t,e,n){const r=gt(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!uc(s))throw s;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),JA.apply(this,arguments)}function JE(t,e,n){const r=gt(t);let i=Ut.min(),o=un();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const g=gt(l),m=g.rs.get(h);return void 0!==m?ne.resolve(g.ns.get(m)):g.Qr.getTargetData(u,h)}(r,s,po(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Ut.min(),n?o:un())).next(a=>(nj(r,NU(e),a),{documents:a,hs:o})))}function ej(t,e){const n=gt(t),r=gt(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function tj(t,e){const n=gt(t),r=n.ss.get(e)||Ut.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Y$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(nj(n,e,i),i))}function nj(t,e,n){let r=t.ss.get(e)||Ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function ZA(){return ZA=(0,y.c)(function*(t,e,n,r){const i=gt(t);let o=un(),s=Po();for(const u of n){const h=e.Ps(u.metadata.name);u.document&&(o=o.add(h));const g=e.Is(u);g.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(h,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield kf(i,(h=r,po(Ef(In.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>ZB(u,a,s).next(h=>(a.apply(u),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.cs,h.ls)).next(()=>h.cs)))}),ZA.apply(this,arguments)}function koe(t,e){return eS.apply(this,arguments)}function eS(){return eS=(0,y.c)(function*(t,e,n=un()){const r=yield kf(t,po(VA(e.bundledQuery))),i=gt(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=zr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(fi.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),eS.apply(this,arguments)}function rj(t,e){return`firestore_clients_${t}_${e}`}function ij(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tS(t,e){return`firestore_targets_${t}_${e}`}class ZE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new Le(i.error.code,i.error.message))),s?new ZE(e,n,i.state,o):(Hr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class v_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Le(r.error.code,r.error.message))),o?new v_(e,r.state,i):(Hr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class e0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=DA();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=eU(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e0(e,o):(Hr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class nS{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new nS(n.clientId,n.onlineState):(Hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rS{constructor(){this.activeTargetIds=DA()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iS{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new lr(Zt),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=rj(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new rS),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.c)(function*(){const n=yield e.syncEngine.Li();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(rj(e.persistenceKey,i));if(o){const s=e0.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,r){this.Bs(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tS(this.persistenceKey,e));if(r){const i=v_.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tS(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Be("SharedClientState","READ",e,n),n}setItem(e,n){Be("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,y.c)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=zo._e;if(null!=s)try{const l=JSON.parse(s);Ft("number"==typeof l),a=l}catch(l){Hr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==zo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,r){const i=new ZE(this.currentUser,e,n,r),o=ij(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Ls(e){const n=ij(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=tS(this.persistenceKey,e),o=new v_(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return e0.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return ZE.Es(new bi(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return v_.Es(i,n)}xs(e){return nS.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,y.c)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=DA();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class oj{constructor(){this.no=new rS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new rS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ooe{io(e){}shutdown(){}}class sj{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let t0=null;function oS(){return null===t0?t0=268435456+Math.round(2147483648*Math.random()):t0++,"0x"+t0.toString(16)}const Foe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Loe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Ji="WebChannelConnection";class Voe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=oS(),l=this.bo(n,r.toUriEncodedString());Be("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(h=>(Be("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw So("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+ff,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${Foe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=oS();return new Promise((s,a)=>{const l=new Ore;l.setWithCredentials(!0),l.listenOnce(Nre.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dA.NO_ERROR:const h=l.getResponseJson();Be(Ji,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case dA.TIMEOUT:Be(Ji,`RPC '${e}' ${o} timed out`),a(new Le(fe.DEADLINE_EXCEEDED,"Request time out"));break;case dA.HTTP_ERROR:const g=l.getStatus();if(Be(Ji,`RPC '${e}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=null==m?void 0:m.error;if(v&&v.status&&v.message){const b=function(S){const H=S.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(H)>=0?H:fe.UNKNOWN}(v.status);a(new Le(b,v.message))}else a(new Le(fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Le(fe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{Be(Ji,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Be(Ji,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=oS(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mre(),a=xre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");Be(Ji,`Creating RPC '${e}' stream ${i}: ${h}`,l);const g=s.createWebChannel(h,l);let m=!1,v=!1;const b=new Loe({lo:S=>{v?Be(Ji,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(Be(Ji,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Be(Ji,`RPC '${e}' stream ${i} sending:`,S),g.send(S))},ho:()=>g.close()}),A=(S,H,U)=>{S.listen(H,he=>{try{U(he)}catch(me){setTimeout(()=>{throw me},0)}})};return A(g,TE.EventType.OPEN,()=>{v||Be(Ji,`RPC '${e}' stream ${i} transport opened.`)}),A(g,TE.EventType.CLOSE,()=>{v||(v=!0,Be(Ji,`RPC '${e}' stream ${i} transport closed`),b.Vo())}),A(g,TE.EventType.ERROR,S=>{v||(v=!0,So(Ji,`RPC '${e}' stream ${i} transport errored:`,S),b.Vo(new Le(fe.UNAVAILABLE,"The operation could not be completed")))}),A(g,TE.EventType.MESSAGE,S=>{var H;if(!v){const U=S.data[0];Ft(!!U);const me=U.error||(null===(H=U[0])||void 0===H?void 0:H.error);if(me){Be(Ji,`RPC '${e}' stream ${i} received error:`,me);const Xe=me.status;let wt=function(ol){const M0=ri[ol];if(void 0!==M0)return JU(M0)}(Xe),mn=me.message;void 0===wt&&(wt=fe.INTERNAL,mn="Unknown error status: "+Xe+" with message "+me.message),v=!0,b.Vo(new Le(wt,mn)),g.close()}else Be(Ji,`RPC '${e}' stream ${i} received:`,U),b.mo(U)}}),A(a,kre.STAT_EVENT,S=>{S.stat===H$.PROXY?Be(Ji,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===H$.NOPROXY&&Be(Ji,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function aj(){return typeof window<"u"?window:null}function n0(){return typeof document<"u"?document:null}function y_(t){return new Kie(t,!0)}class sS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class lj{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new sS(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,y.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,y.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,y.c)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Le(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,y.c)(function*(){e.state=0,e.start()}))}__(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $oe extends lj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Xie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:xt(),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Ft(void 0===h||"string"==typeof h),fi.fromBase64String(h||"")):(Ft(void 0===h||h instanceof Uint8Array),fi.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?fe.UNKNOWN:JU(u.code);return new Le(h,u.message||"")}(s);n=new rB(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=la(t,r.document.name),o=zr(r.document.updateTime),s=r.document.createTime?zr(r.document.createTime):Ut.min(),a=new Oi({mapValue:{fields:r.document.fields}}),l=_r.newFoundDocument(i,o,s,a);n=new BE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=la(t,r.document),o=r.readTime?zr(r.readTime):Ut.min(),s=_r.newNoDocument(i,o);n=new BE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=la(t,r.document);n=new BE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return xt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new jie(i,o);n=new nB(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ut.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ut.min():s.readTime?zr(s.readTime):Ut.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=OA(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=kE(l)?{documents:pB(o,l)}:{query:LA(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=aB(o,s.resumeToken);const u=xA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ut.min())>0){a.readTime=Sf(o,s.snapshotVersion.toTimestamp());const u=xA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Zie(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=OA(this.serializer),n.removeTarget=e,this.t_(n)}}class Uoe extends lj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function Jie(t,e){return t&&t.length>0?(Ft(void 0!==e),t.map(n=>function(i,o){let s=zr(i.updateTime?i.updateTime:o);return s.isEqual(Ut.min())&&(s=zr(o)),new Vie(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.T_(r,n)}return Ft(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=OA(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>d_(this.serializer,r))};this.t_(n)}}class Boe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,kA(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(fe.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,kA(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(fe.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Hoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Hr(n),this.g_=!1):Be("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class zoe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,y.c)(function*(){var l;wc(s)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,y.c)(function*(h){const g=gt(h);g.v_.add(4),yield Ff(g),g.x_.set("Unknown"),g.v_.delete(4),yield I_(g)}),function u(h){return l.apply(this,arguments)})(s))}))}),this.x_=new Hoe(r,i)}}function I_(t){return lS.apply(this,arguments)}function lS(){return lS=(0,y.c)(function*(t){if(wc(t))for(const e of t.F_)yield e(!0)}),lS.apply(this,arguments)}function Ff(t){return cS.apply(this,arguments)}function cS(){return cS=(0,y.c)(function*(t){for(const e of t.F_)yield e(!1)}),cS.apply(this,arguments)}function r0(t,e){const n=gt(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),hS(n)?dS(n):Vf(n).Jo()&&uS(n,e))}function E_(t,e){const n=gt(t),r=Vf(n);n.C_.delete(e),r.Jo()&&cj(n,e),0===n.C_.size&&(r.Jo()?r.Xo():wc(n)&&n.x_.set("Unknown"))}function uS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vf(t).c_(e)}function cj(t,e){t.O_.Oe(e),Vf(t).l_(e)}function dS(t){t.O_=new zie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Vf(t).start(),t.x_.p_()}function hS(t){return wc(t)&&!Vf(t).Ho()&&t.C_.size>0}function wc(t){return 0===gt(t).v_.size}function uj(t){t.O_=void 0}function Goe(t){return fS.apply(this,arguments)}function fS(){return fS=(0,y.c)(function*(t){t.C_.forEach((e,n)=>{uS(t,e)})}),fS.apply(this,arguments)}function qoe(t,e){return pS.apply(this,arguments)}function pS(){return pS=(0,y.c)(function*(t,e){uj(t),hS(t)?(t.x_.S_(e),dS(t)):t.x_.set("Unknown")}),pS.apply(this,arguments)}function Woe(t,e,n){return gS.apply(this,arguments)}function gS(){return gS=(0,y.c)(function*(t,e,n){if(t.x_.set("Online"),e instanceof rB&&2===e.state&&e.cause)try{yield(r=(0,y.c)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield o0(t,r)}else if(e instanceof BE?t.O_.$e(e):e instanceof nB?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ut.min()))try{const r=yield JB(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(u);h&&o.C_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(fi.EMPTY_BYTE_STRING,h.snapshotVersion)),cj(o,l);const g=new Za(h.target,l,u,h.sequenceNumber);uS(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield o0(t,r)}var r}),gS.apply(this,arguments)}function o0(t,e,n){return mS.apply(this,arguments)}function mS(){return mS=(0,y.c)(function*(t,e,n){if(!uc(e))throw e;t.v_.add(1),yield Ff(t),t.x_.set("Offline"),n||(n=()=>JB(t.localStore)),t.asyncQueue.enqueueRetryable((0,y.c)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield I_(t)}))}),mS.apply(this,arguments)}function dj(t,e){return e().catch(n=>o0(t,n,e))}function Lf(t){return _S.apply(this,arguments)}function _S(){return _S=(0,y.c)(function*(t){const e=gt(t),n=Cc(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Koe(e);)try{const i=yield xoe(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,Yoe(e,i)}catch(i){yield o0(e,i)}hj(e)&&fj(e)}),_S.apply(this,arguments)}function Koe(t){return wc(t)&&t.D_.length<10}function Yoe(t,e){t.D_.push(e);const n=Cc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function hj(t){return wc(t)&&!Cc(t).Ho()&&t.D_.length>0}function fj(t){Cc(t).start()}function Qoe(t){return vS.apply(this,arguments)}function vS(){return vS=(0,y.c)(function*(t){Cc(t).d_()}),vS.apply(this,arguments)}function Xoe(t){return yS.apply(this,arguments)}function yS(){return yS=(0,y.c)(function*(t){const e=Cc(t);for(const n of t.D_)e.I_(n.mutations)}),yS.apply(this,arguments)}function Joe(t,e,n){return IS.apply(this,arguments)}function IS(){return IS=(0,y.c)(function*(t,e,n){const r=t.D_.shift(),i=RA.from(r,e,n);yield dj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Lf(t)}),IS.apply(this,arguments)}function Zoe(t,e){return ES.apply(this,arguments)}function ES(){return ES=(0,y.c)(function*(t,e){var n;e&&Cc(t).P_&&(yield(n=(0,y.c)(function*(i,o){if(XU(a=o.code)&&a!==fe.ABORTED){const s=i.D_.shift();Cc(i).Zo(),yield dj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Lf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),hj(t)&&fj(t)}),ES.apply(this,arguments)}function pj(t,e){return wS.apply(this,arguments)}function wS(){return wS=(0,y.c)(function*(t,e){const n=gt(t);n.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=wc(n);n.v_.add(3),yield Ff(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield I_(n)}),wS.apply(this,arguments)}function CS(t,e){return bS.apply(this,arguments)}function bS(){return bS=(0,y.c)(function*(t,e){const n=gt(t);e?(n.v_.delete(2),yield I_(n)):e||(n.v_.add(2),yield Ff(n),n.x_.set("Unknown"))}),bS.apply(this,arguments)}function Vf(t){return t.N_||(t.N_=function(n,r,i){const o=gt(n);return o.R_(),new $oe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Goe.bind(null,t),To:qoe.bind(null,t),u_:Woe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.N_.Zo(),hS(t)?dS(t):t.x_.set("Unknown")):(yield t.N_.stop(),uj(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function Cc(t){return t.B_||(t.B_=function(n,r,i){const o=gt(n);return o.R_(),new Uoe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Qoe.bind(null,t),To:Zoe.bind(null,t),E_:Xoe.bind(null,t),T_:Joe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.B_.Zo(),yield Lf(t)):(yield t.B_.stop(),t.D_.length>0&&(Be("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class TS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new TS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $f(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),uc(t))return new Le(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class Uf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_t.comparator(n.key,r.key):(n,r)=>_t.comparator(n.key,r.key),this.keyedMap=r_(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Uf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Uf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class gj{constructor(){this.L_=new lr(_t.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):xt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bf{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bf(e,n,Uf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&t_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class ese{constructor(){this.q_=void 0,this.Q_=[]}}class tse{constructor(){this.queries=new Xa(e=>xU(e),t_),this.onlineState="Unknown",this.K_=new Set}}function DS(t,e){return AS.apply(this,arguments)}function AS(){return AS=(0,y.c)(function*(t,e){const n=gt(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ese),i)try{o.q_=yield n.onListen(r)}catch(s){const a=$f(s,`Initialization of query '${Cf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&PS(n)}),AS.apply(this,arguments)}function SS(t,e){return RS.apply(this,arguments)}function RS(){return RS=(0,y.c)(function*(t,e){const n=gt(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),RS.apply(this,arguments)}function nse(t,e){const n=gt(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&PS(n)}function rse(t,e,n){const r=gt(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function PS(t){t.K_.forEach(e=>{e.next()})}class MS{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Bf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class ise{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class mj{constructor(e){this.serializer=e}Ps(e){return la(this.serializer,e)}Is(e){return e.metadata.exists?fB(this.serializer,e.document,!1):_r.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return zr(e)}}class ose{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_j(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=In.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new mj(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||un()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,y.c)(function*(){const n=yield function Noe(t,e,n,r){return ZA.apply(this,arguments)}(e.localStore,new mj(e.serializer),e.documents,e.ta.id),r=e.ra(e.documents);for(const i of e.queries)yield koe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function _j(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class vj{constructor(e){this.key=e}}class yj{constructor(e){this.key=e}}class Ij{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=un(),this.mutatedKeys=un(),this.ua=kU(e),this.ca=new Uf(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new gj,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),v=n_(this.query,g)?g:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let S=!1;m&&v?m.data.isEqual(v.data)?b!==A&&(r.track({type:3,doc:v}),S=!0):this.Ia(m,v)||(r.track({type:2,doc:v}),S=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),S=!0):m&&!v&&(r.track({type:1,doc:m}),S=!0,(l||u)&&(a=!0)),S&&(v?(s=s.add(v),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((h,g)=>function(v,b){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return A(v)-A(b)}(h.type,g.type)||this.ua(h.doc,g.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],l=0===this.aa.size&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,0!==s.length||u?{snapshot:new Bf(this.query,e.ca,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new gj,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=un(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new yj(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new vj(r))}),n}Ra(e){this.oa=e.hs,this.aa=un();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Bf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class sse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ase{constructor(e){this.key=e,this.ma=!1}}class lse{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Xa(a=>xU(a),t_),this.pa=new Map,this.ya=new Set,this.wa=new lr(_t.comparator),this.Sa=new Map,this.ba=new GA,this.Da={},this.Ca=new Map,this.va=Ku.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function cse(t,e){return xS.apply(this,arguments)}function xS(){return xS=(0,y.c)(function*(t,e){const n=tR(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield kf(n.localStore,po(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield NS(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&r0(n.remoteStore,s)}return i}),xS.apply(this,arguments)}function NS(t,e,n,r,i){return kS.apply(this,arguments)}function kS(){return kS=(0,y.c)(function*(t,e,n,r,i){t.Ma=(g,m,v)=>{return(b=(0,y.c)(function*(S,H,U,he){let me=H.view.ha(U);me.Xi&&(me=yield JE(S.localStore,H.query,!1).then(({documents:nr})=>H.view.ha(nr,me)));const Xe=he&&he.targetChanges.get(H.targetId),wt=he&&null!=he.targetMismatches.get(H.targetId),mn=H.view.applyChanges(me,S.isPrimaryClient,Xe,wt);return zS(S,H.targetId,mn.da),mn.snapshot}),function A(S,H,U,he){return b.apply(this,arguments)})(t,g,m,v);var b};const o=yield JE(t.localStore,e,!0),s=new Ij(e,o.hs),a=s.ha(o.documents),l=c_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);zS(t,n,u.da);const h=new sse(e,n,s);return t.ga.set(e,h),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}),kS.apply(this,arguments)}function use(t,e){return OS.apply(this,arguments)}function OS(){return OS=(0,y.c)(function*(t,e){const n=gt(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!t_(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Of(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),E_(n.remoteStore,r.targetId),jf(n,r.targetId)}).catch(cc))):(jf(n,r.targetId),yield Of(n.localStore,r.targetId,!0))}),OS.apply(this,arguments)}function FS(){return FS=(0,y.c)(function*(t,e,n){const r=nR(t);try{const i=yield function(s,a){const l=gt(s),u=br.now(),h=a.reduce((v,b)=>v.add(b.key),un());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Po(),A=un();return l.os.getEntries(v,h).next(S=>{b=S,b.forEach((H,U)=>{U.isValidDocument()||(A=A.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(S=>{g=S;const H=[];for(const U of a){const he=Uie(U,g.get(U.key).overlayedDocument);null!=he&&H.push(new Ja(U.key,he,_U(he.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,H,a)}).next(S=>{m=S;const H=S.applyToLocalDocumentSet(g,A);return l.documentOverlayCache.saveOverlays(v,S.batchId,H)})}).then(()=>({batchId:m.batchId,changes:FU(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new lr(Zt)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),yield el(r,i.changes),yield Lf(r.remoteStore)}catch(i){const o=$f(i,"Failed to persist write");n.reject(o)}}),FS.apply(this,arguments)}function Ej(t,e){return LS.apply(this,arguments)}function LS(){return LS=(0,y.c)(function*(t,e){const n=gt(t);try{const r=yield function Moe(t,e){const n=gt(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,g)));let v=m.withSequenceNumber(o.currentSequenceNumber);var A,S,H;null!==e.targetMismatches.get(g)?v=v.withResumeToken(fi.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(g,v),S=v,H=h,(0===(A=m).resumeToken.approximateByteSize()||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,v))});let l=Po(),u=un();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(ZB(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(Ut.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Ft(s.ma):i.removedDocuments.size>0&&(Ft(s.ma),s.ma=!1))}),yield el(n,r,e)}catch(r){yield cc(r)}}),LS.apply(this,arguments)}function wj(t,e,n){const r=gt(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=gt(s);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(const m of g.Q_)m.U_(a)&&(u=!0)}),u&&PS(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hse(t,e,n){return VS.apply(this,arguments)}function VS(){return VS=(0,y.c)(function*(t,e,n){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new lr(_t.comparator);s=s.insert(o,_r.newNoDocument(o,Ut.min()));const a=un().add(o),l=new l_(Ut.min(),new Map,new lr(Zt),s,a);yield Ej(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),GS(r)}else yield Of(r.localStore,e,!1).then(()=>jf(r,e,n)).catch(cc)}),VS.apply(this,arguments)}function fse(t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,y.c)(function*(t,e){const n=gt(t),r=e.batch.batchId;try{const i=yield function Poe(t,e){const n=gt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const g=u.batch,m=g.keys();let v=ne.resolve();return m.forEach(b=>{v=v.next(()=>h.getEntry(l,b)).next(A=>{const S=u.docVersions.get(b);Ft(null!==S),A.version.compareTo(S)<0&&(g.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=un();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);HS(n,r,null),jS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield el(n,i)}catch(i){yield cc(i)}}),$S.apply(this,arguments)}function pse(t,e,n){return US.apply(this,arguments)}function US(){return US=(0,y.c)(function*(t,e,n){const r=gt(t);try{const i=yield function(s,a){const l=gt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(Ft(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);HS(r,e,n),jS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield el(r,i)}catch(i){yield cc(i)}}),US.apply(this,arguments)}function BS(){return BS=(0,y.c)(function*(t,e){const n=gt(t);wc(n.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=gt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=$f(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),BS.apply(this,arguments)}function jS(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function HS(t,e,n){const r=gt(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function jf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Cj(t,r)})}function Cj(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(E_(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),GS(t))}function zS(t,e,n){for(const r of n)r instanceof vj?(t.ba.addReference(r.key,e),mse(t,r)):r instanceof yj?(Be("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Cj(t,r.key)):xt()}function mse(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(Be("SyncEngine","New document in limbo: "+n),t.ya.add(r),GS(t))}function GS(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _t(In.fromString(e)),r=t.va.next();t.Sa.set(r,new ase(n)),t.wa=t.wa.insert(n,r),r0(t.remoteStore,new Za(po(Ef(n.path)),r,"TargetPurposeLimboResolution",zo._e))}}function el(t,e,n){return qS.apply(this,arguments)}function qS(){return qS=(0,y.c)(function*(t,e,n){const r=gt(t),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const h=QA.Ki(l.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=(0,y.c)(function*(u,h){const g=gt(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ne.forEach(h,v=>ne.forEach(v.qi,b=>g.persistence.referenceDelegate.addReference(m,v.targetId,b)).next(()=>ne.forEach(v.Qi,b=>g.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))}catch(m){if(!uc(m))throw m;Be("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const b=g.ns.get(v),S=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);g.ns=g.ns.insert(v,S)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,o))}),qS.apply(this,arguments)}function _se(t,e){return WS.apply(this,arguments)}function WS(){return WS=(0,y.c)(function*(t,e){const n=gt(t);if(!n.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield XB(n.localStore,e);n.currentUser=e,(o=n).Ca.forEach(a=>{a.forEach(l=>{l.reject(new Le(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield el(n,r.us)}var o}),WS.apply(this,arguments)}function vse(t,e){const n=gt(t),r=n.Sa.get(e);if(r&&r.ma)return un().add(r.key);{let i=un();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function yse(t,e){return KS.apply(this,arguments)}function KS(){return KS=(0,y.c)(function*(t,e){const n=gt(t),r=yield JE(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&zS(n,e.targetId,i.da),i}),KS.apply(this,arguments)}function Ise(t,e){return YS.apply(this,arguments)}function YS(){return YS=(0,y.c)(function*(t,e){const n=gt(t);return tj(n.localStore,e).then(r=>el(n,r))}),YS.apply(this,arguments)}function Ese(t,e,n,r){return QS.apply(this,arguments)}function QS(){return QS=(0,y.c)(function*(t,e,n,r){const i=gt(t),o=yield function(a,l){const u=gt(a),h=gt(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.vn(g,l).next(m=>m?u.localDocuments.getDocuments(g,m):ne.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield Lf(i.remoteStore):"acknowledged"===n||"rejected"===n?(HS(i,e,r||null),jS(i,e),l=e,gt(gt(i.localStore).mutationQueue).Mn(l)):xt(),yield el(i,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),QS.apply(this,arguments)}function XS(){return XS=(0,y.c)(function*(t,e){const n=gt(t);if(tR(n),nR(n),!0===e&&!0!==n.Fa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield bj(n,r.toArray());n.Fa=!0,yield CS(n.remoteStore,!0);for(const o of i)r0(n.remoteStore,o)}else if(!1===e&&!1!==n.Fa){const r=[];let i=Promise.resolve();n.pa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(jf(n,s),Of(n.localStore,s,!0))),E_(n.remoteStore,s)}),yield i,yield bj(n,r),function(s){const a=gt(s);a.Sa.forEach((l,u)=>{E_(a.remoteStore,u)}),a.ba.mr(),a.Sa=new Map,a.wa=new lr(_t.comparator)}(n),n.Fa=!1,yield CS(n.remoteStore,!1)}}),XS.apply(this,arguments)}function bj(t,e,n){return JS.apply(this,arguments)}function JS(){return JS=(0,y.c)(function*(t,e,n){const r=gt(t),i=[],o=[];for(const s of e){let a;const l=r.pa.get(s);if(l&&0!==l.length){a=yield kf(r.localStore,po(l[0]));for(const u of l){const h=r.ga.get(u),g=yield yse(r,h);g.snapshot&&o.push(g.snapshot)}}else{const u=yield ej(r.localStore,s);a=yield kf(r.localStore,u),yield NS(r,Tj(u),s,!1,a.resumeToken)}i.push(a)}return r.fa.u_(o),i}),JS.apply(this,arguments)}function Tj(t){return RU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cse(t){return n=gt(t).localStore,gt(gt(n).persistence).Li();var n}function bse(t,e,n,r){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,y.c)(function*(t,e,n,r){const i=gt(t);if(i.Fa)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield tj(i.localStore,NU(o[0])),a=l_.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,fi.EMPTY_BYTE_STRING);yield el(i,s,a);break}case"rejected":yield Of(i.localStore,e,!0),jf(i,e,r);break;default:xt()}}),ZS.apply(this,arguments)}function Tse(t,e,n){return eR.apply(this,arguments)}function eR(){return eR=(0,y.c)(function*(t,e,n){const r=tR(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const o=yield ej(r.localStore,i),s=yield kf(r.localStore,o);yield NS(r,Tj(o),s.targetId,!1,s.resumeToken),r0(r.remoteStore,s)}for(const i of n)r.pa.has(i)&&(yield Of(r.localStore,i,!1).then(()=>{E_(r.remoteStore,i),jf(r,i)}).catch(cc))}}),eR.apply(this,arguments)}function tR(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ej.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hse.bind(null,e),e.fa.u_=nse.bind(null,e.eventManager),e.fa.xa=rse.bind(null,e.eventManager),e}function nR(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pse.bind(null,e),e}class Hf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.c)(function*(){n.serializer=y_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return QB(this.persistence,new YB,e.initialUser,this.serializer)}createPersistence(e){return new qA(YE.Hr,this.serializer)}createSharedClientState(e){return new oj}terminate(){var e=this;return(0,y.c)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rR extends Hf{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e),yield r.Na.initialize(r,e),yield nR(r.Na.syncEngine),yield Lf(r.Na.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return QB(this.persistence,new YB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new UB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Jre(n,this.persistence);return new Xre(e.asyncQueue,r)}createPersistence(e){const n=YA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xi.withCacheSize(this.cacheSizeBytes):Xi.DEFAULT;return new KA(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,aj(),n0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new oj}}class Dj extends rR{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e);const i=r.Na.syncEngine;r.sharedClientState instanceof iS&&(r.sharedClientState.syncEngine={Zs:Ese.bind(null,i),Xs:bse.bind(null,i),eo:Tse.bind(null,i),Li:Cse.bind(null,i),Ys:Ise.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,y.c)(function*(s){yield function wse(t,e){return XS.apply(this,arguments)}(r.Na.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=aj();if(!iS.D(n))throw new Le(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iS(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class zf{initialize(e,n){var r=this;return(0,y.c)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_se.bind(null,r.syncEngine),yield CS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tse}createDatastore(e){const n=y_(e.databaseInfo.databaseId),r=new Voe(e.databaseInfo);return new Boe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>wj(this.syncEngine,n,0),a=sj.D()?new sj:new Ooe,new zoe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const g=new lse(i,o,s,a,l,u);return h&&(g.Fa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,y.c)(function*(){var n,r;yield(r=(0,y.c)(function*(o){const s=gt(o);Be("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Ff(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Aj(t,e=10240){let n=0;return{read:()=>(0,y.c)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,y.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Sse{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new hi,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,y.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,y.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,y.c)(function*(){const n=yield e.Ka();if(null===n)return null;const r=e.qa.decode(n),i=Number(r);isNaN(i)&&e.$a(`length string (${r}) is not valid number`);const o=yield e.Ua(i);return new ise(JSON.parse(o),n.length+i)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,y.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ua(e){var n=this;return(0,y.c)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const r=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,y.c)(function*(){const n=yield e.ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Rse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,y.c)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new Le(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,y.c)(function*(s,a){const l=gt(s),u={documents:a.map(v=>u_(l.serializer,v))},h=yield l.vo("BatchGetDocuments",l.serializer.databaseId,In.emptyPath(),u,a.length),g=new Map;h.forEach(v=>{const b=function Qie(t,e){return"found"in e?function(r,i){Ft(!!i.found);const o=la(r,i.found.name),s=zr(i.found.updateTime),a=i.found.createTime?zr(i.found.createTime):Ut.min(),l=new Oi({mapValue:{fields:i.found.fields}});return _r.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Ft(!!i.missing),Ft(!!i.readTime);const o=la(r,i.missing),s=zr(i.readTime);return _r.newNoDocument(o,s)}(t,e):xt()}(l.serializer,v);g.set(b.key.toString(),b)});const m=[];return a.forEach(v=>{const b=g.get(v.toString());Ft(!!b),m.push(b)}),m}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Af(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=_t.fromPath(i);e.mutations.push(new AA(o,e.precondition(o)))}),yield(r=(0,y.c)(function*(o,s){const a=gt(o),l={writes:s.map(u=>d_(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,In.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw xt();n=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Le(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ut.min())?Tr.exists(!1):Tr.updateTime(n):Tr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ut.min()))throw new Le(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Tr.updateTime(n)}return Tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Pse{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.za=r.maxAttempts,this.jo=new sS(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,y.c)(function*(){const n=new Rse(e.datastore),r=e.Ja(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Ya(o)}))}).catch(i=>{e.Ya(i)})}))}Ja(e){try{const n=this.updateFunction(e);return!Wm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!XU(n)}return!1}}class Mse{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bi.UNAUTHENTICATED,this.clientId=W$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,y.c)(function*(a){Be("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Be("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=$f(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function a0(t,e){return iR.apply(this,arguments)}function iR(){return iR=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,y.c)(function*(o){r.isEqual(o)||(yield XB(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),iR.apply(this,arguments)}function oR(t,e){return sR.apply(this,arguments)}function sR(){return sR=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield aR(t);Be("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>pj(e.remoteStore,i)),t._onlineComponents=e}),sR.apply(this,arguments)}function Sj(t){return"FirebaseError"===t.name?t.code===fe.FAILED_PRECONDITION||t.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function aR(t){return lR.apply(this,arguments)}function lR(){return lR=(0,y.c)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield a0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Sj(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),yield a0(t,new Hf)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield a0(t,new Hf);return t._offlineComponents}),lR.apply(this,arguments)}function l0(t){return cR.apply(this,arguments)}function cR(){return cR=(0,y.c)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield oR(t,t._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield oR(t,new zf))),t._onlineComponents}),cR.apply(this,arguments)}function Rj(t){return aR(t).then(e=>e.persistence)}function Gf(t){return aR(t).then(e=>e.localStore)}function Pj(t){return l0(t).then(e=>e.remoteStore)}function uR(t){return l0(t).then(e=>e.syncEngine)}function qf(t){return dR.apply(this,arguments)}function dR(){return dR=(0,y.c)(function*(t){const e=yield l0(t),n=e.eventManager;return n.onListen=cse.bind(null,e.syncEngine),n.onUnlisten=use.bind(null,e.syncEngine),n}),dR.apply(this,arguments)}function xj(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new s0({next:m=>{s.enqueueAndForget(()=>SS(o,g));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new Le(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&"server"===l.source?u.reject(new Le(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new MS(Ef(a.path),h,{includeMetadataChanges:!0,Z_:!0});return DS(o,g)}(yield qf(t),t.asyncQueue,e,n,r)})),r.promise}function Nj(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new s0({next:m=>{s.enqueueAndForget(()=>SS(o,g)),m.fromCache&&"server"===l.source?u.reject(new Le(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new MS(a,h,{includeMetadataChanges:!0,Z_:!0});return DS(o,g)}(yield qf(t),t.asyncQueue,e,n,r)})),r.promise}function kj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Oj=new Map;function hR(t,e,n){if(!n)throw new Le(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Fj(t,e,n,r){if(!0===e&&!0===r)throw new Le(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Lj(t){if(!_t.isDocumentKey(t))throw new Le(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vj(t){if(_t.isDocumentKey(t))throw new Le(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function c0(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":xt()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=c0(t);throw new Le(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $j(t,e){if(e<=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Uj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class w_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $re;switch(r.type){case"firstParty":return new Hre(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Oj.get(n);r&&(Be("ComponentProvider","Removing Datastore"),Oj.delete(n),r.terminate())}(this),Promise.resolve()}}class Fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class ca extends Fi{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new _t(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function jj(t,e,...n){if(t=(0,hn.Yj)(t),hR("collection","path",e),t instanceof w_){const r=In.fromString(e,...n);return Vj(r),new ca(t,null,r)}{if(!(t instanceof vr||t instanceof ca))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return Vj(r),new ca(t.firestore,null,r)}}function u0(t,e,...n){if(t=(0,hn.Yj)(t),1===arguments.length&&(e=W$.newId()),hR("doc","path",e),t instanceof w_){const r=In.fromString(e,...n);return Lj(r),new vr(t,null,new _t(r))}{if(!(t instanceof vr||t instanceof ca))throw new Le(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return Lj(r),new vr(t.firestore,t instanceof ca?t.converter:null,new _t(r))}}function Hj(t,e){return t=(0,hn.Yj)(t),e=(0,hn.Yj)(e),(t instanceof vr||t instanceof ca)&&(e instanceof vr||e instanceof ca)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function fR(t,e){return t=(0,hn.Yj)(t),e=(0,hn.Yj)(e),t instanceof Fi&&e instanceof Fi&&t.firestore===e.firestore&&t_(t._query,e._query)&&t.converter===e.converter}class Hse{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new sS(this,"async_queue_retry"),this._u=()=>{const n=n0();n&&Be("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=n0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=n0();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new hi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,y.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!uc(n))throw n;Be("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,Hr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=TS.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&xt()}verifyOperationInProgress(){}hu(){var e=this;return(0,y.c)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function pR(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class zse{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends w_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hse,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zj(this),this._firestoreClient.terminate()}}function Vr(t){return t._firestoreClient||zj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zj(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new yie(t._databaseId,l,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kj(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;t._firestoreClient=new Mse(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gj(t,e,n){const r=new hi;return t.asyncQueue.enqueue((0,y.c)(function*(){try{yield a0(t,n),yield oR(t,e),r.resolve()}catch(i){const o=i;if(!Sj(o))throw o;So("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function qj(t){if(t._initialized||t._terminated)throw new Le(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(fi.fromBase64String(e))}catch(n){throw new Le(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Le(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._methodName=e}}class d0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const tae=/^__.*__$/;class nae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms):new Df(e,this.data,n,this.fieldTransforms)}}class Wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ja(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Kj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class h0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new h0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return g0(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(Kj(this.du)&&tae.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class rae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y_(e)}Su(e,n,r,i=!1){return new h0({du:e,methodName:n,wu:r,path:mr.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(t){const e=t._freezeSettings(),n=y_(t._databaseId);return new rae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f0(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);ER("Data must be an object, but it was:",s,r);const a=Xj(r,s);let l,u;if(o.merge)l=new Ro(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=T_(e,g,n);if(!s.contains(m))throw new Le(fe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Zj(h,m)||h.push(m)}l=new Ro(h),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new nae(new Oi(a),l,u)}class b_ extends Qu{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b_}}function Yj(t,e,n){return new h0({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gR extends Qu{_toFieldTransform(e){return new o_(e.path,new bf)}isEqual(e){return e instanceof gR}}class mR extends Qu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Yj(this,e,!0),r=this.bu.map(o=>Ju(o,n)),i=new Bu(r);return new o_(e.path,i)}isEqual(e){return e instanceof mR&&(0,hn.IN)(this.bu,e.bu)}}class _R extends Qu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Yj(this,e,!0),r=this.bu.map(o=>Ju(o,n)),i=new ju(r);return new o_(e.path,i)}isEqual(e){return e instanceof _R&&(0,hn.IN)(this.bu,e.bu)}}class vR extends Qu{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Tf(e.serializer,UU(e.serializer,this.Du));return new o_(e.path,n)}isEqual(e){return e instanceof vR&&this.Du===e.Du}}function yR(t,e,n,r){const i=t.Su(1,e,n);ER("Data must be an object, but it was:",i,r);const o=[],s=Oi.empty();dc(r,(l,u)=>{const h=p0(e,l,n);u=(0,hn.Yj)(u);const g=i.fu(h);if(u instanceof b_)o.push(h);else{const m=Ju(u,g);null!=m&&(o.push(h),s.set(h,m))}});const a=new Ro(o);return new Wj(s,a,i.fieldTransforms)}function IR(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[T_(e,r,n)],l=[i];if(o.length%2!=0)throw new Le(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(T_(e,o[m])),l.push(o[m+1]);const u=[],h=Oi.empty();for(let m=a.length-1;m>=0;--m)if(!Zj(u,a[m])){const v=a[m];let b=l[m];b=(0,hn.Yj)(b);const A=s.fu(v);if(b instanceof b_)u.push(v);else{const S=Ju(b,A);null!=S&&(u.push(v),h.set(v,S))}}const g=new Ro(u);return new Wj(h,g,s.fieldTransforms)}function Qj(t,e,n,r=!1){return Ju(n,t.Su(r?4:3,e))}function Ju(t,e){if(Jj(t=(0,hn.Yj)(t)))return ER("Unsupported field value:",e,t),Xj(t,e);if(t instanceof Qu)return function(r,i){if(!Kj(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Ju(a,i.gu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,hn.Yj)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return UU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:Sf(i.serializer,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sf(i.serializer,o)}}if(r instanceof d0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:aB(i.serializer,r._byteString)};if(r instanceof vr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:NA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${c0(r)}`)}(t,e)}function Xj(t,e){const n={};return lU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,(r,i)=>{const o=Ju(i,e.Ru(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function Jj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof br||t instanceof d0||t instanceof ua||t instanceof vr||t instanceof Qu)}function ER(t,e,n){if(!Jj(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=c0(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function T_(t,e,n){if((e=(0,hn.Yj)(e))instanceof tl)return e._internalPath;if("string"==typeof e)return p0(t,e);throw g0("Field path arguments must be of type string or ",t,!1,void 0,n)}const iae=new RegExp("[~\\*/\\[\\]]");function p0(t,e,n){if(e.search(iae)>=0)throw g0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tl(...e.split("."))._internalPath}catch{throw g0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function g0(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Le(fe.INVALID_ARGUMENT,a+t+l)}function Zj(t,e){return t.some(n=>n.isEqual(e))}class D_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new oae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m0("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class oae extends D_{data(){return super.data()}}function m0(t,e){return"string"==typeof e?p0(t,e):e instanceof tl?e._internalPath:e._delegate._internalPath}function e4(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Le(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wR{}class A_ extends wR{}function bc(t,e,...n){let r=[];e instanceof wR&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Wf).length,a=o.filter(l=>l instanceof S_).length;if(s>1||s>0&&a>0)throw new Le(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class S_ extends A_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new S_(e,n,r)}_apply(e){const n=this._parse(e);return i4(e._query,n),new Fi(e.firestore,e.converter,TA(e._query,n))}_parse(e){const n=Xu(e.firestore);return function(o,s,a,l,u,h,g){let m;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){r4(g,h);const v=[];for(const b of g)v.push(n4(l,o,b));m={arrayValue:{values:v}}}else m=n4(l,o,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||r4(g,h),m=Qj(a,"where",g,"in"===h||"not-in"===h);return En.create(u,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wf extends wR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wf(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)i4(s,l),s=TA(s,l)}(e._query,n),new Fi(e.firestore,e.converter,TA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class CR extends A_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CR(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zm(o,s)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Qa(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class _0 extends A_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _0(e,n,r)}_apply(e){return new Fi(e.firestore,e.converter,FE(e._query,this._limit,this._limitType))}}class v0 extends A_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new v0(e,n,r)}_apply(e){const n=t4(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(o=n,new Qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class y0 extends A_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new y0(e,n,r)}_apply(e){const n=t4(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(o=n,new Qa((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function t4(t,e,n,r){if(n[0]=(0,hn.Yj)(n[0]),n[0]instanceof D_)return function(o,s,a,l,u){if(!l)throw new Le(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of wf(o))if(g.field.isKeyField())h.push($u(s,l.key));else{const m=l.data.field(g.field);if(RE(m))throw new Le(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=g.field.canonicalString();throw new Le(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new _c(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Xu(t.firestore);return function(s,a,l,u,h,g){const m=s.explicitOrderBy;if(h.length>m.length)throw new Le(fe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const A=h[b];if(m[b].field.isKeyField()){if("string"!=typeof A)throw new Le(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof A}`);if(!bA(s)&&-1!==A.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${A}' contains a slash.`);const S=s.path.child(In.fromString(A));if(!_t.isDocumentKey(S))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const H=new _t(S);v.push($u(a,H))}else{const S=Qj(l,u,A);v.push(S)}}return new _c(v,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function n4(t,e,n){if("string"==typeof(n=(0,hn.Yj)(n))){if(""===n)throw new Le(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bA(e)&&-1!==n.indexOf("/"))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(In.fromString(n));if(!_t.isDocumentKey(r))throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $u(t,new _t(r))}if(n instanceof vr)return $u(t,n._key);throw new Le(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${c0(n)}.`)}function r4(t,e){if(!Array.isArray(t)||0===t.length)throw new Le(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function i4(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Le(fe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bR{convertValue(e,n="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new d0(Lr(e.latitude),Lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ym(e));default:return null}}convertTimestamp(e){const n=hc(e);return new br(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);Ft(vB(r));const i=new fc(r.get(1),r.get(3)),o=new _t(r.popFirst(5));return i.isEqual(n)||Hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function I0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pae extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends D_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new R_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class R_ extends nl{data(e={}){return super.data(e)}}class Tc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new R_(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new R_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new R_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:mae(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}function s4(t,e){return t instanceof nl&&e instanceof nl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Tc&&e instanceof Tc&&t._firestore===e._firestore&&fR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class Dc extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function a4(t,e,n){t=yn(t,vr);const r=yn(t.firestore,cr),i=I0(t.converter,e,n);return Kf(r,[f0(Xu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Tr.none())])}function l4(t,e,n,...r){t=yn(t,vr);const i=yn(t.firestore,cr),o=Xu(i);let s;return s="string"==typeof(e=(0,hn.Yj)(e))||e instanceof tl?IR(o,"updateDoc",t._key,e,n,r):yR(o,"updateDoc",t._key,e),Kf(i,[s.toMutation(t._key,Tr.exists(!0))])}function c4(t,...e){var n,r,i;t=(0,hn.Yj)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||pR(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(pR(e[s])){const g=e[s];e[s]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let l,u,h;if(t instanceof vr)u=yn(t.firestore,cr),h=Ef(t._key.path),l={next:g=>{e[s]&&e[s](TR(u,t,g))},error:e[s+1],complete:e[s+2]};else{const g=yn(t,Fi);u=yn(g.firestore,cr),h=g._query;const m=new Dc(u);l={next:v=>{e[s]&&e[s](new Tc(u,m,g,v))},error:e[s+1],complete:e[s+2]},e4(t._query)}return function(m,v,b,A){const S=new s0(A),H=new MS(v,S,b);return m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return DS(yield qf(m),H)})),()=>{S.La(),m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return SS(yield qf(m),H)}))}}(Vr(u),h,a,l)}function Kf(t,e){return function(r,i){const o=new hi;return r.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function dse(t,e,n){return FS.apply(this,arguments)}(yield uR(r),i,o)})),o.promise}(Vr(t),e)}function TR(t,e,n){const r=n.docs.get(e._key),i=new Dc(t);return new nl(t,i,e._key,r,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}const kae={maxAttempts:5};class u4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}set(e,n,r){this._verifyNotCommitted();const i=Ac(e,this._firestore),o=I0(i.converter,n,r),s=f0(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,Tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Ac(e,this._firestore);let s;return s="string"==typeof(n=(0,hn.Yj)(n))||n instanceof tl?IR(this._dataReader,"WriteBatch.update",o._key,n,r,i):yR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ac(e,this._firestore);return this._mutations=this._mutations.concat(new Af(n._key,Tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ac(t,e){if((t=(0,hn.Yj)(t)).firestore!==e)throw new Le(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Oae extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Xu(n)}get(n){const r=Ac(n,this._firestore),i=new pae(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return xt();const s=o[0];if(s.isFoundDocument())return new D_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new D_(this._firestore,i,r._key,null,r.converter);throw xt()})}set(n,r,i){const o=Ac(n,this._firestore),s=I0(o.converter,r,i),a=f0(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Ac(n,this._firestore);let a;return a="string"==typeof(r=(0,hn.Yj)(r))||r instanceof tl?IR(this._dataReader,"Transaction.update",s._key,r,i,o):yR(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Ac(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ac(e,this._firestore),r=new Dc(this._firestore);return super.get(e).then(i=>new nl(this._firestore,r,n._key,i._document,new Zu(!1,!1),n.converter))}}function AR(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function p4(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function g4(){if(!function _ie(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){ff=Zs.SDK_VERSION,(0,Zs._registerComponent)(new ZI.Yl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new cr(new Bre(r.getProvider("auth-internal")),new zre(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(z$,"4.4.2",e),(0,Zs.registerVersion)(z$,"4.4.2","esm2017")}();class P_{constructor(e){this._delegate=e}static fromBase64String(e){return g4(),new P_(ua.fromBase64String(e))}static fromUint8Array(e){return p4(),new P_(ua.fromUint8Array(e))}toBase64(){return g4(),this._delegate.toBase64()}toUint8Array(){return p4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SR(t){return function Gae(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class qae{enableIndexedDbPersistence(e,n){return function qse(t,e){qj(t=yn(t,cr));const n=Vr(t);if(n._uninitializedComponentsProvider)throw new Le(fe.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new zf;return Gj(n,i,new rR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function Wse(t){qj(t=yn(t,cr));const e=Vr(t);if(e._uninitializedComponentsProvider)throw new Le(fe.FAILED_PRECONDITION,"SDK cache is already specified.");So("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new zf;return Gj(e,r,new Dj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Kse(t){if(t._initialized&&!t._terminated)throw new Le(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return t._queue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{yield(n=(0,y.c)(function*(i){if(!hs.D())return Promise.resolve();const o=i+"main";yield hs.delete(o)}),function r(i){return n.apply(this,arguments)})(YA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class m4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&So("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function Bj(t,e,n,r={}){var i;const o=(t=yn(t,w_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=bi.MOCK_USER;else{a=(0,hn.YD)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Le(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bi(u)}t._authCredentials=new Ure(new G$(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function Qse(t){return function xse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Rj(t),n=yield Pj(t);return e.setNetworkEnabled(!0),function(i){const o=gt(i);return o.v_.delete(0),I_(o)}(n)}))}(Vr(t=yn(t,cr)))}(this._delegate)}disableNetwork(){return function Xse(t){return function Nse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Rj(t),n=yield Pj(t);return e.setNetworkEnabled(!1),(r=(0,y.c)(function*(o){const s=gt(o);s.v_.add(0),yield Ff(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Vr(t=yn(t,cr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Fj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Yse(t){return function(n){const r=new hi;return n.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function gse(t,e){return BS.apply(this,arguments)}(yield uR(n),r)})),r.promise}(Vr(t=yn(t,cr)))}(this._delegate)}onSnapshotsInSync(e){return function Tae(t,e){return function Fse(t,e){const n=new s0(e);return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield qf(t),o=n,gt(i).K_.add(o),void o.next();var i,o})),()=>{n.La(),t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield qf(t),o=n,void gt(i).K_.delete(o);var i,o}))}}(Vr(t=yn(t,cr)),pR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yf(this,jj(this._delegate,e))}catch(n){throw go(n,"collection()","Firestore.collection()")}}doc(e){try{return new fs(this,u0(this._delegate,e))}catch(n){throw go(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new mo(this,function jse(t,e){if(t=yn(t,w_),hR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fi(t,null,(r=e,new Qa(In.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw go(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Fae(t,e,n){t=yn(t,cr);const r=Object.assign(Object.assign({},kae),n);return function(o){if(o.maxAttempts<1)throw new Le(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new hi;return o.asyncQueue.enqueueAndForget((0,y.c)(function*(){const u=yield function Mj(t){return l0(t).then(e=>e.datastore)}(o);new Pse(o.asyncQueue,u,a,s,l).ja()})),l.promise}(Vr(t),i=>e(new Oae(t,i)),r)}(this._delegate,n=>e(new _4(this,n)))}batch(){return Vr(this._delegate),new v4(new u4(this._delegate,e=>Kf(this._delegate,e)))}loadBundle(e){return function Jse(t,e){const n=Vr(t=yn(t,cr)),r=new zse;return function Lse(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?ZU().encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return Aj(h,g);if(h instanceof ArrayBuffer)return Aj(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Sse(h,a);var h}(n,y_(e));t.asyncQueue.enqueueAndForget((0,y.c)(function*(){!function Dse(t,e,n){const r=gt(t);var i;(i=(0,y.c)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(b,A){const S=gt(b),H=zr(A.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",U=>S.$r.getBundleMetadata(U,A.id)).then(U=>!!U&&U.createTime.compareTo(H)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(_j(u));const h=new ose(u,s.localStore,a.serializer);let g=yield a.Oa();for(;g;){const v=yield h.na(g);v&&l._updateProgress(v),g=yield a.Oa()}const m=yield h.complete();return yield el(s,m.sa,void 0),yield function(b,A){const S=gt(b);return S.persistence.runTransaction("Save bundle","readwrite",H=>S.$r.saveBundleMetadata(H,A))}(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m.ia)}catch(u){return So("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield uR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Zse(t,e){return function Vse(t,e){return t.asyncQueue.enqueue((0,y.c)(function*(){return function(r,i){const o=gt(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Gf(t),e)}))}(Vr(t=yn(t,cr)),e).then(n=>n?new Fi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new mo(this,n):null)}}class w0 extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new P_(new ua(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return fs.forKey(n,this.firestore,null)}}class _4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new w0(e)}get(e){const n=td(e);return this._delegate.get(n).then(r=>new M_(this._firestore,new nl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=td(e);return r?(AR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=td(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=td(e);return this._delegate.delete(n),this}}class v4{constructor(e){this._delegate=e}set(e,n,r){const i=td(e);return r?(AR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=td(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=td(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ed{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new R_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new x_(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ed.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new ed(e,new w0(e),n),i.set(n,o)),o}}ed.INSTANCES=new WeakMap;class fs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new w0(e)}static forPath(e,n,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fs(n,new vr(n._delegate,r,new _t(e)))}static forKey(e,n,r){return new fs(n,new vr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yf(this.firestore,jj(this._delegate,e))}catch(n){throw go(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,hn.Yj)(e))instanceof vr&&Hj(this._delegate,e)}set(e,n){n=AR("DocumentReference.set",n);try{return n?a4(this._delegate,e,n):a4(this._delegate,e)}catch(r){throw go(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?l4(this._delegate,e):l4(this._delegate,e,n,...r)}catch(i){throw go(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Cae(t){return Kf(yn(t.firestore,cr),[new Af(t._key,Tr.none())])}(this._delegate)}onSnapshot(...e){const n=y4(e),r=I4(e,i=>new M_(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return c4(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function vae(t){t=yn(t,vr);const e=yn(t.firestore,cr),n=Vr(e),r=new Dc(e);return function kse(t,e){const n=new hi;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield function(h,g){const m=gt(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,g))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Le(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=$f(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Gf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new nl(e,r,t._key,i,new Zu(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function yae(t){t=yn(t,vr);const e=yn(t.firestore,cr);return xj(Vr(e),t._key,{source:"server"}).then(n=>TR(e,t,n))}(this._delegate):function _ae(t){t=yn(t,vr);const e=yn(t.firestore,cr);return xj(Vr(e),t._key).then(n=>TR(e,t,n))}(this._delegate),n.then(r=>new M_(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?ed.getInstance(this.firestore,e):null))}}function go(t,e,n){return t.message=t.message.replace(e,n),t}function y4(t){for(const e of t)if("object"==typeof e&&!SR(e))return e;return{}}function I4(t,e){var n,r;let i;return i=SR(t[0])?t[0]:SR(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class M_{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new fs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return s4(this._delegate,e._delegate)}}class x_ extends M_{data(e){const n=this._delegate.data(e);return this._delegate._converter||function Vre(t,e){t||xt()}(void 0!==n),n}}class mo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new w0(e)}where(e,n,r){try{return new mo(this.firestore,bc(this._delegate,function sae(t,e,n){const r=e,i=m0("where",t);return S_._create(i,r,n)}(e,n,r)))}catch(i){throw go(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new mo(this.firestore,bc(this._delegate,function aae(t,e="asc"){const n=e,r=m0("orderBy",t);return CR._create(r,n)}(e,n)))}catch(r){throw go(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new mo(this.firestore,bc(this._delegate,function lae(t){return $j("limit",t),_0._create("limit",t,"F")}(e)))}catch(n){throw go(n,"limit()","Query.limit()")}}limitToLast(e){try{return new mo(this.firestore,bc(this._delegate,function cae(t){return $j("limitToLast",t),_0._create("limitToLast",t,"L")}(e)))}catch(n){throw go(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new mo(this.firestore,bc(this._delegate,function uae(...t){return v0._create("startAt",t,!0)}(...e)))}catch(n){throw go(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new mo(this.firestore,bc(this._delegate,function dae(...t){return v0._create("startAfter",t,!1)}(...e)))}catch(n){throw go(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new mo(this.firestore,bc(this._delegate,function hae(...t){return y0._create("endBefore",t,!1)}(...e)))}catch(n){throw go(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new mo(this.firestore,bc(this._delegate,function fae(...t){return y0._create("endAt",t,!0)}(...e)))}catch(n){throw go(n,"endAt()","Query.endAt()")}}isEqual(e){return fR(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function Eae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Vr(e),r=new Dc(e);return function Ose(t,e){const n=new hi;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield JE(o,s,!0),u=new Ij(s,l.hs),h=u.ha(l.documents),g=u.applyChanges(h,!1);a.resolve(g.snapshot)}catch(l){const u=$f(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Gf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Tc(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function wae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Vr(e),r=new Dc(e);return Nj(n,t._query,{source:"server"}).then(i=>new Tc(e,r,t,i))}(this._delegate):function Iae(t){t=yn(t,Fi);const e=yn(t.firestore,cr),n=Vr(e),r=new Dc(e);return e4(t._query),Nj(n,t._query).then(i=>new Tc(e,r,t,i))}(this._delegate),n.then(r=>new RR(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=y4(e),r=I4(e,i=>new RR(this.firestore,new Tc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return c4(this._delegate,n,r)}withConverter(e){return new mo(this.firestore,this._delegate.withConverter(e?ed.getInstance(this.firestore,e):null))}}class Kae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new x_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RR{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new x_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Kae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new x_(this._firestore,r))})}isEqual(e){return s4(this._delegate,e._delegate)}}class Yf extends mo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fs(this.firestore,e):null}doc(e){try{return new fs(this.firestore,void 0===e?u0(this._delegate):u0(this._delegate,e))}catch(n){throw go(n,"doc()","CollectionReference.doc()")}}add(e){return function bae(t,e){const n=yn(t.firestore,cr),r=u0(t),i=I0(t.converter,e);return Kf(n,[f0(Xu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new fs(this.firestore,n))}isEqual(e){return Hj(this._delegate,e._delegate)}withConverter(e){return new Yf(this.firestore,this._delegate.withConverter(e?ed.getInstance(this.firestore,e):null))}}function td(t){return yn(t,vr)}class PR{constructor(...e){this._delegate=new tl(...e)}static documentId(){return new PR(mr.keyField().canonicalString())}isEqual(e){return(e=(0,hn.Yj)(e))instanceof tl&&this._delegate._internalPath.isEqual(e._internalPath)}}class nd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vae(){return new gR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new nd(e)}static delete(){const e=function Lae(){return new b_("deleteField")}();return e._methodName="FieldValue.delete",new nd(e)}static arrayUnion(...e){const n=function $ae(...t){return new mR("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new nd(n)}static arrayRemove(...e){const n=function Uae(...t){return new _R("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new nd(n)}static increment(e){const n=function Bae(t){return new vR("increment",t)}(e);return n._methodName="FieldValue.increment",new nd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Yae={Firestore:m4,GeoPoint:d0,Timestamp:br,Blob:P_,Transaction:_4,WriteBatch:v4,DocumentReference:fs,DocumentSnapshot:M_,Query:mo,QueryDocumentSnapshot:x_,QuerySnapshot:RR,CollectionReference:Yf,FieldPath:PR,FieldValue:nd,setLogLevel:function Wae(t){!function Lre(t){lc.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function E4(t,e){return function Jae(t,e=UT){return new Rn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function MR(t,e){return E4(t,e).pipe(vt(n=>({payload:n,type:"query"})))}!function Xae(t){(function Qae(t,e){t.INTERNAL.registerComponent(new ZI.Yl("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Yae)))})(t,(e,n)=>new m4(e,n,new qae)),t.registerVersion("@firebase/firestore-compat","0.3.25")}(Bo.c);class w4{constructor(e,n){vn(this,"ref",void 0),vn(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=D4(r,n);return new T4(i,o,this.afs)}snapshotChanges(){return function Zae(t,e){return E4(t,e).pipe(wI(void 0),CD(),vt(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return this.snapshotChanges().pipe(vt(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return jn(this.ref.get(e)).pipe(co)}}function C0(t,e){return MR(t,e).pipe(wI(void 0),CD(),vt(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(g=>g.doc.ref.isEqual(a.ref)),h=null==r?void 0:r.payload.docs.find(g=>g.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function C4(t,e,n){return C0(t,n).pipe(bI((r,i)=>function ele(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function tle(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return xR(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return xR(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return xR(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),a2(),vt(r=>r.map(i=>({type:i.type,payload:i}))))}function xR(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function b4(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class T4{constructor(e,n,r){vn(this,"ref",void 0),vn(this,"query",void 0),vn(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=C0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(vt(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(wI(void 0),CD(),Uo(([r,i])=>i.length>0||!r),vt(([,r])=>r),co)}auditTrail(e){return this.stateChanges(e).pipe(bI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=b4(e);return C4(this.query,n,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return MR(this.query,this.afs.schedulers.outsideAngular).pipe(vt(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),co)}get(e){return jn(this.query.get(e)).pipe(co)}add(e){return this.ref.add(e)}doc(e){return new w4(this.ref.doc(e),this.afs)}}class nle{constructor(e,n){vn(this,"query",void 0),vn(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?C0(this.query,this.afs.schedulers.outsideAngular).pipe(vt(n=>n.filter(r=>e.indexOf(r.type)>-1)),Uo(n=>n.length>0),co):C0(this.query,this.afs.schedulers.outsideAngular).pipe(co)}auditTrail(e){return this.stateChanges(e).pipe(bI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=b4(e);return C4(this.query,n,this.afs.schedulers.outsideAngular).pipe(co)}valueChanges(e={}){return MR(this.query,this.afs.schedulers.outsideAngular).pipe(vt(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),co)}get(e){return jn(this.query.get(e)).pipe(co)}}const rle=new ot("angularfire2.enableFirestorePersistence"),ile=new ot("angularfire2.firestore.persistenceSettings"),ole=new ot("angularfire2.firestore.settings"),sle=new ot("angularfire2.firestore.use-emulator");function D4(t,e=(n=>n)){return{query:e(t),ref:t}}let Qf=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b,A,S,H,U,he){vn(this,"schedulers",void 0),vn(this,"firestore",void 0),vn(this,"persistenceEnabled$",void 0),this.schedulers=u;const me=$I(r,l,i),Xe=g;m&&KL(me,l,v,A,S,H,b,U),[this.firestore,this.persistenceEnabled$]=zT(`${me.name}.firestore`,"AngularFirestore",me.name,()=>{const wt=l.runOutsideAngular(()=>me.firestore());if(s&&wt.settings(s),Xe&&wt.useEmulator(...Xe),o&&!mI(a)){const mn=()=>{try{return jn(wt.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(nr){return typeof console<"u"&&console.warn(nr),Bt(!1)}};return[wt,l.runOutsideAngular(mn)]}return[wt,Bt(!1)]},[s,Xe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=D4(o,i),l=this.schedulers.ngZone.run(()=>s);return new T4(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new nle(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new w4(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(ze(hm),ze(fm,8),ze(rle,8),ze(ole,8),ze(Lo),ze(Se),ze(HT),ze(ile,8),ze(sle,8),ze(ea,8),ze(jL,8),ze(HL,8),ze(zL,8),ze(GL,8),ze(qL,8),ze(WL,8),ze(jT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),ale=(()=>{var t;class e{constructor(r,i,o){this.afAuth=r,this.router=i,this.firestore=o}register(r){var i=this;return(0,y.c)(function*(){const s=document.getElementById("register-email").value;if("pro"==r)var a="pro";else a="normal";const u=document.getElementById("password1").value;if(u===document.getElementById("password2").value)try{const v=(yield i.afAuth.createUserWithEmailAndPassword(s,u)).user;if(v){const b=v.uid,S=document.getElementById("name_input1").value,U=document.getElementById("username_input1").value,me=document.getElementById("phone_input1").value,Xe=v.uid,wt={uid:b,mail:s,name:S,username:U,phone:me,type:a};yield i.firestore.collection("users_data").doc(Xe).set(wt),console.log("Account registrato con successo"),i.router.navigate(["/home"])}else console.error("L'utente \xe8 null")}catch(m){alert("Errore durante la registrazione: "+m.message)}else alert("Le password inserite non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ea),E(pr),E(Qf))},t.\u0275cmp=He({type:t,selectors:[["app-register"]],decls:37,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"height","18rem","object-fit","contain"],[1,"card1",2,"width","90%","margin-bottom","1.5rem"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["id","register-email","type","email","placeholder","Email",1,"field1"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-top","0rem","margin-bottom","0rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white",3,"click"],[1,"div1"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(le(0,"body"),at(1,"img",0),le(2,"div",1)(3,"div",2),at(4,"img",3)(5,"input",4),Ce(),le(6,"div",2),at(7,"img",3)(8,"input",5),Ce(),le(9,"div",2),at(10,"img",6)(11,"input",7),Ce(),le(12,"div",2),at(13,"img",3)(14,"input",8),Ce(),le(15,"div",2),at(16,"img",6)(17,"input",9),Ce(),le(18,"div",2),at(19,"img",6)(20,"input",10),Ce(),le(21,"button",11),Wt("click",function(){return i.register("normal")}),le(22,"div",12),at(23,"img",13),le(24,"p",14),Dt(25,"Registrati"),Ce()()(),le(26,"p",15),Dt(27,"Oppure:"),Ce(),le(28,"button",16),Wt("click",function(){return i.register("pro")}),le(29,"div",17),at(30,"img",18),le(31,"p",19),Dt(32,"Registrati come organizzatore"),Ce()()()(),le(33,"p",20),Dt(34,"Hai gi\xe0 un account?"),le(35,"strong",21),Wt("click",function(){return i.toLogin()}),Dt(36,"Accedi"),Ce()()())}}),e})();const A4="firebasestorage.googleapis.com",S4="storageBucket";class Mr extends hn.kx{constructor(e,n,r=0){super(NR(e),`Firebase Storage: ${n} (${NR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return NR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Dr||{});function NR(t){return"storage/"+t}function kR(){return new Mr(Dr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function R4(){return new Mr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P4(){return new Mr(Dr.CANCELED,"User canceled the upload/download.")}function M4(){return new Mr(Dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xf(t){return new Mr(Dr.INVALID_ARGUMENT,t)}function x4(){return new Mr(Dr.APP_DELETED,"The Firebase app was deleted.")}function N4(t){return new Mr(Dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function N_(t,e){return new Mr(Dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function k_(t){throw new Mr(Dr.INTERNAL_ERROR,"Internal error: "+t)}class Zi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zi.makeFromUrl(e,n)}catch{return new Zi(e,"")}if(""===r.path)return r;throw function _le(t){return new Mr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(me){me.path_=decodeURIComponent(me.path)}const g=n.replace(/[.]/g,"\\."),he=[{regex:a,indices:{bucket:1,path:3},postModify:function o(me){"/"===me.path.charAt(me.path.length-1)&&(me.path_=me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===A4?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let me=0;me<he.length;me++){const Xe=he[me],wt=Xe.regex.exec(e);if(wt){let nr=wt[Xe.indices.path];nr||(nr=""),r=new Zi(wt[Xe.indices.bucket],nr),Xe.postModify(r);break}}if(null==r)throw function mle(t){return new Mr(Dr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class wle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function b0(t){return"string"==typeof t||t instanceof String}function k4(t){return OR()&&t instanceof Blob}function OR(){return typeof Blob<"u"}function FR(t,e,n,r){if(r<e)throw Xf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xf(`Invalid value for '${t}'. Expected ${n} or less.`)}function rl(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function O4(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Jf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Jf||{});function F4(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Sle{constructor(e,n,r,i,o,s,a,l,u,h,g,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Tle(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=kR();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?x4():P4():R4())};this.canceled_?n(0,new T0(!1,null,!0)):this.backoffId_=function Cle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function g(S){i=setTimeout(()=>{i=null,t(v,l())},S)}function m(){o&&clearTimeout(o)}function v(S,...H){if(u)return void m();if(S)return m(),void h.call(null,S,...H);if(l()||s)return m(),void h.call(null,S,...H);let he;r<64&&(r*=2),1===a?(a=2,he=0):he=1e3*(r+Math.random()),g(he)}let b=!1;function A(S){b||(b=!0,m(),!u&&(null!==i?(S||(a=2),clearTimeout(i),g(0)):S||(a=1)))}return g(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}((r,i)=>{if(i)return void r(!1,new T0(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Jf.NO_ERROR,l=o.getStatus();if(!a||F4(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Jf.ABORT;return void r(!1,new T0(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new T0(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ble(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class T0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ole(...t){const e=function kle(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(OR())return new Blob(t);throw new Mr(Dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class LR{constructor(e,n){this.data=e,this.contentType=n||null}}function VR(t,e){switch(t){case Go.RAW:return new LR(L4(e));case Go.BASE64:case Go.BASE64URL:return new LR(V4(t,e));case Go.DATA_URL:return new LR(function $le(t){const e=new $4(t);return e.base64?V4(Go.BASE64,e.rest):function Vle(t){let e;try{e=decodeURIComponent(t)}catch{throw N_(Go.DATA_URL,"Malformed data URL.")}return L4(e)}(e.rest)}(e),function Ule(t){return new $4(t).contentType}(e))}throw kR()}function L4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function V4(t,e){switch(t){case Go.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw N_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Go.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw N_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function Lle(t){if(typeof atob>"u")throw function Ele(t){return new Mr(Dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:N_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw N_(Go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function Ble(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class da{constructor(e,n){let r=0,i="";k4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(k4(this.data_)){const i=function Fle(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new da(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new da(r,!0)}}static getBlob(...e){if(OR()){const n=e.map(r=>r instanceof da?r.data_:r);return new da(Ole.apply(null,n))}{const n=e.map(s=>b0(s)?VR(Go.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new da(i,!0)}}uploadData(){return this.data_}}function $R(t){let e;try{e=JSON.parse(t)}catch{return null}return function Ale(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function U4(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function zle(t,e){return e}class _o{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||zle}}let D0=null;function O_(){if(D0)return D0;const t=[];t.push(new _o("bucket")),t.push(new _o("generation")),t.push(new _o("metageneration")),t.push(new _o("name","fullPath",!0));const n=new _o("name");n.xform=function e(o,s){return function Gle(t){return!b0(t)||t.length<2?t:U4(t)}(s)},t.push(n);const i=new _o("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new _o("timeCreated")),t.push(new _o("updated")),t.push(new _o("md5Hash",null,!0)),t.push(new _o("cacheControl",null,!0)),t.push(new _o("contentDisposition",null,!0)),t.push(new _o("contentEncoding",null,!0)),t.push(new _o("contentLanguage",null,!0)),t.push(new _o("contentType",null,!0)),t.push(new _o("metadata","customMetadata",!0)),D0=t,D0}function B4(t,e,n){const r=$R(e);return null===r?null:function Wle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function qle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Zi(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function UR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const j4="prefixes",H4="items";class ha{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fa(t){if(!t)throw kR()}function A0(t,e){return function n(r,i){const o=B4(t,i,e);return fa(null!==o),o}}function Zf(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function ple(){return new Mr(Dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function fle(){return new Mr(Dr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function hle(t){return new Mr(Dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function gle(t){return new Mr(Dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function F_(t){const e=Zf(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function dle(t){return new Mr(Dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function z4(t,e,n){const i=rl(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",A0(t,n),s);return a.errorHandler=F_(e),a}function Zle(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=rl(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,h=new ha(a,"GET",function Xle(t,e){return function n(r,i){const o=function Qle(t,e,n){const r=$R(n);return null===r?null:function Yle(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[j4])for(const i of n[j4]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Zi(e,o));r.prefixes.push(s)}if(n[H4])for(const i of n[H4]){const o=t._makeStorageReference(new Zi(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return fa(null!==o),o}}(t,e.bucket),u);return h.urlParams=o,h.errorHandler=Zf(e),h}function q4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function rce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class S0{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function BR(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{fa(!1)}return fa(!!n&&-1!==(e||["active"]).indexOf(n)),n}const ace={STATE_CHANGED:"state_changed"},vo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jR(t){switch(t){case"running":case"pausing":case"canceling":return vo.RUNNING;case"paused":return vo.PAUSED;case"success":return vo.SUCCESS;case"canceled":return vo.CANCELED;default:return vo.ERROR}}class lce{constructor(e,n,r){if(function Dle(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function ep(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let Y4=null;class cce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw k_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw k_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw k_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw k_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw k_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class uce extends cce{initXhr(){this.xhr_.responseType="text"}}function xs(){return Y4?Y4():new uce}class Q4{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=O_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(F4(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=R4()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Dr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function ice(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=q4(e,r,i),a={name:s.fullPath},l=rl(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=UR(s,n),b=new ha(l,"POST",function v(A){let S;BR(A);try{S=A.getResponseHeader("X-Goog-Upload-URL")}catch{fa(!1)}return fa(b0(S)),S},t.maxUploadRetryTime);return b.urlParams=a,b.headers=h,b.body=g,b.errorHandler=Zf(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xs,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function oce(t,e,n,r){const l=new ha(n,"POST",function o(u){const h=BR(u,["active","final"]);let g=null;try{g=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fa(!1)}g||fa(!1);const m=Number(g);return fa(!isNaN(m)),new S0(m,r.size(),"final"===h)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Zf(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,xs,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new S0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function sce(t,e,n,r,i,o,s,a){const l=new S0(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function yle(){return new Mr(Dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const g=l.current;let v="";v=0===h?"finalize":u===h?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=r.slice(g,g+h);if(null===A)throw M4();const he=new ha(n,"POST",function S(me,Xe){const wt=BR(me,["active","final"]),mn=l.current+h,nr=r.size();let ol;return ol="final"===wt?A0(e,o)(me,Xe):null,new S0(mn,nr,"final"===wt,ol)},e.maxUploadRetryTime);return he.headers=b,he.body=A.uploadData(),he.progressCallback=a||null,he.errorHandler=Zf(t),he}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,xs,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=z4(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,xs,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function W4(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let he="";for(let me=0;me<2;me++)he+=Math.random().toString().slice(2);return he}();s["Content-Type"]="multipart/related; boundary="+l;const u=q4(e,r,i),h=UR(u,n),v=da.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===v)throw M4();const b={name:u.fullPath},A=rl(o,t.host,t._protocol),H=t.maxUploadRetryTime,U=new ha(A,"POST",A0(t,n),H);return U.urlParams=b,U.headers=s,U.body=v.uploadData(),U.errorHandler=Zf(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,xs,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=P4(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=jR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new lce(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(jR(this._state)){case vo.SUCCESS:ep(this._resolve.bind(null,this.snapshot))();break;case vo.CANCELED:case vo.ERROR:ep(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jR(this._state)){case vo.RUNNING:case vo.PAUSED:e.next&&ep(e.next.bind(e,this.snapshot))();break;case vo.SUCCESS:e.complete&&ep(e.complete.bind(e))();break;default:e.error&&ep(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class rd{constructor(e,n){this._service=e,this._location=n instanceof Zi?n:Zi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new rd(e,n)}get root(){const e=new Zi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return U4(this._location.path)}get storage(){return this._service}get parent(){const e=function jle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Zi(this._location.bucket,e);return new rd(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw N4(e)}}function J4(t,e,n){return HR.apply(this,arguments)}function HR(){return HR=(0,y.c)(function*(t,e,n){const i=yield Z4(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield J4(t,e,i.nextPageToken))}),HR.apply(this,arguments)}function Z4(t,e){null!=e&&"number"==typeof e.maxResults&&FR("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Zle(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,xs)}function wce(t){t._throwIfRoot("getDownloadURL");const e=function ece(t,e,n){const i=rl(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new ha(i,"GET",function Jle(t,e){return function n(r,i){const o=B4(t,i,e);return fa(null!==o),function Kle(t,e,n,r){const i=$R(e);if(null===i||!b0(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const g=t.fullPath;return rl("/b/"+s(t.bucket)+"/o/"+s(g),n,r)+O4({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=F_(e),a}(t.storage,t._location,O_());return t.storage.makeRequestWithTokens(e,xs).then(n=>{if(null===n)throw function Ile(){return new Mr(Dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function e3(t,e){const n=function Hle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Zi(t._location.bucket,n);return new rd(t.storage,r)}function t3(t,e){if(t instanceof zR){const n=t;if(null==n._bucket)throw function vle(){return new Mr(Dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S4+"' property when initializing the app?")}();const r=new rd(n,n._bucket);return null!=e?t3(r,e):r}return void 0!==e?e3(t,e):t}function Dce(t,e){if(e&&function bce(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof zR)return function Tce(t,e){return new rd(t,e)}(t,e);throw Xf("To use ref(service, url), the first argument must be a Storage instance.")}return t3(t,e)}function n3(t,e){const n=null==e?void 0:e[S4];return null==n?null:Zi.makeFromBucketSpec(n,t)}class zR{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=A4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Zi.makeFromBucketSpec(i,this._host):n3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Zi.makeFromBucketSpec(this._url,e):n3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,y.c)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,y.c)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rd(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new wle(x4());{const s=function Nle(t,e,n,r,i,o,s=!0){const a=O4(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function Mle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Rle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function Ple(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function xle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Sle(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,y.c)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const r3="@firebase/storage";function s3(t,e){return Dce(t=(0,hn.Yj)(t),e)}function Fce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zR(n,r,i,e,Zs.SDK_VERSION)}!function Lce(){(0,Zs._registerComponent)(new ZI.Yl("storage",Fce,"PUBLIC").setMultipleInstances(!0)),(0,Zs.registerVersion)(r3,"0.12.1",""),(0,Zs.registerVersion)(r3,"0.12.1","esm2017")}();class R0{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class l3{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new R0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new R0(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new R0(s,this,this._ref)):{next:n.next?s=>n.next(new R0(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class c3{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new il(e,this._service))}get items(){return this._delegate.items.map(e=>new il(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class il{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Oce(t,e){return e3(t,e)}(this._delegate,e);return new il(n,this.storage)}get root(){return new il(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new il(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new l3(function Sce(t,e,n){return function _ce(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Q4(t,new da(e),n)}(t=(0,hn.Yj)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Go.RAW,r){this._throwIfRoot("putString");const i=VR(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new l3(new Q4(this._delegate,new da(i.data,!0),o),this)}listAll(){return function xce(t){return function yce(t){const e={prefixes:[],items:[]};return J4(t,e).then(()=>e)}(t=(0,hn.Yj)(t))}(this._delegate).then(e=>new c3(e,this.storage))}list(e){return function Mce(t,e){return Z4(t=(0,hn.Yj)(t),e)}(this._delegate,e||void 0).then(n=>new c3(n,this.storage))}getMetadata(){return function Rce(t){return function Ice(t){t._throwIfRoot("getMetadata");const e=z4(t.storage,t._location,O_());return t.storage.makeRequestWithTokens(e,xs)}(t=(0,hn.Yj)(t))}(this._delegate)}updateMetadata(e){return function Pce(t,e){return function Ece(t,e){t._throwIfRoot("updateMetadata");const n=function tce(t,e,n,r){const o=rl(e.fullServerUrl(),t.host,t._protocol),a=UR(n,r),u=t.maxOperationRetryTime,h=new ha(o,"PATCH",A0(t,r),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=F_(e),h}(t.storage,t._location,e,O_());return t.storage.makeRequestWithTokens(n,xs)}(t=(0,hn.Yj)(t),e)}(this._delegate,e)}getDownloadURL(){return function Nce(t){return wce(t=(0,hn.Yj)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function kce(t){return function Cce(t){t._throwIfRoot("deleteObject");const e=function nce(t,e){const r=rl(e.fullServerUrl(),t.host,t._protocol),a=new ha(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=F_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,xs)}(t=(0,hn.Yj)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw N4(e)}}class u3{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(d3(e))throw Xf("ref() expected a child path but got a URL, use refFromURL instead.");return new il(s3(this._delegate,e),this)}refFromURL(e){if(!d3(e))throw Xf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zi.makeFromUrl(e,this._delegate.host)}catch{throw Xf("refFromUrl() expected a valid full URL but got an invalid one.")}return new il(s3(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function a3(t,e,n,r={}){!function Ace(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,hn.YD)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function d3(t){return/^[A-Za-z]+:\/\//.test(t)}function Bce(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new u3(n,r)}!function jce(t){const e={TaskState:vo,TaskEvent:ace,StringFormat:Go,Storage:u3,Reference:il};t.INTERNAL.registerComponent(new ZI.Yl("storage-compat",Bce,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.4")}(Bo.c);let tp=(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.afAuth=i,this.router=o}initialize(){const r=localStorage.getItem("user_datas");r?(JSON.parse(r),console.log("Account data fetched from localStorage")):this.afAuth.authState.subscribe(i=>{i?this.firestore.collection("users_data",o=>o.where("uid","==",i.uid)).get().subscribe(o=>{if(o.empty)alert("Impossibile trovare i dati associati al tuo account");else{const s=o.docs[0].data();localStorage.setItem("user_datas",JSON.stringify(s)),console.log("Account data fetched from the server"),JSON.stringify(s)}}):this.router.navigate(["/log"])})}logged_user_data(){const r=localStorage.getItem("user_datas");return JSON.parse(r)}addLikeToEvent(r){this.firestore.collection("events").doc(r).set({likes:Bo.c.firestore.FieldValue.increment(1)},{merge:!0})}addLikeToSpot(r){this.firestore.collection("spots").doc(r).set({likes:Bo.c.firestore.FieldValue.increment(1)},{merge:!0})}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(Qf),ze(ea),ze(pr))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),id=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["id","under_bar"],["routerLink","/spot","name","people",2,"font-size","1.8rem"],["routerLink","/home","name","albums",2,"font-size","1.8rem"],["routerLink","/add","name","add-circle",2,"font-size","1.8rem"],["routerLink","/chats","name","chatbubble",2,"font-size","1.8rem"],["routerLink","/account","name","person-circle",2,"font-size","1.8rem"]],template:function(r,i){1&r&&(le(0,"div",0),at(1,"ion-icon",1)(2,"ion-icon",2)(3,"ion-icon",3)(4,"ion-icon",4)(5,"ion-icon",5),Ce())},dependencies:[Mu,JI,nc]}),e})();function Hce(t,e){if(1&t){const n=ib();le(0,"div",28)(1,"div",29),at(2,"ion-icon",30)(3,"ion-icon",31),Ce(),le(4,"img",32),Wt("click",function(){const o=wd(n).$implicit;return Cd(as().showDetails(o))}),Ce(),le(5,"div",33)(6,"div",34)(7,"ion-icon",35),Wt("click",function(){const o=wd(n).$implicit;return Cd(as().addLikeToEvent(o.id))}),Ce(),at(8,"ion-icon",36),Ce(),le(9,"p",37),Dt(10),Ce(),le(11,"h5",37),Dt(12),Ce(),le(13,"p",38),Dt(14),Ce()()()}if(2&t){const n=e.$implicit;Or(4),jy("src",n.imageUrl,du),Or(6),Eu("Piace a ",n.likes," persone"),Or(2),Iu(n.title),Or(2),Iu(n.description)}}let zce=(()=>{var t;class e{constructor(r,i){this.firestore=r,this.firebaseService=i}ngOnInit(){this.documents=this.firestore.collection("events").valueChanges({idField:"id"}).pipe(vt(r=>r.map(i=>({id:i.id,...i}))))}showDetails(r){document.getElementById("post-details").style.display="flex",document.getElementById("post-img-details").src=r.imageUrl,document.getElementById("post-title-details").innerHTML=r.title,document.getElementById("post-description-details").innerHTML=r.description}getPrivateEvents(){this.documents=this.firestore.collection("events",r=>r.where("type","==","private")).valueChanges({idField:"id"}).pipe(vt(r=>r.map(i=>({id:i.id,...i}))))}getPublicEvents(){this.documents=this.firestore.collection("events",r=>r.where("type","==","public")).valueChanges({idField:"id"}).pipe(vt(r=>r.map(i=>({id:i.id,...i}))))}addLikeToEvent(r){this.firebaseService.addLikeToEvent(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Qf),E(tp))},t.\u0275cmp=He({type:t,selectors:[["app-home"]],decls:44,vars:3,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","overflow-y","auto"],[1,"up_bar",2,"width","100%","min-height","6.5rem","display","flex","flex-direction","column","align-items","center","overflow","hidden"],[2,"width","100%","padding-left","0.5rem","margin-top","0.5rem","margin-bottom","0rem","display","flex","flex-direction","row","align-items","center"],["src","assets\\img\\icon-logo.jpg","alt","",2,"width","2.5rem","height","2.5rem","object-fit","contain"],[2,"font-size","1.6rem","padding-top","0.4rem","padding-left","0.2rem"],[2,"flex","1"],["routerLink","/search","name","search",2,"font-size","1.8rem"],["routerLink","/notifications","name","notifications",2,"font-size","1.8rem","padding-right","0.5rem","padding-left","0.5rem"],[2,"width","100%","height","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-evenly"],[3,"click"],[2,"background","rgba(255, 255, 255, 0.082)","width","1px","height","70%"],["style","width: 100%;",4,"ngFor","ngForOf"],[1,"overflow1"],["id","spacer"],["id","post-details",2,"position","absolute","z-index","999","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","black"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem"],["id","post-title-details"],["onclick","document.getElementById('post-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[2,"width","100%","display","flex","align-items","center","justify-content","center","padding-left","1rem","padding-right","1rem"],["id","post-img-details",2,"width","100%"],[2,"width","100%","display","flex","padding-left","1rem"],["id","post-description-details"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","margin-bottom","2rem"],["onclick","document.getElementById('reserve-details').style.display = 'flex'; ",1,"button2",2,"width","95%","height","2.5rem"],["id","reserve-details",2,"position","absolute","z-index","1000","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","black"],["onclick","document.getElementById('reserve-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[1,"button2",2,"width","95%","height","2.5rem"],[2,"width","100%"],[2,"width","100%","height","2.8rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["name","person-circle-outline",2,"font-size","1.8rem","padding-left","0.5rem"],["name","ellipsis-vertical",2,"font-size","1.8rem","padding-right","0.5rem"],[2,"width","100%","object-fit","cover",3,"src","click"],[2,"padding-left","0.5rem","padding-top","0.5rem"],[2,"width","100%","height","2rem","display","flex","flex-direction","row","gap","0.8rem","margin-bottom","0.3rem"],["name","heart-outline",2,"font-size","1.9rem",3,"click"],["name","chatbubble-outline",2,"font-size","1.8rem"],[2,"margin-bottom","0.5rem","margin-top","0rem"],[2,"margin-top","0rem","font-weight","200","max-height","5rem","overflow","hidden"]],template:function(r,i){1&r&&(le(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3),at(4,"img",4),le(5,"strong",5),Dt(6,"Eventi"),Ce(),at(7,"div",6)(8,"ion-icon",7)(9,"ion-icon",8),Ce(),le(10,"div",9)(11,"strong",10),Wt("click",function(){return i.getPublicEvents()}),Dt(12,"Pubblici"),Ce(),at(13,"div",11),le(14,"strong",10),Wt("click",function(){return i.getPrivateEvents()}),Dt(15,"Privati"),Ce()()(),oo(16,Hce,15,4,"div",12),zy(17,"async"),Ce(),le(18,"div",13),at(19,"div",14)(20,"app-footer"),Ce(),le(21,"div",15)(22,"div",16),at(23,"h3",17)(24,"ion-icon",18),Ce(),le(25,"div",19),at(26,"img",20),Ce(),le(27,"div",21),at(28,"p",22),Ce(),le(29,"div",23)(30,"button",24),Dt(31,"Prenota"),Ce()()(),le(32,"div",25)(33,"div",16)(34,"h3"),Dt(35,"Prenota l'evento"),Ce(),at(36,"ion-icon",26),Ce(),le(37,"div",19),at(38,"img",20),Ce(),le(39,"div",21),at(40,"p",22),Ce(),le(41,"div",23)(42,"button",27),Dt(43,"Conferma"),Ce()()()()),2&r&&(Or(16),ui("ngForOf",Gy(17,1,i.documents)))},dependencies:[pI,Mu,JI,nc,id,gI]}),e})(),Gce=(()=>{var t;class e{constructor(r,i,o){this.afAuth=r,this.router=i,this.firebaseService=o,this.afAuth.authState.subscribe(s=>{this.router.navigate(s?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ea),E(pr),E(tp))},t.\u0275cmp=He({type:t,selectors:[["app-splash"]],decls:3,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\img\\trasparent_logo.png"]],template:function(r,i){1&r&&(le(0,"body")(1,"div",0),at(2,"img",1),Ce()())}}),e})(),qce=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(E(pr))},t.\u0275cmp=He({type:t,selectors:[["app-log"]],decls:18,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"button1",2,"width","90%","margin-top","1rem",3,"click"],[1,"div1"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white",3,"click"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"]],template:function(r,i){1&r&&(le(0,"body"),at(1,"img",0),le(2,"div",1)(3,"button",2),Wt("click",function(){return i.toLogin()}),le(4,"div",3),at(5,"img",4),le(6,"p",5),Dt(7,"Accedi al tuo account"),Ce()()(),le(8,"button",2),Wt("click",function(){return i.toRegister()}),le(9,"div",3),at(10,"img",4),le(11,"p",5),Dt(12,"Iscriviti come utente"),Ce()()(),le(13,"button",6),Wt("click",function(){return i.toRegister()}),le(14,"div",3),at(15,"img",7),le(16,"p",8),Dt(17,"Iscriviti come organizzatore"),Ce()()()()())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:start;font-family:Public Sans;background:#000;overflow-x:hidden;overflow-y:auto}.button1[_ngcontent-%COMP%]{font-family:Public Sans;background:#000;padding:.5rem;border-radius:.5rem;display:flex;flex-direction:row;align-items:center;justify-content:start}.div1[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-items:start;margin-left:2rem;height:100%}.card1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#474747;border-radius:1rem}"]}),e})();function h3(t){const e=function Kce(t){return new Rn(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Wce(t,e=UT){return Et((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=s+t,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}n.subscribe(Ot(r,u=>{o=u,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(vt(n=>n.bytesTransferred/n.totalBytes*100))}}function P0(t){return{getDownloadURL:()=>Bt(void 0).pipe(LL,Pr(()=>t.getDownloadURL()),co),getMetadata:()=>Bt(void 0).pipe(LL,Pr(()=>t.getMetadata()),co),delete:()=>jn(t.delete()),child:e=>P0(t.child(e)),updateMetadata:e=>jn(t.updateMetadata(e)),put:(e,n)=>h3(t.put(e,n)),putString:(e,n,r)=>h3(t.putString(e,n,r)),list:e=>jn(t.list(e)),listAll:()=>jn(t.listAll())}}const Yce=new ot("angularfire2.storageBucket"),Qce=new ot("angularfire2.storage.maxUploadRetryTime"),Xce=new ot("angularfire2.storage.maxOperationRetryTime"),Jce=new ot("angularfire2.storage.use-emulator");let f3=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m){vn(this,"storage",void 0);const v=$I(r,a,i);this.storage=zT(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const b=a.runOutsideAngular(()=>v.storage(o||void 0)),A=g;return A&&b.useEmulator(...A),u&&b.setMaxUploadRetryTime(u),h&&b.setMaxOperationRetryTime(h),b},[u,h])}ref(r){return P0(this.storage.ref(r))}refFromURL(r){return P0(this.storage.refFromURL(r))}upload(r,i,o){return P0(this.storage.ref(r)).put(i,o)}}return t=e,vn(e,"\u0275fac",function(r){return new(r||t)(ze(hm),ze(fm,8),ze(Yce,8),ze(Lo),ze(Se),ze(HT),ze(Qce,8),ze(Xce,8),ze(Jce,8),ze(jT,8))}),vn(e,"\u0275prov",St({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();function Zce(t,e){1&t&&at(0,"img",31),2&t&&ui("src",as().imageSrc,du)}function eue(t,e){if(1&t&&(le(0,"div",32),at(1,"progress",33),le(2,"span"),Dt(3),Ce()()),2&t){const n=as();Or(),ui("value",n.uploadProgress),Or(2),Eu("",n.uploadProgress,"%")}}function tue(t,e){1&t&&at(0,"img",31),2&t&&ui("src",as().imageSrc,du)}function nue(t,e){if(1&t&&(le(0,"div",32),at(1,"progress",33),le(2,"span"),Dt(3),Ce()()),2&t){const n=as();Or(),ui("value",n.uploadProgress),Or(2),Eu("",n.uploadProgress,"%")}}let rue=(()=>{var t;class e{constructor(r,i,o,s,a){this.firestore=r,this.afAuth=i,this.storage=o,this.router=s,this.firebaseService=a,this.selectedImage=null,this.imageUrl=null,this.uploadProgress=null}ngOnInit(){}goBack(){"flex"==document.getElementById("add-selection").style.display?this.router.navigate(["/home"]):(document.getElementById("add-selection").style.display="flex",document.getElementById("add-spot").style.display="none",document.getElementById("add-event").style.display="none")}showEventCreation(){document.getElementById("add-selection").style.display="none",document.getElementById("add-spot").style.display="none",document.getElementById("add-event").style.display="flex"}showSpotCreation(){document.getElementById("add-selection").style.display="none",document.getElementById("add-event").style.display="none",document.getElementById("add-spot").style.display="flex"}onFileSelected(r){const i=r.target.files[0];if(i){const o=new FileReader;o.onload=s=>{this.imageSrc=s.target.result},o.readAsDataURL(i)}this.selectedImage=i}addEvent(){var r=this;return(0,y.c)(function*(){var i=document.getElementById("event-title-input").value,o=document.getElementById("event-description-input").value;if(r.firebaseService.logged_user_data().account_type="pro")var a="private";else a="public";r.afAuth.authState.subscribe(function(){var l=(0,y.c)(function*(u){if(u)if(r.selectedImage)try{const m=r.storage.ref("event-images/").child(r.selectedImage.name).put(r.selectedImage);m.percentageChanges().subscribe(S=>{r.uploadProgress=S});const b=yield(yield m).ref.getDownloadURL(),A={creator_id:u.uid,title:i,description:o,imageUrl:b,type:a,timestamp:Bo.c.firestore.FieldValue.serverTimestamp()};r.firestore.collection("events").add(A).then(()=>{alert("Evento aggiunto con successo")}).catch(S=>{alert("Errore durante l'aggiunta dell'evento: "+S.message.toString())})}catch(h){console.error("Errore durante il caricamento dell'immagine:",h)}else alert("Nessuna immagine selezionata");else alert("Per pubblicare un evento \xe8 necessario effettuare il login o la registrazione")});return function(u){return l.apply(this,arguments)}}())})()}addSpot(){var r=this;return(0,y.c)(function*(){var i=document.getElementById("spot-datetime-input").value,o=document.getElementById("spot-where-input").value,s=document.getElementById("spot-description-input").value;r.afAuth.authState.subscribe(function(){var l=(0,y.c)(function*(u){if(u)if(r.selectedImage)try{const m=r.storage.ref("spot-images/").child(r.selectedImage.name).put(r.selectedImage);m.percentageChanges().subscribe(S=>{r.uploadProgress=S});const b=yield(yield m).ref.getDownloadURL(),A={creator_id:u.uid,datetime:i,description:s,imageUrl:b,where:o,privacy:"null",timestamp:Bo.c.firestore.FieldValue.serverTimestamp()};r.firestore.collection("spots").add(A).then(()=>{alert("Spot aggiunto con successo")}).catch(S=>{alert("Errore durante l'aggiunta dello spot: "+S.message.toString())})}catch(h){console.error("Errore durante il caricamento dell'immagine:",h)}else alert("Nessuna immagine selezionata");else alert("Per pubblicare uno spot \xe8 necessario effettuare il login o la registrazione")});return function(u){return l.apply(this,arguments)}}())})()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Qf),E(ea),E(f3),E(pr),E(tp))},t.\u0275cmp=He({type:t,selectors:[["app-add"]],decls:54,vars:4,consts:[[2,"height","100%","overflow-y","hidden"],[2,"width","100%","display","flex","align-items","center","padding-top","1rem","padding-left","1rem","pointer-events","all"],[2,"background","#950DE8","padding","0.5rem","border-radius","50%","display","flex","flex-direction","column","align-items","center",3,"click"],[1,"material-symbols-outlined","notranslate",2,"width","100","text-align","center"],["id","add-selection",2,"width","100%","height","100%","display","flex","flex-direction","column"],[2,"width","100%","padding-left","0.5rem"],[1,"button3",2,"border-top","1px solid rgba(255, 255, 255, 0.062)",3,"click"],["id","add-spot",2,"width","100%","height","100%","display","none","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","4rem","overflow-y","auto"],[1,"card1",2,"width","95%"],[2,"color","#FFFFFF80","margin-bottom","0rem","width","100%","padding-left","1rem","margin-top","1rem"],["style","width: 90%; height: 8rem; object-fit: contain; margin-top: 1rem;",3,"src",4,"ngIf"],["for","spot-image-input",1,"card3",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","4rem"],["src","assets\\img\\material-symbols_perm-media.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem"],["id","spot-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","z-index","1",3,"change"],[2,"color","#FFFFFF80"],["for","spot-datetime-input",2,"color","#FFFFFF80","margin-bottom","0rem","width","100%","padding-left","1rem","margin-top","1rem"],["id","spot-datetime-input","type","datetime-local",1,"card3","field2",2,"width","90%","height","2.5rem","padding-right","0.5rem","margin-top","0.2rem"],["id","spot-description-input","type","text","placeholder","Descrizione",1,"card3","field2",2,"width","90%","min-height","8rem","resize","vertical"],["for","spot-where-input",2,"color","#FFFFFF80","margin-bottom","0rem","width","100%","padding-left","1rem","margin-top","1rem"],["id","spot-where-input","type","text",1,"card3","field2",2,"width","90%","height","2.5rem","padding-right","0.5rem","margin-top","0.2rem"],["style","height: 4rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; margin-bottom: -1rem;",4,"ngIf"],[1,"button2",2,"width","90%","margin-top","1rem","margin-bottom","1rem","height","3rem",3,"click"],["id","add-event",2,"width","100%","height","100%","display","none","flex-direction","column","align-items","center","padding-top","1rem","padding-bottom","4rem","overflow-y","auto"],["for","event-image-input",1,"card3",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","4rem"],["id","event-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","pointer-events","all","z-index","1",3,"change"],["id","event-title-input","type","text","placeholder","Titolo",1,"card3","field2",2,"width","90%","height","2.5rem"],["id","event-description-input","type","text","placeholder","Descrizione",1,"card3","field2",2,"width","90%","min-height","8rem","resize","vertical"],[1,"card3",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","3rem"],["src","assets\\img\\material-symbols_location-on-rounded.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem"],[1,"overflow1"],["id","spacer"],[2,"width","90%","height","8rem","object-fit","contain","margin-top","1rem",3,"src"],[2,"height","4rem","display","flex","align-items","center","justify-content","center","gap","0.5rem","margin-bottom","-1rem"],["max","100",3,"value"]],template:function(r,i){1&r&&(le(0,"body",0)(1,"div",1)(2,"button",2),Wt("click",function(){return i.goBack()}),le(3,"span",3),Dt(4,"arrow_back_ios_new"),Ce()()(),le(5,"div",4)(6,"h3",5),Dt(7,"Cosa vuoi pubblicare"),Ce(),le(8,"button",6),Wt("click",function(){return i.showEventCreation()}),Dt(9,"Evento"),Ce(),le(10,"button",6),Wt("click",function(){return i.showSpotCreation()}),Dt(11,"Spot"),Ce()(),le(12,"div",7)(13,"div",8)(14,"h3",9),Dt(15,"Nuovo spot"),Ce(),oo(16,Zce,1,1,"img",10),le(17,"label",11),at(18,"img",12),le(19,"input",13),Wt("change",function(s){return i.onFileSelected(s)}),Ce(),le(20,"p",14),Dt(21,"Seleziona media"),Ce()(),le(22,"label",15),Dt(23,"Data e ora"),Ce(),at(24,"input",16)(25,"textarea",17),le(26,"label",18),Dt(27,"Luogo"),Ce(),at(28,"input",19),oo(29,eue,4,2,"div",20),le(30,"button",21),Wt("click",function(){return i.addSpot()}),Dt(31,"Pubblica"),Ce()()(),le(32,"div",22)(33,"div",8)(34,"h3",9),Dt(35,"Nuovo evento"),Ce(),oo(36,tue,1,1,"img",10),le(37,"label",23),at(38,"img",12),le(39,"input",24),Wt("change",function(s){return i.onFileSelected(s)}),Ce(),le(40,"p",14),Dt(41,"Seleziona media"),Ce()(),at(42,"input",25)(43,"textarea",26),le(44,"button",27),at(45,"img",28),le(46,"p",14),Dt(47,"Aggiungi posizione"),Ce()(),oo(48,nue,4,2,"div",20),le(49,"button",21),Wt("click",function(){return i.addEvent()}),Dt(50,"Pubblica"),Ce()()(),le(51,"div",29),at(52,"div",30)(53,"app-footer"),Ce()()),2&r&&(Or(16),ui("ngIf",i.imageSrc),Or(13),ui("ngIf",null!==i.uploadProgress),Or(7),ui("ngIf",i.imageSrc),Or(12),ui("ngIf",null!==i.uploadProgress))},dependencies:[zg,id]}),e})();function iue(t,e){1&t&&at(0,"img",50),2&t&&jy("src",e.$implicit.imageUrl,du)}function oue(t,e){1&t&&at(0,"img",51),2&t&&ui("src",as().imageSrc,du)}let sue=(()=>{var t;class e{constructor(r,i,o,s,a,l){this.firestore=r,this.afAuth=i,this.firebaseService=o,this.storage=s,this.router=a,this.locationStrategy=l,this.isIntersecting=!1,this.selectedImage=null,this.imageUrl=null,this.uploadProgress=null}ngOnInit(){this.afAuth.authState.subscribe(r=>{if(r){this.documents=this.firestore.collection("posts",m=>m.where("creator_id","==",r.uid)).valueChanges();const s=localStorage.getItem("user_datas"),a=JSON.parse(s);var i=document.getElementById("account-image"),o=document.getElementById("account-image-change");null!=i&&(i.src=a.imageUrl),null!=o&&(o.src=a.imageUrl),document.getElementById("name-and-surname").innerHTML=a.name,document.getElementById("description").innerHTML=a.description,document.getElementById("username").innerHTML="@"+a.username;const l=document.getElementById("account-name-and-surname-change"),u=document.getElementById("account-username-change"),h=document.getElementById("account-phone-number-change"),g=document.getElementById("account-description-change");l.value=a.name,u.value=a.username,h.value=a.phone,g.value=a.description}else alert("Impossibile mostrare i dati del profilo se non si possiede un account")}),this.getMyEvents()}onFileSelected(r){document.getElementById("changed-image-preview").style.display="flex";const i=r.target.files[0];if(i){const o=new FileReader;o.onload=s=>{this.imageSrc=s.target.result},o.readAsDataURL(i)}this.selectedImage=i}updateAccountDatas(){var r=this;return(0,y.c)(function*(){const i=document.getElementById("account-name-and-surname-change").value,o=document.getElementById("account-username-change").value,s=document.getElementById("account-description-change").value,a=document.getElementById("account-phone-number-change").value;r.afAuth.authState.subscribe(function(){var l=(0,y.c)(function*(u){if(u)try{if(r.selectedImage){const m=r.storage.ref("account-images/").child(r.selectedImage.name).put(r.selectedImage);m.percentageChanges().subscribe(S=>{r.uploadProgress=S});const b=yield(yield m).ref.getDownloadURL(),A={name:i,username:o,description:s,phoneNumber:a,imageUrl:b};yield r.firestore.collection("users_data").doc(u.uid).update(A)}else{const h={name:i,description:s,username:o,phoneNumber:a};yield r.firestore.collection("users_data").doc(u.uid).update(h)}localStorage.removeItem("user_datas"),r.firebaseService.initialize(),alert("Dati dell'account aggiornati con successo")}catch(h){console.error("Si \xe8 verificato un errore durante l'aggiornamento dei dati dell'account:",h),alert("Si \xe8 verificato un errore durante l'aggiornamento dei dati dell'account"+h)}else alert("Per aggiornare i dati dell'account \xe8 necessario effettuare il login")});return function(u){return l.apply(this,arguments)}}())})()}onIntersection(r){this.isIntersecting=r.isIntersecting,this.isIntersecting&&console.log("hello?")}refresh(){this.ngOnInit(),document.getElementById("change-account-data").style.display="none"}completeRefresh(){localStorage.removeItem("user_datas"),setTimeout(this.firebaseService.initialize,2e3),setTimeout(this.ngOnInit,3e3)}getMyEvents(){this.afAuth.authState.subscribe(r=>{r&&(this.events=this.firestore.collection("events",i=>i.where("creator_id","==",r.uid).limit(4)).valueChanges({idField:"id"}).pipe(vt(i=>i.map(o=>({id:o.id,...o})))))})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Qf),E(ea),E(tp),E(f3),E(pr),E(Ds))},t.\u0275cmp=He({type:t,selectors:[["app-account"]],decls:73,vars:4,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","pointer-events","all","overflow-x","hidden","overflow-y","auto"],[1,"up_bar",2,"width","100%","min-height","3.5rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["id","username",2,"margin-left","1rem"],[2,"display","flex","flex-direction","row","align-items","center","height","100%"],["name","refresh",2,"font-size","1.8rem","margin-right","1rem",3,"click"],["onclick","document.getElementById('change-account-data').style.display = 'flex'; ","name","pencil",2,"font-size","1.8rem","margin-right","1rem"],[2,"width","100%","height","auto"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","start","gap","1rem","margin-top","1rem","margin-bottom","1rem","padding-left","1rem"],["id","account-image","src","assets\\icon\\favicon.png",2,"width","5rem","height","5rem","object-fit","cover","border-radius","50%"],[2,"height","100%","display","flex","flex-direction","column"],["id","name-and-surname",2,"font-size","1.2rem"],[2,"width","100%","display","flex","flex-direction","row","align-items","center","gap","0.8rem","overflow-y","hidden","overflow-x","auto","margin-top","1rem"],["id","followers",2,"margin-bottom","0rem","margin-top","0rem"],[2,"margin-top","0.3rem","font-weight","200","color","#FFFFFF80","margin-bottom","0rem"],["id","followings",2,"margin-bottom","0rem","margin-top","0rem"],["id","post-number",2,"margin-bottom","0rem","margin-top","0rem"],[2,"flex","1"],["id","description",2,"width","100%","padding-left","1rem","font-weight","200","color","#FFFFFF80","padding-right","0.5rem"],[1,"card1",2,"width","95%","border-radius","2rem","min-height","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["tabindex","0","onfocus","this.style.backgroundColor = 'gray';","onblur","this.style.backgroundColor = 'transparent';",1,"card1",2,"width","30%","height","100%","display","flex","align-items","center","justify-content","center","border-radius","2rem"],["name","pizza-outline",2,"font-size","1.8rem"],["name","id-card-outline",2,"font-size","1.8rem"],["name","pricetags-outline",2,"font-size","1.8rem"],["id","my-events-container",2,"width","100%","height","100%","display","flex","flex-direction","column","overflow","hidden"],[2,"width","100%","padding-left","1rem","margin-bottom","0rem"],[2,"width","100%","height","100%","overflow-x","hidden","overflow-y","auto"],[2,"display","flex","flex-direction","unset","flex-wrap","wrap","justify-content","space-between","width","100%","height","100%","padding-left","1rem","padding-right","1rem"],["style","width: 48%; height: 15rem; border-radius: 0.5rem; object-fit: cover; margin-top: 1rem; object-fit: cover;",3,"src",4,"ngFor","ngForOf"],["id","change-account-data",2,"position","absolute","z-index","999","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","black"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem"],["name","close-outline",2,"font-size","2rem",3,"click"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","margin-bottom","2rem"],["for","spot-image-input",2,"width","100%","display","flex","flex-direction","row","align-items","center","justify-content","center","padding-left","1rem","padding-right","1rem","margin-bottom","1rem"],["id","account-image-change",2,"width","8rem","height","8rem","object-fit","cover","border-radius","50%"],["id","changed-image-preview",2,"display","none","flex-direction","row","align-items","center"],["name","chevron-forward-outline",2,"font-size","2rem","margin-left","1rem"],["style","width: 8rem; height: 8rem; border-radius: 50%; margin-left: 1rem;",3,"src",4,"ngIf"],["id","spot-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","z-index","1",3,"change"],[1,"input1",2,"margin-top","1rem","width","95%"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["type","text","id","account-name-and-surname-change","placeholder","Nome e cognome",1,"field1"],["name","at-outline",2,"color","rgb(190, 190, 190)","font-size","1.5rem","margin-left","0.5rem","margin-right","0.5rem"],["type","text","id","account-username-change","placeholder","Username",1,"field1"],["name","call-outline",2,"color","rgb(190, 190, 190)","font-size","1.3rem","margin-left","0.5rem","margin-right","0.5rem"],["type","number","id","account-phone-number-change","placeholder","Numero di telefono",1,"field1"],["id","account-description-change","type","text","placeholder","Descrizione",1,"card3","field2",2,"width","95%","min-height","8rem","resize","vertical","background","rgb(114, 114, 114)","border-radius","1rem"],[1,"button2",2,"width","95%","height","3rem","margin-top","1rem",3,"click"],[1,"overflow1"],["id","spacer"],[2,"width","48%","height","15rem","border-radius","0.5rem","object-fit","cover","margin-top","1rem","object-fit","cover",3,"src"],[2,"width","8rem","height","8rem","border-radius","50%","margin-left","1rem",3,"src"]],template:function(r,i){1&r&&(le(0,"body",0)(1,"div",1)(2,"div",2)(3,"strong",3),Dt(4,"username"),Ce(),le(5,"div",4)(6,"ion-icon",5),Wt("click",function(){return i.completeRefresh()}),Ce(),at(7,"ion-icon",6),Ce()(),le(8,"div",7)(9,"div",8),at(10,"img",9),le(11,"div",10)(12,"strong",11),Dt(13,"Name and surname"),Ce(),le(14,"div",12)(15,"div",10)(16,"p",13),Dt(17,"0"),Ce(),le(18,"p",14),Dt(19,"Followers"),Ce()(),le(20,"div",10)(21,"p",15),Dt(22,"0"),Ce(),le(23,"p",14),Dt(24,"Followings"),Ce()(),le(25,"div",10)(26,"p",16),Dt(27,"0"),Ce(),le(28,"p",14),Dt(29,"Post"),Ce()(),at(30,"div",17),Ce()()(),at(31,"p",18),Ce(),le(32,"div",19)(33,"div",20),at(34,"ion-icon",21),Ce(),le(35,"div",20),at(36,"ion-icon",22),Ce(),le(37,"div",20),at(38,"ion-icon",23),Ce()(),le(39,"div",24)(40,"h3",25),Dt(41,"I miei eventi"),Ce(),le(42,"div",26)(43,"div",27),oo(44,iue,1,1,"img",28),zy(45,"async"),Ce()()()(),le(46,"div",29)(47,"div",30)(48,"h3"),Dt(49,"Il mio account"),Ce(),le(50,"ion-icon",31),Wt("click",function(){return i.refresh()}),Ce()(),le(51,"div",32)(52,"label",33),at(53,"img",34),le(54,"div",35),at(55,"ion-icon",36),oo(56,oue,1,1,"img",37),Ce(),le(57,"input",38),Wt("change",function(s){return i.onFileSelected(s)}),Ce()(),le(58,"div",39),at(59,"img",40)(60,"input",41),Ce(),le(61,"div",39),at(62,"ion-icon",42)(63,"input",43),Ce(),le(64,"div",39),at(65,"ion-icon",44)(66,"input",45),Ce(),at(67,"textarea",46),le(68,"button",47),Wt("click",function(){return i.updateAccountDatas()}),Dt(69,"Applica"),Ce()()(),le(70,"div",48),at(71,"div",49)(72,"app-footer"),Ce()()),2&r&&(Or(44),ui("ngForOf",Gy(45,2,i.events)),Or(12),ui("ngIf",i.imageSrc))},dependencies:[pI,zg,Mu,id,gI]}),e})(),aue=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["app-search"]],decls:11,vars:0,consts:[[1,"up_bar",2,"width","100%","min-height","3.5rem","display","flex","flex-direction","row","align-items","center","justify-content","center"],[1,"input1",2,"width","95%"],["type","text","id","","placeholder","Cerca",1,"field1"],["name","search",2,"color","rgb(190, 190, 190)","font-size","1.5rem","margin-left","0.5rem","margin-right","0.5rem"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(le(0,"body")(1,"div",0)(2,"div",1),at(3,"input",2)(4,"ion-icon",3),Ce()(),le(5,"div",4)(6,"p"),Dt(7,"In fase di sviluppo"),Ce()(),le(8,"div",5),at(9,"div",6)(10,"app-footer"),Ce()())},dependencies:[Mu,id]}),e})(),lue=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["app-chats"]],decls:13,vars:0,consts:[[1,"up_bar",2,"width","100%","height","auto","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"width","100%","padding-left","0.5rem"],[1,"input1",2,"width","95%","height","2.5rem","margin-bottom","0.5rem"],["type","text","id","","placeholder","Cerca",1,"field1"],["name","search",2,"color","rgb(190, 190, 190)","font-size","1.5rem","margin-left","0.5rem","margin-right","0.5rem"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(le(0,"body")(1,"div",0)(2,"h5",1),Dt(3,"Tutte le conversazioni"),Ce(),le(4,"div",2),at(5,"input",3)(6,"ion-icon",4),Ce()(),le(7,"div",5)(8,"p"),Dt(9,"In fase di sviluppo"),Ce()(),le(10,"div",6),at(11,"div",7)(12,"app-footer"),Ce()())},dependencies:[Mu,id]}),e})();function cue(t,e){if(1&t){const n=ib();le(0,"div",28)(1,"div",29),at(2,"ion-icon",30)(3,"ion-icon",31),Ce(),le(4,"strong",32),Dt(5,"Dove:"),Ce(),le(6,"p",33),Dt(7),Ce(),le(8,"strong",32),Dt(9,"Quando:"),Ce(),le(10,"p",33),Dt(11),Ce(),le(12,"strong",32),Dt(13,"Descrizione:"),Ce(),le(14,"p",33),Dt(15),Ce(),le(16,"div",34)(17,"div",35)(18,"ion-icon",36),Wt("click",function(){const o=wd(n).$implicit;return Cd(as().addLikeToSpot(o.id))}),Ce(),at(19,"ion-icon",37),Ce(),le(20,"p",38),Dt(21),Ce()()()}if(2&t){const n=e.$implicit,r=as();Or(7),Iu(n.where),Or(4),Iu(r.formatDate(n.datetime)),Or(4),Iu(n.description),Or(6),Eu("Piace a ",n.likes," persone")}}const uue=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"login",component:Pne},{path:"register",component:ale},{path:"home",component:zce},{path:"splash",component:Gce},{path:"log",component:qce},{path:"add",component:rue},{path:"account",component:sue},{path:"search",component:aue},{path:"chats",component:lue},{path:"spot",component:(()=>{var t;class e{constructor(r,i){this.firestore=r,this.firebaseService=i}ngOnInit(){this.documents=this.firestore.collection("spots").valueChanges({idField:"id"}).pipe(vt(r=>r.map(i=>({id:i.id,...i}))))}formatDate(r){const i=new Date(r);return`${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} alle ${i.getHours()}:${i.getMinutes()}`}showDetails(r){document.getElementById("post-details").style.display="flex",document.getElementById("post-img-details").src=r.imageUrl,document.getElementById("post-title-details").innerHTML=r.title,document.getElementById("post-description-details").innerHTML=r.description}getAllSpots(){this.documents=this.firestore.collection("spots").valueChanges({idField:"id"}).pipe(vt(r=>r.map(i=>({id:i.id,...i}))))}getTodaySpots(){const r=new Date;r.setHours(0,0,0,0),this.firestore.collection("spots",i=>i.where("datetime",">=",r).where("datetime","<=",r)).get().subscribe(i=>{const o=i.docs.map(s=>({id:s.id,...s.data()}));this.documents=Bt(o)})}addLikeToSpot(r){this.firebaseService.addLikeToSpot(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Qf),E(tp))},t.\u0275cmp=He({type:t,selectors:[["app-spot"]],decls:44,vars:3,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","overflow-y","auto"],[1,"up_bar",2,"width","100%","min-height","6.5rem","display","flex","flex-direction","column","align-items","center","overflow","hidden"],[2,"width","100%","padding-left","0.5rem","margin-top","0.5rem","margin-bottom","0rem","display","flex","flex-direction","row","align-items","center"],["src","assets\\img\\icon-logo.jpg","alt","",2,"width","2.5rem","height","2.5rem","object-fit","contain"],[1,"notranslate",2,"font-size","1.6rem","padding-top","0.4rem","padding-left","0.2rem"],[2,"flex","1"],["routerLink","/search","name","search",2,"font-size","1.8rem"],["routerLink","/notifications","name","notifications",2,"font-size","1.8rem","padding-right","0.5rem","padding-left","0.5rem"],[2,"width","100%","height","3rem","display","flex","flex-direction","row","align-items","center","justify-content","space-evenly"],[3,"click"],[2,"background","rgba(255, 255, 255, 0.082)","width","1px","height","70%"],["style","width: 100%; border-bottom: 1px solid rgba(255, 255, 255, 0.082);",4,"ngFor","ngForOf"],[1,"overflow1"],["id","spacer"],["id","post-details",2,"position","absolute","z-index","999","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","black"],[2,"width","100%","display","flex","align-items","center","justify-content","space-between","padding-right","1rem","padding-top","1rem","padding-bottom","1rem","padding-left","1rem"],["id","post-title-details"],["onclick","document.getElementById('post-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[2,"width","100%","display","flex","align-items","center","justify-content","center","padding-left","1rem","padding-right","1rem"],["id","post-img-details",2,"width","100%"],[2,"width","100%","display","flex","padding-left","1rem"],["id","post-description-details"],[2,"width","100%","display","flex","flex-direction","column","align-items","center","margin-bottom","2rem"],["onclick","document.getElementById('reserve-details').style.display = 'flex'; ",1,"button2",2,"width","95%","height","2.5rem"],["id","reserve-details",2,"position","absolute","z-index","1000","height","100%","width","100%","display","none","flex-direction","column","overflow-y","auto","overflow-x","hidden","background","black"],["onclick","document.getElementById('reserve-details').style.display = 'none'; ","name","close-outline",2,"font-size","2rem"],[1,"button2",2,"width","95%","height","2.5rem"],[2,"width","100%","border-bottom","1px solid rgba(255, 255, 255, 0.082)"],[2,"width","100%","height","2.8rem","display","flex","flex-direction","row","align-items","center","justify-content","space-between"],["name","person-circle-outline",2,"font-size","1.8rem","padding-left","0.5rem"],["name","ellipsis-vertical",2,"font-size","1.8rem","padding-right","0.5rem"],[2,"width","100%","padding-left","0.5rem"],[2,"margin-top","0rem","font-weight","200","max-height","5rem","overflow","hidden","padding-left","0.5rem"],[2,"padding-left","0.5rem","padding-top","0.5rem"],[2,"width","100%","height","2rem","display","flex","flex-direction","row","gap","0.8rem","margin-bottom","0.3rem"],["name","heart-outline",2,"font-size","1.9rem",3,"click"],["name","chatbubble-outline",2,"font-size","1.8rem"],[2,"margin-bottom","0.5rem","margin-top","0rem"]],template:function(r,i){1&r&&(le(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3),at(4,"img",4),le(5,"strong",5),Dt(6,"Spot"),Ce(),at(7,"div",6)(8,"ion-icon",7)(9,"ion-icon",8),Ce(),le(10,"div",9)(11,"strong",10),Wt("click",function(){return i.getAllSpots()}),Dt(12,"Tutti"),Ce(),at(13,"div",11),le(14,"strong",10),Wt("click",function(){return i.getTodaySpots()}),Dt(15,"Oggi"),Ce()()(),oo(16,cue,22,4,"div",12),zy(17,"async"),Ce(),le(18,"div",13),at(19,"div",14)(20,"app-footer"),Ce(),le(21,"div",15)(22,"div",16),at(23,"h3",17)(24,"ion-icon",18),Ce(),le(25,"div",19),at(26,"img",20),Ce(),le(27,"div",21),at(28,"p",22),Ce(),le(29,"div",23)(30,"button",24),Dt(31,"Prenota"),Ce()()(),le(32,"div",25)(33,"div",16)(34,"h3"),Dt(35,"Prenota l'evento"),Ce(),at(36,"ion-icon",26),Ce(),le(37,"div",19),at(38,"img",20),Ce(),le(39,"div",21),at(40,"p",22),Ce(),le(41,"div",23)(42,"button",27),Dt(43,"Conferma"),Ce()()()()),2&r&&(Or(16),ui("ngForOf",Gy(17,1,i.documents)))},dependencies:[pI,Mu,JI,nc,id,gI]}),e})()},{path:"notifications",component:(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["app-notifications"]],decls:11,vars:0,consts:[[1,"body1"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-bottom","3.5rem","overflow-y","auto"],[1,"up_bar",2,"width","100%","min-height","3rem","display","flex","flex-direction","row","align-items","center","overflow","hidden"],[2,"width","100%","font-size","1.6rem","padding-left","0.5rem"],[2,"width","100%","height","100%","display","flex","flex-direction","column","justify-content","center","overflow-y","auto","overflow-x","hidden"],[2,"width","100%","text-align","center"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(le(0,"body",0)(1,"div",1)(2,"div",2)(3,"strong",3),Dt(4,"Tutte le notifiche"),Ce()(),le(5,"div",4)(6,"p",5),Dt(7,"Nessuna notifica"),Ce()()(),le(8,"div",6),at(9,"div",7)(10,"app-footer"),Ce()())},dependencies:[id]}),e})()}];let due=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Zo({type:t}),t.\u0275inj=Fo({imports:[VT.forRoot(uue,{preloadingStrategy:$X}),VT]}),e})(),hue=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}ngOnInit(){}logout(){this.afAuth.signOut().then(()=>{alert("Disconnesso con successo"),this.router.navigate(["/splash"])})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(ea),E(pr))},t.\u0275cmp=He({type:t,selectors:[["app-sidebar"]],decls:32,vars:0,consts:[["side","start","contentId","main-content",1,"custom-sidebar"],[1,"sidebar-style"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],["src","assets\\img\\trasparent_logo.png",2,"width","80%","margin-top","2rem","margin-bottom","1rem"],[1,"sidebar-button",2,"margin-top","1rem"],["src","assets\\img\\mdi_map-marker.svg",2,"width","2rem","margin-left","1rem"],[2,"margin-left","0.5rem"],["src","assets\\img\\fa-brands_hubspot.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\solar_ticker-star-bold.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_event.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_bookmark.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_settings-rounded.svg",2,"width","2rem","margin-left","1rem"],[1,"sidebar-button",2,"margin-top","1rem","margin-bottom","2rem",3,"click"],["src","assets\\img\\solar_logout-2-bold.svg",2,"width","2rem"],[2,"color","red","margin-left","0.5rem"]],template:function(r,i){1&r&&(le(0,"ion-menu",0)(1,"div",1)(2,"div",2),at(3,"img",3),le(4,"button",4),at(5,"img",5),le(6,"p",6),Dt(7,"Mappa"),Ce()(),le(8,"button",4),at(9,"img",7),le(10,"p",6),Dt(11,"Spot"),Ce()(),le(12,"button",4),at(13,"img",8),le(14,"p",6),Dt(15,"Biglietti"),Ce()(),le(16,"button",4),at(17,"img",9),le(18,"p",6),Dt(19,"I miei eventi"),Ce()(),le(20,"button",4),at(21,"img",10),le(22,"p",6),Dt(23,"Salvati"),Ce()(),le(24,"button",4),at(25,"img",11),le(26,"p",6),Dt(27,"Impostazioni"),Ce()()(),le(28,"button",12),Wt("click",function(){return i.logout()}),at(29,"img",13),le(30,"p",14),Dt(31,"Disconnettiti"),Ce()()()())},dependencies:[b2]}),e})(),fue=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=He({type:t,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content"]],template:function(r,i){1&r&&at(0,"app-sidebar")(1,"ion-router-outlet",0)},dependencies:[wm,hue],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),e})(),pue=(()=>{var t;class e{constructor(r){this.firebaseService=r,this.firebaseService.initialize()}}return(t=e).\u0275fac=function(r){return new(r||t)(ze(tp))},t.\u0275mod=Zo({type:t,bootstrap:[fue]}),t.\u0275inj=Fo({providers:[{provide:Ds,useClass:RO}],imports:[QK,Rne.forRoot(),due,EJ.initializeApp(YL_firebaseConfig),SJ,VT]}),e})();KK().bootstrapModule(pue).catch(t=>console.log(t))},1480:(Mn,Lt,oe)=>{var y={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function ke(B){if(!oe.o(y,B))return Promise.resolve().then(()=>{var Je=new Error("Cannot find module '"+B+"'");throw Je.code="MODULE_NOT_FOUND",Je});var je=y[B],Pt=je[0];return Promise.all(je.slice(1).map(oe.e)).then(()=>oe(Pt))}ke.keys=()=>Object.keys(y),ke.id=1480,Mn.exports=ke},8368:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{c:()=>Ee});var y=oe(7144),ke=oe(4920),B=oe(9360),je=oe(5976);class Pt{constructor(Q,z){this._delegate=Q,this.firebase=z,(0,B._addComponent)(Q,new ke.Yl("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Q,z=B._DEFAULT_ENTRY_NAME){var Y;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(Q);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Y=Ne.getComponent())||void 0===Y?void 0:Y.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:z})}_removeServiceInstance(Q,z=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(z)}_addComponent(Q){(0,B._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,B._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new y.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function rt(){const De=function Ze(De){const Q={},z={__esModule:!0,initializeApp:function Me(R,x={}){const T=B.initializeApp(R,x);if((0,y.Y7)(Q,T.name))return Q[T.name];const V=new De(T,z);return Q[T.name]=V,V},app:Ne,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function xe(R){const x=R.name,T=x.replace("-compat","");if(B._registerComponent(R)&&"PUBLIC"===R.type){const V=(X=Ne())=>{if("function"!=typeof X[T])throw J.create("invalid-app-argument",{appName:x});return X[T]()};void 0!==R.serviceProps&&(0,y.Ww)(V,R.serviceProps),z[T]=V,De.prototype[T]=function(...X){return this._getService.bind(this,x).apply(this,R.multipleInstances?X:[])}}return"PUBLIC"===R.type?z[T]:null},removeApp:function Y(R){delete Q[R]},useAsService:function et(R,x){return"serverAuth"===x?null:x},modularAPIs:B}};function Ne(R){if(!(0,y.Y7)(Q,R=R||B._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:R});return Q[R]}return z.default=z,Object.defineProperty(z,"apps",{get:function Ue(){return Object.keys(Q).map(R=>Q[R])}}),Ne.App=De,z}(Pt);return De.INTERNAL=Object.assign(Object.assign({},De.INTERNAL),{createFirebaseNamespace:rt,extendNamespace:function Q(z){(0,y.Ww)(De,z)},createSubscribe:y.my,ErrorFactory:y.UR,deepExtend:y.Ww}),De}(),W=new je.YJ("@firebase/app-compat");if((0,y.uH)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const De=self.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=ee;!function _e(De){(0,B.registerVersion)("@firebase/app-compat","0.2.27",De)}()},9360:(Mn,Lt,oe)=>{"use strict";oe.r(Lt),oe.d(Lt,{FirebaseError:()=>je.kx,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>ii,_addOrOverwriteComponent:()=>$r,_apps:()=>Xn,_clearComponents:()=>mi,_components:()=>Gr,_getProvider:()=>gi,_registerComponent:()=>Li,_removeServiceInstance:()=>Vi,deleteApp:()=>_i,getApp:()=>Mo,getApps:()=>Wo,initializeApp:()=>qo,onLog:()=>Io,registerVersion:()=>yo,setLogLevel:()=>Rn});var y=oe(1528),ke=oe(4920),B=oe(5976),je=oe(7144);const Pt=(ve,re)=>re.some(Oe=>ve instanceof Oe);let Je,J;const ee=new WeakMap,W=new WeakMap,ye=new WeakMap,ce=new WeakMap,_e=new WeakMap;let Q={get(ve,re,Oe){if(ve instanceof IDBTransaction){if("done"===re)return W.get(ve);if("objectStoreNames"===re)return ve.objectStoreNames||ye.get(ve);if("store"===re)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Me(ve[re])},set:(ve,re,Oe)=>(ve[re]=Oe,!0),has:(ve,re)=>ve instanceof IDBTransaction&&("done"===re||"store"===re)||re in ve};function Ne(ve){return"function"==typeof ve?function Y(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rt(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...re){return ve.apply(Ue(this),re),Me(ee.get(this))}:function(...re){return Me(ve.apply(Ue(this),re))}:function(re,...Oe){const At=ve.call(Ue(this),re,...Oe);return ye.set(At,re.sort?re.sort():[re]),Me(At)}}(ve):(ve instanceof IDBTransaction&&function De(ve){if(W.has(ve))return;const re=new Promise((Oe,At)=>{const jt=()=>{ve.removeEventListener("complete",ct),ve.removeEventListener("error",pn),ve.removeEventListener("abort",pn)},ct=()=>{Oe(),jt()},pn=()=>{At(ve.error||new DOMException("AbortError","AbortError")),jt()};ve.addEventListener("complete",ct),ve.addEventListener("error",pn),ve.addEventListener("abort",pn)});W.set(ve,re)}(ve),Pt(ve,function Ze(){return Je||(Je=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,Q):ve)}function Me(ve){if(ve instanceof IDBRequest)return function Ee(ve){const re=new Promise((Oe,At)=>{const jt=()=>{ve.removeEventListener("success",ct),ve.removeEventListener("error",pn)},ct=()=>{Oe(Me(ve.result)),jt()},pn=()=>{At(ve.error),jt()};ve.addEventListener("success",ct),ve.addEventListener("error",pn)});return re.then(Oe=>{Oe instanceof IDBCursor&&ee.set(Oe,ve)}).catch(()=>{}),_e.set(re,ve),re}(ve);if(ce.has(ve))return ce.get(ve);const re=Ne(ve);return re!==ve&&(ce.set(ve,re),_e.set(re,ve)),re}const Ue=ve=>_e.get(ve),R=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],T=new Map;function V(ve,re){if(!(ve instanceof IDBDatabase)||re in ve||"string"!=typeof re)return;if(T.get(re))return T.get(re);const Oe=re.replace(/FromIndex$/,""),At=re!==Oe,jt=x.includes(Oe);if(!(Oe in(At?IDBIndex:IDBObjectStore).prototype)||!jt&&!R.includes(Oe))return;const ct=function(){var pn=(0,y.c)(function*(yr,...Un){const Ir=this.transaction(yr,jt?"readwrite":"readonly");let Gt=Ir.store;return At&&(Gt=Gt.index(Un.shift())),(yield Promise.all([Gt[Oe](...Un),jt&&Ir.done]))[0]});return function(Un){return pn.apply(this,arguments)}}();return T.set(re,ct),ct}!function z(ve){Q=ve(Q)}(ve=>({...ve,get:(re,Oe,At)=>V(re,Oe)||ve.get(re,Oe,At),has:(re,Oe)=>!!V(re,Oe)||ve.has(re,Oe)}));class X{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function te(ve){const re=ve.getComponent();return"VERSION"===(null==re?void 0:re.type)}(Oe)){const At=Oe.getImmediate();return`${At.library}/${At.version}`}return null}).filter(Oe=>Oe).join(" ")}}const de="@firebase/app",bt=new B.YJ("@firebase/app"),fn="[DEFAULT]",pi={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xn=new Map,Gr=new Map;function ii(ve,re){try{ve.container.addComponent(re)}catch(Oe){bt.debug(`Component ${re.name} failed to register with FirebaseApp ${ve.name}`,Oe)}}function $r(ve,re){ve.container.addOrOverwriteComponent(re)}function Li(ve){const re=ve.name;if(Gr.has(re))return bt.debug(`There were multiple attempts to register component ${re}.`),!1;Gr.set(re,ve);for(const Oe of Xn.values())ii(Oe,ve);return!0}function gi(ve,re){const Oe=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),ve.container.getProvider(re)}function Vi(ve,re,Oe=fn){gi(ve,re).clearInstance(Oe)}function mi(){Gr.clear()}const Wr=new je.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xn{constructor(re,Oe,At){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new ke.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}const $i="10.8.0";function qo(ve,re={}){let Oe=ve;"object"!=typeof re&&(re={name:re});const At=Object.assign({name:fn,automaticDataCollectionEnabled:!1},re),jt=At.name;if("string"!=typeof jt||!jt)throw Wr.create("bad-app-name",{appName:String(jt)});if(Oe||(Oe=(0,je.Yd)()),!Oe)throw Wr.create("no-options");const ct=Xn.get(jt);if(ct){if((0,je.IN)(Oe,ct.options)&&(0,je.IN)(At,ct.config))return ct;throw Wr.create("duplicate-app",{appName:jt})}const pn=new ke.op(jt);for(const Un of Gr.values())pn.addComponent(Un);const yr=new xn(Oe,At,pn);return Xn.set(jt,yr),yr}function Mo(ve=fn){const re=Xn.get(ve);if(!re&&ve===fn&&(0,je.Yd)())return qo();if(!re)throw Wr.create("no-app",{appName:ve});return re}function Wo(){return Array.from(Xn.values())}function _i(ve){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.c)(function*(ve){const re=ve.name;Xn.has(re)&&(Xn.delete(re),yield Promise.all(ve.container.getProviders().map(Oe=>Oe.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function yo(ve,re,Oe){var At;let jt=null!==(At=pi[ve])&&void 0!==At?At:ve;Oe&&(jt+=`-${Oe}`);const ct=jt.match(/\s|\//),pn=re.match(/\s|\//);if(ct||pn){const yr=[`Unable to register library "${jt}" with version "${re}":`];return ct&&yr.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),ct&&pn&&yr.push("and"),pn&&yr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void bt.warn(yr.join(" "))}Li(new ke.Yl(`${jt}-version`,()=>({library:jt,version:re}),"VERSION"))}function Io(ve,re){if(null!==ve&&"function"!=typeof ve)throw Wr.create("invalid-log-argument");(0,B.S2)(ve,re)}function Rn(ve){(0,B.QN)(ve)}const Ko="firebase-heartbeat-database",ps=1,O="firebase-heartbeat-store";let P=null;function L(){return P||(P=function xe(ve,re,{blocked:Oe,upgrade:At,blocking:jt,terminated:ct}={}){const pn=indexedDB.open(ve,re),yr=Me(pn);return At&&pn.addEventListener("upgradeneeded",Un=>{At(Me(pn.result),Un.oldVersion,Un.newVersion,Me(pn.transaction),Un)}),Oe&&pn.addEventListener("blocked",Un=>Oe(Un.oldVersion,Un.newVersion,Un)),yr.then(Un=>{ct&&Un.addEventListener("close",()=>ct()),jt&&Un.addEventListener("versionchange",Ir=>jt(Ir.oldVersion,Ir.newVersion,Ir))}).catch(()=>{}),yr}(Ko,ps,{upgrade:(ve,re)=>{if(0===re)try{ve.createObjectStore(O)}catch(Oe){console.warn(Oe)}}}).catch(ve=>{throw Wr.create("idb-open",{originalErrorMessage:ve.message})})),P}function q(){return(q=(0,y.c)(function*(ve){try{const Oe=(yield L()).transaction(O),At=yield Oe.objectStore(O).get(Ot(ve));return yield Oe.done,At}catch(re){if(re instanceof je.kx)bt.warn(re.message);else{const Oe=Wr.create("idb-get",{originalErrorMessage:null==re?void 0:re.message});bt.warn(Oe.message)}}})).apply(this,arguments)}function ut(ve,re){return Et.apply(this,arguments)}function Et(){return(Et=(0,y.c)(function*(ve,re){try{const At=(yield L()).transaction(O,"readwrite");yield At.objectStore(O).put(re,Ot(ve)),yield At.done}catch(Oe){if(Oe instanceof je.kx)bt.warn(Oe.message);else{const At=Wr.create("idb-set",{originalErrorMessage:null==Oe?void 0:Oe.message});bt.warn(At.message)}}})).apply(this,arguments)}function Ot(ve){return`${ve.name}!${ve.options.appId}`}class Ar{constructor(re){this.container=re,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new Yr(Oe),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var re=this;return(0,y.c)(function*(){var Oe,At;const ct=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pn=tn();if((null!=(null===(Oe=re._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||(re._heartbeatsCache=yield re._heartbeatsCachePromise,null!=(null===(At=re._heartbeatsCache)||void 0===At?void 0:At.heartbeats)))&&re._heartbeatsCache.lastSentHeartbeatDate!==pn&&!re._heartbeatsCache.heartbeats.some(yr=>yr.date===pn))return re._heartbeatsCache.heartbeats.push({date:pn,agent:ct}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(yr=>{const Un=new Date(yr.date).valueOf();return Date.now()-Un<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,y.c)(function*(){var Oe;if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null==(null===(Oe=re._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===re._heartbeatsCache.heartbeats.length)return"";const At=tn(),{heartbeatsToSend:jt,unsentEntries:ct}=function Te(ve,re=1024){const Oe=[];let At=ve.slice();for(const jt of ve){const ct=Oe.find(pn=>pn.agent===jt.agent);if(ct){if(ct.dates.push(jt.date),Ai(Oe)>re){ct.dates.pop();break}}else if(Oe.push({agent:jt.agent,dates:[jt.date]}),Ai(Oe)>re){Oe.pop();break}At=At.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:At}}(re._heartbeatsCache.heartbeats),pn=(0,je.Wg)(JSON.stringify({version:2,heartbeats:jt}));return re._heartbeatsCache.lastSentHeartbeatDate=At,ct.length>0?(re._heartbeatsCache.heartbeats=ct,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),pn})()}}function tn(){return(new Date).toISOString().substring(0,10)}class Yr{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.c)(function*(){return!!(0,je.yy)()&&(0,je.A3)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,y.c)(function*(){if(yield re._canUseIndexedDBPromise){const At=yield function Ie(ve){return q.apply(this,arguments)}(re.app);return null!=At&&At.heartbeats?At:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(re){var Oe=this;return(0,y.c)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ct=yield Oe.read();return ut(Oe.app,{lastSentHeartbeatDate:null!==(At=re.lastSentHeartbeatDate)&&void 0!==At?At:ct.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Oe=this;return(0,y.c)(function*(){var At;if(yield Oe._canUseIndexedDBPromise){const ct=yield Oe.read();return ut(Oe.app,{lastSentHeartbeatDate:null!==(At=re.lastSentHeartbeatDate)&&void 0!==At?At:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...re.heartbeats]})}})()}}function Ai(ve){return(0,je.Wg)(JSON.stringify({version:2,heartbeats:ve})).length}!function Yo(ve){Li(new ke.Yl("platform-logger",re=>new X(re),"PRIVATE")),Li(new ke.Yl("heartbeat",re=>new Ar(re),"PRIVATE")),yo(de,"0.9.27",ve),yo(de,"0.9.27","esm2017"),yo("fire-js","")}("")},4920:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{Yl:()=>B,op:()=>Ze});var y=oe(1528),ke=oe(7144);class B{constructor(ee,W,ye){this.name=ee,this.instanceFactory=W,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const je="[DEFAULT]";class Pt{constructor(ee,W){this.name=ee,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const W=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(W)){const ye=new ke.o9;if(this.instancesDeferred.set(W,ye),this.isInitialized(W)||this.shouldAutoInitialize())try{const ce=this.getOrInitializeService({instanceIdentifier:W});ce&&ye.resolve(ce)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(ee){var W;const ye=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),ce=null!==(W=null==ee?void 0:ee.optional)&&void 0!==W&&W;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(_e){if(ce)return null;throw _e}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function J(rt){return"EAGER"===rt.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:je})}catch{}for(const[W,ye]of this.instancesDeferred.entries()){const ce=this.normalizeInstanceIdentifier(W);try{const _e=this.getOrInitializeService({instanceIdentifier:ce});ye.resolve(_e)}catch{}}}}clearInstance(ee=je){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,y.c)(function*(){const W=Array.from(ee.instances.values());yield Promise.all([...W.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...W.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=je){return this.instances.has(ee)}getOptions(ee=je){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:W={}}=ee,ye=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ce=this.getOrInitializeService({instanceIdentifier:ye,options:W});for(const[_e,Ee]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(_e)&&Ee.resolve(ce);return ce}onInit(ee,W){var ye;const ce=this.normalizeInstanceIdentifier(W),_e=null!==(ye=this.onInitCallbacks.get(ce))&&void 0!==ye?ye:new Set;_e.add(ee),this.onInitCallbacks.set(ce,_e);const Ee=this.instances.get(ce);return Ee&&ee(Ee,ce),()=>{_e.delete(ee)}}invokeOnInitCallbacks(ee,W){const ye=this.onInitCallbacks.get(W);if(ye)for(const ce of ye)try{ce(ee,W)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:W={}}){let ye=this.instances.get(ee);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(rt=ee,rt===je?void 0:rt),options:W}),this.instances.set(ee,ye),this.instancesOptions.set(ee,W),this.invokeOnInitCallbacks(ye,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ye)}catch{}var rt;return ye||null}normalizeInstanceIdentifier(ee=je){return this.component?this.component.multipleInstances?ee:je:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const W=this.getProvider(ee.name);if(W.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);W.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const W=new Pt(ee,this);return this.providers.set(ee,W),W}getProviders(){return Array.from(this.providers.values())}}},5976:(Mn,Lt,oe)=>{"use strict";oe.d(Lt,{Ge:()=>ke,QN:()=>Ze,S2:()=>rt,YJ:()=>J});const y=[];var ke=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(ke||{});const B={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},je=ke.INFO,Pt={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Je=(ee,W,...ye)=>{if(W<ee.logLevel)return;const ce=(new Date).toISOString(),_e=Pt[W];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[_e](`[${ce}]  ${ee.name}:`,...ye)};class J{constructor(W){this.name=W,this._logLevel=je,this._logHandler=Je,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ke))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?B[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...W),this._logHandler(this,ke.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...W),this._logHandler(this,ke.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...W),this._logHandler(this,ke.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...W),this._logHandler(this,ke.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...W),this._logHandler(this,ke.ERROR,...W)}}function Ze(ee){y.forEach(W=>{W.setLogLevel(ee)})}function rt(ee,W){for(const ye of y){let ce=null;W&&W.level&&(ce=B[W.level]),ye.userLogHandler=null===ee?null:(_e,Ee,...De)=>{const Q=De.map(z=>{if(null==z)return null;if("string"==typeof z)return z;if("number"==typeof z||"boolean"==typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch{return null}}).filter(z=>z).join(" ");Ee>=(null!=ce?ce:_e.logLevel)&&ee({level:ke[Ee].toLowerCase(),message:Q,args:De,type:_e.name})}}}},864:(Mn,Lt,oe)=>{"use strict";oe.r(Lt);var y=oe(1528),ke=oe(8368),B=oe(7144),je=oe(9360),Pt=oe(5976),Je=oe(1316),J=oe(4920);const rt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ee=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},De=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new B.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Y=new Pt.YJ("@firebase/auth");function Me(f,...c){Y.logLevel<=Pt.Ge.ERROR&&Y.error(`Auth (${je.SDK_VERSION}): ${f}`,...c)}function Ue(f,...c){throw x(f,...c)}function xe(f,...c){return x(f,...c)}function et(f,c,d){const p=Object.assign(Object.assign({},De()),{[c]:d});return new B.UR("auth","Firebase",p).create(c,{appName:f.name})}function R(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&Ue(f,"argument-error"),et(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Q.create(f,...c)}function T(f,c,...d){if(!f)throw x(c,...d)}function V(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Me(c),new Error(c)}function X(f,c){f||V(c)}function te(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function de(){return"http:"===Ye()||"https:"===Ye()}function Ye(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class we{constructor(c,d){this.shortDelay=c,this.longDelay=d,X(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,B.AV)()||(0,B.AL)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(de()||(0,B.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k(f,c){X(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class D{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const M={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=new we(3e4,6e4);function ie(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function G(f,c,d,p){return We.apply(this,arguments)}function We(){return(We=(0,y.c)(function*(f,c,d,p,_={}){return dt(f,_,(0,y.c)(function*(){let w={},N={};p&&("GET"===c?N=p:w={body:JSON.stringify(p)});const Z=(0,B.ik)(Object.assign({key:f.config.apiKey},N)).slice(1),Ae=yield f._getAdditionalHeaders();return Ae["Content-Type"]="application/json",f.languageCode&&(Ae["X-Firebase-Locale"]=f.languageCode),D.fetch()(dn(f,f.config.apiHost,d,Z),Object.assign({method:c,headers:Ae,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function dt(f,c,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,y.c)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},M),c);try{const _=new Re(f),w=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const N=yield w.json();if("needConfirmation"in N)throw se(f,"account-exists-with-different-credential",N);if(w.ok&&!("errorMessage"in N))return N;{const Z=w.ok?N.errorMessage:N.error.message,[Ae,it]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw se(f,"credential-already-in-use",N);if("EMAIL_EXISTS"===Ae)throw se(f,"email-already-in-use",N);if("USER_DISABLED"===Ae)throw se(f,"user-disabled",N);const Rt=p[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw et(f,Rt,it);Ue(f,Rt)}}catch(_){if(_ instanceof B.kx)throw _;Ue(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function pt(f,c,d,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,y.c)(function*(f,c,d,p,_={}){const w=yield G(f,c,d,p,_);return"mfaPendingCredential"in w&&Ue(f,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function dn(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?k(f.config,_):`${f.config.apiScheme}://${_}`}function yt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Re{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(xe(this.auth,"network-request-failed")),j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function se(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=xe(f,c,p);return _.customData._tokenResponse=d,_}function pe(f){return void 0!==f&&void 0!==f.getResponse}function Ke(f){return void 0!==f&&void 0!==f.enterprise}class Nt{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return yt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Jt(){return(Jt=(0,y.c)(function*(f){return(yield G(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rn(f,c){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,y.c)(function*(f,c){return G(f,"GET","/v2/recaptchaConfig",ie(f,c))})).apply(this,arguments)}function fn(){return(fn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Xn(){return(Xn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ii(){return(ii=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function $r(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Vi(){return(Vi=(0,y.c)(function*(f,c=!1){const d=(0,B.Yj)(f),p=yield d.getIdToken(c),_=qr(p);T(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,N=null==w?void 0:w.sign_in_provider;return{claims:_,token:p,authTime:$r(mi(_.auth_time)),issuedAtTime:$r(mi(_.iat)),expirationTime:$r(mi(_.exp)),signInProvider:N||null,signInSecondFactor:(null==w?void 0:w.sign_in_second_factor)||null}})).apply(this,arguments)}function mi(f){return 1e3*Number(f)}function qr(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,B.WW)(d);return _?JSON.parse(_):(Me("Failed to decode base64 JWT payload"),null)}catch(_){return Me("Caught error parsing JWT payload as JSON",null==_?void 0:_.toString()),null}}function xn(f,c){return $i.apply(this,arguments)}function $i(){return($i=(0,y.c)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof B.kx&&function qo({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Mo{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,y.c)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,y.c)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===(null==d?void 0:d.code)&&c.schedule(!0))}c.schedule()})()}}class Wo{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _i(f){return ur.apply(this,arguments)}function ur(){return ur=(0,y.c)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield xn(f,function Gr(f,c){return ii.apply(this,arguments)}(d,{idToken:p}));T(null==_?void 0:_.users.length,d,"internal-error");const w=_.users[0];f._notifyReloadListener(w);const N=null!==(c=w.providerUserInfo)&&void 0!==c&&c.length?function Ko(f){return f.map(c=>{var{providerId:d}=c,p=(0,Je.sX)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(w.providerUserInfo):[],Z=function Rn(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,N),Rt=!!f.isAnonymous&&!(f.email&&w.passwordHash||null!=Z&&Z.length),Tt={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:Z,metadata:new Wo(w.createdAt,w.lastLoginAt),isAnonymous:Rt};Object.assign(f,Tt)}),ur.apply(this,arguments)}function Io(){return(Io=(0,y.c)(function*(f){const c=(0,B.Yj)(f);yield _i(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function O(){return(O=(0,y.c)(function*(f,c){const d=yield dt(f,{},(0,y.c)(function*(){const p=(0,B.ik)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:w}=f.config,N=dn(f,_,"/v1/token",`key=${w}`),Z=yield f._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",D.fetch()(N,{method:"POST",headers:Z,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,y.c)(function*(f,c){return G(f,"POST","/v2/accounts:revokeToken",ie(f,c))})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){T(c.idToken,"internal-error"),T(typeof c.idToken<"u","internal-error"),T(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Wr(f){const c=qr(f);return T(c,"internal-error"),T(typeof c.exp<"u","internal-error"),T(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,y.c)(function*(){return T(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,y.c)(function*(){const{accessToken:_,refreshToken:w,expiresIn:N}=yield function ps(f,c){return O.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,w,Number(N))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:w}=d,N=new Ie;return p&&(T("string"==typeof p,"internal-error",{appName:c}),N.refreshToken=p),_&&(T("string"==typeof _,"internal-error",{appName:c}),N.accessToken=_),w&&(T("number"==typeof w,"internal-error",{appName:c}),N.expirationTime=w),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return V("not implemented")}}function q(f,c){T("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class ut{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,w=(0,Je.sX)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new Wo(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,y.c)(function*(){const p=yield xn(d,d.stsTokenManager.getToken(d.auth,c));return T(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function gi(f){return Vi.apply(this,arguments)}(this,c)}reload(){return function yo(f){return Io.apply(this,arguments)}(this)}_assign(c){this!==c&&(T(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new ut(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){T(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,y.c)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield _i(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,y.c)(function*(){const d=yield c.getIdToken();return yield xn(c,function Gn(f,c){return fn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,w,N,Z,Ae,it,Rt;const Tt=null!==(p=d.displayName)&&void 0!==p?p:void 0,Kn=null!==(_=d.email)&&void 0!==_?_:void 0,qi=null!==(w=d.phoneNumber)&&void 0!==w?w:void 0,Vl=null!==(N=d.photoURL)&&void 0!==N?N:void 0,Jp=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,eh=null!==(Ae=d._redirectEventId)&&void 0!==Ae?Ae:void 0,jv=null!==(it=d.createdAt)&&void 0!==it?it:void 0,ka=null!==(Rt=d.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Oa,emailVerified:Hv,isAnonymous:th,providerData:Zp,stsTokenManager:zv}=d;T(Oa&&zv,c,"internal-error");const Dw=Ie.fromJSON(this.name,zv);T("string"==typeof Oa,c,"internal-error"),q(Tt,c.name),q(Kn,c.name),T("boolean"==typeof Hv,c,"internal-error"),T("boolean"==typeof th,c,"internal-error"),q(qi,c.name),q(Vl,c.name),q(Jp,c.name),q(eh,c.name),q(jv,c.name),q(ka,c.name);const Gv=new ut({uid:Oa,auth:c,email:Kn,emailVerified:Hv,displayName:Tt,isAnonymous:th,photoURL:Vl,phoneNumber:qi,tenantId:Jp,stsTokenManager:Dw,createdAt:jv,lastLoginAt:ka});return Zp&&Array.isArray(Zp)&&(Gv.providerData=Zp.map(pP=>Object.assign({},pP))),eh&&(Gv._redirectEventId=eh),Gv}static _fromIdTokenResponse(c,d,p=!1){return(0,y.c)(function*(){const _=new Ie;_.updateFromServerResponse(d);const w=new ut({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield _i(w),w})()}}const Et=new Map;function Ot(f){X(f instanceof Function,"Expected a class definition");let c=Et.get(f);return c?(X(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,Et.set(f,c),c)}const vt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.c)(function*(){return!0})()}_set(d,p){var _=this;return(0,y.c)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,y.c)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,y.c)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Ar(f,c,d){return`firebase:${f}:${c}:${d}`}class tn{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=Ar(this.userKey,_.apiKey,w),this.fullPersistenceKey=Ar("persistence",_.apiKey,w),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,y.c)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?ut._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,y.c)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,y.c)(function*(){if(!d.length)return new tn(Ot(vt),c,p);const _=(yield Promise.all(d.map(function(){var it=(0,y.c)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return it.apply(this,arguments)}}()))).filter(it=>it);let w=_[0]||Ot(vt);const N=Ar(p,c.config.apiKey,c.name);let Z=null;for(const it of d)try{const Rt=yield it._get(N);if(Rt){const Tt=ut._fromJSON(c,Rt);it!==w&&(Z=Tt),w=it;break}}catch{}const Ae=_.filter(it=>it._shouldAllowMigration);return w._shouldAllowMigration&&Ae.length?(w=Ae[0],Z&&(yield w._set(N,Z.toJSON())),yield Promise.all(d.map(function(){var it=(0,y.c)(function*(Rt){if(Rt!==w)try{yield Rt._remove(N)}catch{}});return function(Rt){return it.apply(this,arguments)}}())),new tn(w,c,p)):new tn(w,c,p)})()}}function Te(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ve(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Yr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Oe(c))return"Blackberry";if(At(c))return"Webos";if(Ai(c))return"Safari";if((c.includes("chrome/")||Yo(c))&&!c.includes("edge/"))return"Chrome";if(re(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==p?void 0:p.length))return p[1]}return"Other"}function Yr(f=(0,B.Su)()){return/firefox\//i.test(f)}function Ai(f=(0,B.Su)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Yo(f=(0,B.Su)()){return/crios\//i.test(f)}function ve(f=(0,B.Su)()){return/iemobile/i.test(f)}function re(f=(0,B.Su)()){return/android/i.test(f)}function Oe(f=(0,B.Su)()){return/blackberry/i.test(f)}function At(f=(0,B.Su)()){return/webos/i.test(f)}function jt(f=(0,B.Su)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Un(f=(0,B.Su)()){return jt(f)||re(f)||At(f)||Oe(f)||/windows phone/i.test(f)||ve(f)}function Gt(f,c=[]){let d;switch(f){case"Browser":d=Te((0,B.Su)());break;case"Worker":d=`${Te((0,B.Su)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${je.SDK_VERSION}/${p}`}class rr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=w=>new Promise((N,Z)=>{try{N(c(w))}catch(Ae){Z(Ae)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,y.c)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:null==_?void 0:_.message})}})()}}function pa(){return(pa=(0,y.c)(function*(f,c={}){return G(f,"GET","/v2/passwordPolicy",ie(f,c))})).apply(this,arguments)}class wr{constructor(c){var d,p,_,w;const N=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=N.minPasswordLength)&&void 0!==d?d:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=c.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,w,N,Z;const Ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,Ae),this.validatePasswordCharacterOptions(c,Ae),Ae.isValid&&(Ae.isValid=null===(d=Ae.meetsMinPasswordLength)||void 0===d||d),Ae.isValid&&(Ae.isValid=null===(p=Ae.meetsMaxPasswordLength)||void 0===p||p),Ae.isValid&&(Ae.isValid=null===(_=Ae.containsLowercaseLetter)||void 0===_||_),Ae.isValid&&(Ae.isValid=null===(w=Ae.containsUppercaseLetter)||void 0===w||w),Ae.isValid&&(Ae.isValid=null===(N=Ae.containsNumericCharacter)||void 0===N||N),Ae.isValid&&(Ae.isValid=null===(Z=Ae.containsNonAlphanumericCharacter)||void 0===Z||Z),Ae}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=w))}}class _n{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eo(this),this.idTokenSubscription=new eo(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=Ot(d)),this._initializationPromise=this.queue((0,y.c)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield tn.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,y.c)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,y.c)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let w=_,N=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,Ae=null==w?void 0:w._redirectEventId,it=yield d.tryRedirectSignIn(c);(!Z||Z===Ae)&&null!=it&&it.user&&(w=it.user,N=!0)}if(!w)return d.directlySetCurrentUser(null);if(!w._redirectEventId){if(N)try{yield d.beforeStateQueue.runMiddleware(w)}catch(Z){w=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return w?d.reloadAndSetCurrentUserOrClear(w):d.directlySetCurrentUser(null)}return T(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===w._redirectEventId?d.directlySetCurrentUser(w):d.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(c){var d=this;return(0,y.c)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,y.c)(function*(){try{yield _i(c)}catch(p){if("auth/network-request-failed"!==(null==p?void 0:p.code))return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function en(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,y.c)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,y.c)(function*(){const p=c?(0,B.Yj)(c):null;return p&&T(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,y.c)(function*(){if(!p._deleted)return c&&T(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,y.c)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,y.c)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,y.c)(function*(){yield d.assertedPersistence.setPersistence(Ot(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,y.c)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,y.c)(function*(){const d=yield function Sr(f){return pa.apply(this,arguments)}(c),p=new wr(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new B.UR("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,y.c)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function P(f,c){return L.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,y.c)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,y.c)(function*(){if(!d.redirectPersistenceManager){const p=c&&Ot(c)||d._popupRedirectResolver;T(p,d,"argument-error"),d.redirectPersistenceManager=yield tn.create(d,[Ot(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,y.c)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,y.c)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,y.c)(function*(){if(c===d.currentUser)return d.queue((0,y.c)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const w="function"==typeof d?d:d.next.bind(d);let N=!1;const Z=this._isInitialized?Promise.resolve():this._initializationPromise;if(T(Z,this,"internal-error"),Z.then(()=>{N||w(this.currentUser)}),"function"==typeof d){const Ae=c.addObserver(d,p,_);return()=>{N=!0,Ae()}}{const Ae=c.addObserver(d);return()=>{N=!0,Ae()}}}directlySetCurrentUser(c){var d=this;return(0,y.c)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return T(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,y.c)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield c._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var c=this;return(0,y.c)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return null!=p&&p.error&&function Ne(f,...c){Y.logLevel<=Pt.Ge.WARN&&Y.warn(`Auth (${je.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),null==p?void 0:p.token})()}}function $n(f){return(0,B.Yj)(f)}class eo{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,B.my)(d=>this.observer=d)}get next(){return T(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qo={loadJS:()=>(0,y.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sl(f){return Qo.loadJS(f)}function ga(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ht{constructor(c){this.type="recaptcha-enterprise",this.auth=$n(c)}verify(c="verify",d=!1){var p=this;return(0,y.c)(function*(){function w(){return w=(0,y.c)(function*(Z){if(!d){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ae=(0,y.c)(function*(it,Rt){rn(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Tt=>{if(void 0!==Tt.recaptchaKey){const Kn=new Nt(Tt);return null==Z.tenantId?Z._agentRecaptchaConfig=Kn:Z._tenantRecaptchaConfigs[Z.tenantId]=Kn,it(Kn.siteKey)}Rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Tt=>{Rt(Tt)})});return function(it,Rt){return Ae.apply(this,arguments)}}())}),w.apply(this,arguments)}function N(Z,Ae,it){const Rt=window.grecaptcha;Ke(Rt)?Rt.enterprise.ready(()=>{Rt.enterprise.execute(Z,{action:c}).then(Tt=>{Ae(Tt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):it(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ae)=>{(function _(Z){return w.apply(this,arguments)})(p.auth).then(it=>{if(!d&&Ke(window.grecaptcha))N(it,Z,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));let Rt=function ll(){return Qo.recaptchaEnterpriseScript}();0!==Rt.length&&(Rt+=it),sl(Rt).then(()=>{N(it,Z,Ae)}).catch(Tt=>{Ae(Tt)})}}).catch(it=>{Ae(it)})})})()}}function ue(f,c,d){return I.apply(this,arguments)}function I(){return(I=(0,y.c)(function*(f,c,d,p=!1){const _=new Ht(f);let w;try{w=yield _.verify(d)}catch{w=yield _.verify(d,!0)}const N=Object.assign({},c);return Object.assign(N,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function C(f,c,d,p){return F.apply(this,arguments)}function F(){return F=(0,y.c)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield ue(f,c,d,"getOobCode"===d);return p(f,w)}return p(f,c).catch(function(){var w=(0,y.c)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Z=yield ue(f,c,d,"getOobCode"===d);return p(f,Z)}return Promise.reject(N)});return function(N){return w.apply(this,arguments)}}())}),F.apply(this,arguments)}function $e(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Pe(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class Mt{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return V("not implemented")}_getIdTokenResponse(c){return V("not implemented")}_linkToIdToken(c,d){return V("not implemented")}_getReauthenticationResolver(c){return V("not implemented")}}function on(f,c){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:resetPassword",ie(f,c))})).apply(this,arguments)}function Jn(){return(Jn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qn(f,c){return xo.apply(this,arguments)}function xo(){return(xo=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Tn(){return(Tn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",ie(f,c))})).apply(this,arguments)}function sd(f,c){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPassword",ie(f,c))})).apply(this,arguments)}function Sc(f,c){return ad.apply(this,arguments)}function ad(){return(ad=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendOobCode",ie(f,c))})).apply(this,arguments)}function ld(){return(ld=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function L_(f,c){return np.apply(this,arguments)}function np(){return(np=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function V_(f,c){return rp.apply(this,arguments)}function rp(){return(rp=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function to(){return(to=(0,y.c)(function*(f,c){return Sc(f,c)})).apply(this,arguments)}function cd(){return(cd=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}function ip(){return(ip=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}class Pc extends Mt{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Pc(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Pc(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(null!=d&&d.email&&null!=d&&d.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,y.c)(function*(){switch(d.signInMethod){case"password":return C(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",sd);case"emailLink":return function N0(f,c){return cd.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:Ue(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,y.c)(function*(){switch(p.signInMethod){case"password":return C(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qn);case"emailLink":return function k0(f,c){return ip.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:Ue(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function gs(f,c){return ud.apply(this,arguments)}function ud(){return(ud=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithIdp",ie(f,c))})).apply(this,arguments)}class Jo extends Mt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Jo(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):Ue("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,w=(0,Je.sX)(d,["providerId","signInMethod"]);if(!p||!_)return null;const N=new Jo(p,_);return N.idToken=w.idToken||void 0,N.accessToken=w.accessToken||void 0,N.secret=w.secret,N.nonce=w.nonce,N.pendingToken=w.pendingToken||null,N}_getIdTokenResponse(c){return gs(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gs(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gs(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,B.ik)(d)}return c}}function He(){return(He=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendVerificationCode",ie(f,c))})).apply(this,arguments)}function op(){return(op=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c))})).apply(this,arguments)}function dd(){return(dd=(0,y.c)(function*(f,c){const d=yield pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c));if(d.temporaryProof)throw se(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const kt={USER_NOT_FOUND:"user-not-found"};function ln(){return(ln=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),kt)})).apply(this,arguments)}class Zn extends Mt{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Zn({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Zn({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function L0(f,c){return op.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Zo(f,c){return dd.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Bi(f,c){return ln.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}=c;return p||d||_||w?new Zn({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class xr{constructor(c){var d,p,_,w,N,Z;const Ae=(0,B.aw)((0,B.kF)(c)),it=null!==(d=Ae.apiKey)&&void 0!==d?d:null,Rt=null!==(p=Ae.oobCode)&&void 0!==p?p:null,Tt=function oi(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=Ae.mode)&&void 0!==_?_:null);T(it&&Rt&&Tt,"argument-error"),this.apiKey=it,this.operation=Tt,this.code=Rt,this.continueUrl=null!==(w=Ae.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(N=Ae.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(Z=Ae.tenantId)&&void 0!==Z?Z:null}static parseLink(c){const d=function Ns(f){const c=(0,B.aw)((0,B.kF)(f)).link,d=c?(0,B.aw)((0,B.kF)(c)).deep_link_id:null,p=(0,B.aw)((0,B.kF)(f)).deep_link_id;return(p?(0,B.aw)((0,B.kF)(p)).link:null)||p||d||c||f}(c);try{return new xr(d)}catch{return null}}}let hd=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Pc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=xr.parseLink(p);return T(_,"argument-error"),Pc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Eo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ul extends Eo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class dl extends ul{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return T("providerId"in d&&"signInMethod"in d,"argument-error"),Jo._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return T(c.idToken||c.accessToken,"argument-error"),Jo._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return dl.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return dl.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:N,providerId:Z}=c;if(!p&&!_&&!d&&!w||!Z)return null;try{return new dl(Z)._credential({idToken:d,accessToken:p,nonce:N,pendingToken:w})}catch{return null}}}let er=(()=>{class f extends ul{constructor(){super("facebook.com")}static credential(d){return Jo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),nt=(()=>{class f extends ul{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Jo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),$t=(()=>{class f extends ul{constructor(){super("github.com")}static credential(d){return Jo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class vi extends Mt{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return gs(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,gs(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,gs(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:w}=d;return p&&_&&w&&p===_?new vi(p,w):null}static _create(c,d){return new vi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ji extends Eo{constructor(c){T(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ji.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ji.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=vi.fromJSON(c);return T(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return vi._create(p,d)}catch{return null}}}let _a=(()=>{class f extends ul{constructor(){super("twitter.com")}static credential(d,p){return Jo._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Bn(f,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signUp",ie(f,c))})).apply(this,arguments)}class Nr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,y.c)(function*(){const w=yield ut._fromIdTokenResponse(c,p,_),N=Kt(p);return new Nr({user:w,providerId:N,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,y.c)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=Kt(p);return new Nr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function Kt(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function fd(){return(fd=(0,y.c)(function*(f){var c;const d=$n(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Nr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Bn(d,{returnSecureToken:!0}),_=yield Nr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ms extends B.kx{constructor(c,d,p,_){var w;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ms.prototype),this.customData={appName:c.name,tenantId:null!==(w=c.tenantId)&&void 0!==w?w:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new ms(c,d,p,_)}}function ir(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?ms._fromErrorAndOperation(f,w,c,p):w})}function hl(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function wo(){return wo=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f);yield No(!0,d,c);const{providerUserInfo:p}=yield function pi(f,c){return Xn.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=hl(p||[]);return d.providerData=d.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),wo.apply(this,arguments)}function va(f,c){return pd.apply(this,arguments)}function pd(){return(pd=(0,y.c)(function*(f,c,d=!1){const p=yield xn(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return Nr._forOperation(f,"link",p)})).apply(this,arguments)}function No(f,c,d){return ya.apply(this,arguments)}function ya(){return(ya=(0,y.c)(function*(f,c,d){yield _i(c);const _=!1===f?"provider-already-linked":"no-such-provider";T(hl(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function ks(f,c){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,y.c)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const w=yield xn(f,ir(p,_,c,f),d);T(w.idToken,p,"internal-error");const N=qr(w.idToken);T(N,p,"internal-error");const{sub:Z}=N;return T(f.uid===Z,p,"user-mismatch"),Nr._forOperation(f,_,w)}catch(w){throw"auth/user-not-found"===(null==w?void 0:w.code)&&Ue(p,"user-mismatch"),w}})).apply(this,arguments)}function gd(f,c){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,y.c)(function*(f,c,d=!1){const p="signIn",_=yield ir(f,p,c),w=yield Nr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(w.user)),w})).apply(this,arguments)}function no(f,c){return pl.apply(this,arguments)}function pl(){return(pl=(0,y.c)(function*(f,c){return gd($n(f),c)})).apply(this,arguments)}function Ea(f,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f);return yield No(!1,d,c.providerId),va(d,c)})).apply(this,arguments)}function md(f,c){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,y.c)(function*(f,c){return ks((0,B.Yj)(f),c)})).apply(this,arguments)}function xc(){return(xc=(0,y.c)(function*(f,c){return pt(f,"POST","/v1/accounts:signInWithCustomToken",ie(f,c))})).apply(this,arguments)}function gl(){return gl=(0,y.c)(function*(f,c){const d=$n(f),p=yield function Ii(f,c){return xc.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield Nr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),gl.apply(this,arguments)}class Si{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Nc._fromServerResponse(c,d):"totpInfo"in d?sp._fromServerResponse(c,d):Ue(c,"internal-error")}}class Nc extends Si{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Nc(d)}}class sp extends Si{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new sp(d)}}function _d(f,c,d){var p;T((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),T(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(T(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(T(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function kc(f){return vd.apply(this,arguments)}function vd(){return(vd=(0,y.c)(function*(f){const c=$n(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Oc(){return(Oc=(0,y.c)(function*(f,c,d){const p=$n(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&_d(p,_,d),yield C(p,_,"getOobCode",L_)})).apply(this,arguments)}function $_(){return $_=(0,y.c)(function*(f,c,d){yield on((0,B.Yj)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&kc(f),_});return function(_){return p.apply(this,arguments)}}())}),$_.apply(this,arguments)}function U_(){return U_=(0,y.c)(function*(f,c){yield function Ui(f,c){return Tn.apply(this,arguments)}((0,B.Yj)(f),{oobCode:c})}),U_.apply(this,arguments)}function U0(f,c){return B_.apply(this,arguments)}function B_(){return(B_=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f),p=yield on(d,{oobCode:c}),_=p.requestType;switch(T(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":T(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":T(p.mfaInfo,d,"internal-error");default:T(p.email,d,"internal-error")}let w=null;return p.mfaInfo&&(w=Si._fromServerResponse($n(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function j_(){return(j_=(0,y.c)(function*(f,c){const{data:d}=yield U0((0,B.Yj)(f),c);return d.email})).apply(this,arguments)}function H_(){return(H_=(0,y.c)(function*(f,c,d){const p=$n(f),N=yield C(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bn).catch(Ae=>{throw"auth/password-does-not-meet-requirements"===Ae.code&&kc(f),Ae}),Z=yield Nr._fromIdTokenResponse(p,"signIn",N);return yield p._updateCurrentUser(Z.user),Z})).apply(this,arguments)}function yd(){return(yd=(0,y.c)(function*(f,c,d){const p=$n(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function w(N,Z){T(Z.handleCodeInApp,p,"argument-error"),Z&&_d(p,N,Z)})(_,d),yield C(p,_,"getOobCode",V_)})).apply(this,arguments)}function G_(){return(G_=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),_=hd.credentialWithLink(c,d||te());return T(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),no(p,_)})).apply(this,arguments)}function q_(){return(q_=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:createAuthUri",ie(f,c))})).apply(this,arguments)}function Id(){return Id=(0,y.c)(function*(f,c){const p={identifier:c,continueUri:de()?te():"http://localhost"},{signinMethods:_}=yield function JR(f,c){return q_.apply(this,arguments)}((0,B.Yj)(f),p);return _||[]}),Id.apply(this,arguments)}function ap(){return ap=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&_d(d.auth,_,c);const{email:w}=yield function Rc(f,c){return ld.apply(this,arguments)}(d.auth,_);w!==f.email&&(yield f.reload())}),ap.apply(this,arguments)}function Pn(){return Pn=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&_d(p.auth,w,d);const{email:N}=yield function x0(f,c){return to.apply(this,arguments)}(p.auth,w);N!==f.email&&(yield f.reload())}),Pn.apply(this,arguments)}function Ca(){return(Ca=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function cp(){return cp=(0,y.c)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,B.Yj)(f),w={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},N=yield xn(p,function lp(f,c){return Ca.apply(this,arguments)}(p.auth,w));p.displayName=N.displayName||null,p.photoURL=N.photoUrl||null;const Z=p.providerData.find(({providerId:Ae})=>"password"===Ae);Z&&(Z.displayName=p.displayName,Z.photoURL=p.photoURL),yield p._updateTokensIfNecessary(N)}),cp.apply(this,arguments)}function Hi(f,c,d){return up.apply(this,arguments)}function up(){return up=(0,y.c)(function*(f,c,d){const{auth:p}=f,w={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(w.email=c),d&&(w.password=d);const N=yield xn(f,function Cr(f,c){return Jn.apply(this,arguments)}(p,w));yield f._updateTokensIfNecessary(N,!0)}),up.apply(this,arguments)}class _l{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class ko extends _l{constructor(c,d,p,_){super(c,d,p),this.username=_}}class Y_ extends _l{constructor(c,d){super(c,"facebook.com",d)}}class B0 extends ko{constructor(c,d){super(c,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class Q_ extends _l{constructor(c,d){super(c,"google.com",d)}}class hp extends ko{constructor(c,d,p){super(c,"twitter.com",d,p)}}function fp(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function dp(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},w=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&null!=f&&f.idToken){const N=null===(d=null===(c=qr(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(N)return new _l(w,"anonymous"!==N&&"custom"!==N?N:null)}if(!p)return null;switch(p){case"facebook.com":return new Y_(w,_);case"github.com":return new B0(w,_);case"google.com":return new Q_(w,_);case"twitter.com":return new hp(w,_,f.screenName||null);case"custom":case"anonymous":return new _l(w,null);default:return new _l(w,p,_)}}(d)}class ba{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new ba("enroll",c,d)}static _fromMfaPendingCredential(c){return new ba("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(null!=c&&c.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ba._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return ba._fromIdtoken(c.multiFactorSession.idToken)}return null}}class mp{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=$n(c),_=d.customData._serverResponse,w=(_.mfaInfo||[]).map(Z=>Si._fromServerResponse(p,Z));T(_.mfaPendingCredential,p,"internal-error");const N=ba._fromMfaPendingCredential(_.mfaPendingCredential);return new mp(N,w,function(){var Z=(0,y.c)(function*(Ae){const it=yield Ae._process(p,N);delete _.mfaInfo,delete _.mfaPendingCredential;const Rt=Object.assign(Object.assign({},_),{idToken:it.idToken,refreshToken:it.refreshToken});switch(d.operationType){case"signIn":const Tt=yield Nr._fromIdTokenResponse(p,d.operationType,Rt);return yield p._updateCurrentUser(Tt.user),Tt;case"reauthenticate":return T(d.user,p,"internal-error"),Nr._forOperation(d.user,d.operationType,Rt);default:Ue(p,"internal-error")}});return function(Ae){return Z.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,y.c)(function*(){return d.signInResolver(c)})()}}class Sn{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Si._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new Sn(c)}getSession(){var c=this;return(0,y.c)(function*(){return ba._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,y.c)(function*(){const _=c,w=yield p.getSession(),N=yield xn(p.user,_._process(p.user.auth,w,d));return yield p.user._updateTokensIfNecessary(N),p.user.reload()})()}unenroll(c){var d=this;return(0,y.c)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const w=yield xn(d.user,function Cd(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:N})=>N!==p),yield d.user._updateTokensIfNecessary(w),yield d.user.reload()}catch(w){throw w}})()}}const bd=new WeakMap,ro="__sak";class Td{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ro,"1"),this.storage.removeItem(ro),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zr=(()=>{class f extends Td{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _p(){const f=(0,B.Su)();return Ai(f)||jt(f)}()&&function Ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Un(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&d(p,w,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((Z,Ae,it)=>{this.notifyListeners(Z,it)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(_);if(d.newValue!==Z)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const w=()=>{const Z=this.storage.getItem(_);!p&&this.localCache[_]===Z||this.notifyListeners(_,Z)},N=this.storage.getItem(_);!function yr(){return(0,B.Uv)()&&10===document.documentMode}()||N===d.newValue||d.newValue===d.oldValue?w():setTimeout(w,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,w=this;return(0,y.c)(function*(){yield _().call(w,d,p),w.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,y.c)(function*(){const w=yield p().call(_,d);return _.localCache[d]=JSON.stringify(w),w})()}_remove(d){var p=()=>super._remove,_=this;return(0,y.c)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),vs=(()=>{class f extends Td{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let ys=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(w=>w.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,y.c)(function*(){const _=d,{eventId:w,eventType:N,data:Z}=_.data,Ae=p.handlersMap[N];if(null==Ae||!Ae.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:N});const it=Array.from(Ae).map(function(){var Tt=(0,y.c)(function*(Kn){return Kn(_.origin,Z)});return function(Kn){return Tt.apply(this,arguments)}}()),Rt=yield function Oo(f){return Promise.all(f.map(function(){var c=(0,y.c)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(it);_.ports[0].postMessage({status:"done",eventId:w,eventType:N,response:Rt})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function $c(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class Z_{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,y.c)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let N,Z;return new Promise((Ae,it)=>{const Rt=$c("",20);w.port1.start();const Tt=setTimeout(()=>{it(new Error("unsupported_event"))},p);Z={messageChannel:w,onMessage(Kn){const qi=Kn;if(qi.data.eventId===Rt)switch(qi.data.status){case"ack":clearTimeout(Tt),N=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),Ae(qi.data.response);break;default:clearTimeout(Tt),clearTimeout(N),it(new Error("invalid_response"))}}},_.handlers.add(Z),w.port1.addEventListener("message",Z.onMessage),_.target.postMessage({eventType:c,eventId:Rt,data:d},[w.port2])}).finally(()=>{Z&&_.removeMessageHandler(Z)})})()}}function kr(){return window}function Uc(){return typeof kr().WorkerGlobalScope<"u"&&"function"==typeof kr().importScripts}function Bc(){return(Bc=(0,y.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yp="firebaseLocalStorageDb",jc="firebaseLocalStorage",Ep="fbase_key";class vl{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Hc(f,c){return f.transaction([jc],c?"readwrite":"readonly").objectStore(jc)}function Cp(){const f=indexedDB.open(yp,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(jc,{keyPath:Ep})}catch(_){d(_)}}),f.addEventListener("success",(0,y.c)(function*(){const p=f.result;p.objectStoreNames.contains(jc)?c(p):(p.close(),yield function wp(){const f=indexedDB.deleteDatabase(yp);return new vl(f).toPromise()}(),c(yield Cp()))}))})}function si(f,c,d){return Is.apply(this,arguments)}function Is(){return(Is=(0,y.c)(function*(f,c,d){const p=Hc(f,!0).put({[Ep]:c,value:d});return new vl(p).toPromise()})).apply(this,arguments)}function bp(){return(bp=(0,y.c)(function*(f,c){const d=Hc(f,!1).get(c),p=yield new vl(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function ev(f,c){const d=Hc(f,!0).delete(c);return new vl(d).toPromise()}const Ta=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.c)(function*(){return d.db||(d.db=yield Cp()),d.db})()}_withRetries(d){var p=this;return(0,y.c)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield d(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.c)(function*(){return Uc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.c)(function*(){d.receiver=ys._getInstance(function K0(){return Uc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,y.c)(function*(_,w){return{keyProcessed:(yield d._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,y.c)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.c)(function*(){var p,_;if(d.activeServiceWorker=yield function vp(){return Bc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Z_(d.activeServiceWorker);const w=yield d.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,y.c)(function*(){if(p.sender&&p.activeServiceWorker&&function Dd(){var f;return(null===(f=null==navigator?void 0:navigator.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.c)(function*(){try{if(!indexedDB)return!1;const d=yield Cp();return yield si(d,ro,"1"),yield ev(d,ro),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,y.c)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,y.c)(function*(){return _._withPendingWrite((0,y.c)(function*(){return yield _._withRetries(w=>si(w,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,y.c)(function*(){const _=yield p._withRetries(w=>function Wn(f,c){return bp.apply(this,arguments)}(w,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,y.c)(function*(){return p._withPendingWrite((0,y.c)(function*(){return yield p._withRetries(_=>ev(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.c)(function*(){const p=yield d._withRetries(N=>{const Z=Hc(N,!1).getAll();return new vl(Z).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:N,value:Z}of p)w.add(N),JSON.stringify(d.localCache[N])!==JSON.stringify(Z)&&(d.notifyListeners(N,Z),_.push(N));for(const N of Object.keys(d.localCache))d.localCache[N]&&!w.has(N)&&(d.notifyListeners(N,null),_.push(N));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.c)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),zc=1e12;class Z0{constructor(c){this.auth=c,this.counter=zc,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new zi(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||zc;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||zc))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,y.c)(function*(){var p;return null===(p=d._widgets.get(c||zc))||void 0===p||p.execute(),""})()}}class zi{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;T(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Il(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sd=ga("rcb"),Rd=new we(3e4,6e4);class Pd{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=kr().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return T(function Tp(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&pe(kr().grecaptcha)?Promise.resolve(kr().grecaptcha):new Promise((p,_)=>{const w=kr().setTimeout(()=>{_(xe(c,"network-request-failed"))},Rd.get());kr()[Sd]=()=>{kr().clearTimeout(w),delete kr()[Sd];const Z=kr().grecaptcha;if(!Z||!pe(Z))return void _(xe(c,"internal-error"));const Ae=Z.render;Z.render=(it,Rt)=>{const Tt=Ae(it,Rt);return this.counter++,Tt},this.hostLanguage=d,p(Z)},sl(`${function al(){return Qo.recaptchaV2Script}()}?${(0,B.ik)({onload:Sd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(w),_(xe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=kr().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class iP{load(c){return(0,y.c)(function*(){return new Z0(c)})()}clearedOneInstance(){}}const Dp="recaptcha",oP={theme:"light",type:"image"};class io{constructor(c,d,p=Object.assign({},oP)){this.parameters=p,this.type=Dp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(c),this.isInvisible="invisible"===this.parameters.size,T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;T(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iP:new Pd,this.validateStartingState()}verify(){var c=this;return(0,y.c)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(w=>{const N=Z=>{Z&&(c.tokenChangeListeners.delete(N),w(Z))};c.tokenChangeListeners.add(N),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){T(!this.parameters.sitekey,this.auth,"argument-error"),T(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),T(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=kr()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){T(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,y.c)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,y.c)(function*(){T(de()&&!Uc(),c.auth,"internal-error"),yield function Ap(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function wn(f){return Jt.apply(this,arguments)}(c.auth);T(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return T(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ls{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Zn._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function Md(){return(Md=(0,y.c)(function*(f,c,d){const p=$n(f),_=yield Wc(p,c,(0,B.Yj)(d));return new Ls(_,w=>no(p,w))})).apply(this,arguments)}function Gc(){return(Gc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);yield No(!1,p,"phone");const _=yield Wc(p.auth,c,(0,B.Yj)(d));return new Ls(_,w=>Ea(p,w))})).apply(this,arguments)}function Sp(){return(Sp=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),_=yield Wc(p.auth,c,(0,B.Yj)(d));return new Ls(_,w=>md(p,w))})).apply(this,arguments)}function Wc(f,c,d){return xd.apply(this,arguments)}function xd(){return xd=(0,y.c)(function*(f,c,d){var p;const _=yield d.verify();try{let w;if(T("string"==typeof _,f,"argument-error"),T(d.type===Dp,f,"argument-error"),w="string"==typeof c?{phoneNumber:c}:c,"session"in w){const N=w.session;if("phoneNumber"in w)return T("enroll"===N.type,f,"internal-error"),(yield function z0(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:start",ie(f,c))}(f,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{T("signin"===N.type,f,"internal-error");const Z=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return T(Z,f,"missing-multi-factor-info"),(yield function Ad(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:start",ie(f,c))}(f,{mfaPendingCredential:N.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function F0(f,c){return He.apply(this,arguments)}(f,{phoneNumber:w.phoneNumber,recaptchaToken:_});return N}}finally{d._reset()}}),xd.apply(this,arguments)}function El(){return(El=(0,y.c)(function*(f,c){yield va((0,B.Yj)(f),c)})).apply(this,arguments)}let Da=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=$n(d)}verifyPhoneNumber(d,p){return Wc(this.auth,d,(0,B.Yj)(p))}static credential(d,p){return Zn._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Zn._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Aa(f,c){return c?Ot(c):(T(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class es extends Mt{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return gs(c,this._buildIdpRequest())}_linkToIdToken(c,d){return gs(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return gs(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function St(f){return gd(f.auth,new es(f),f.bypassAuthState)}function aP(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),ks(d,new es(f),f.bypassAuthState)}function Fo(f){return wl.apply(this,arguments)}function wl(){return(wl=(0,y.c)(function*(f){const{auth:c,user:d}=f;return T(d,c,"internal-error"),va(d,new es(f),f.bypassAuthState)})).apply(this,arguments)}class tv{constructor(c,d,p,_,w=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,y.c)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(w){c.reject(w)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,y.c)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:N,error:Z,type:Ae}=c;if(Z)return void d.reject(Z);const it={auth:d.auth,requestUri:p,sessionId:_,tenantId:N||void 0,postBody:w||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ae)(it))}catch(Rt){d.reject(Rt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return St;case"linkViaPopup":case"linkViaRedirect":return Fo;case"reauthViaPopup":case"reauthViaRedirect":return aP;default:Ue(this.auth,"internal-error")}}resolve(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nv=new we(2e3,1e4);function Cl(){return(Cl=(0,y.c)(function*(f,c,d){const p=$n(f);R(f,c,Eo);const _=Aa(p,d);return new ot(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function Kc(){return(Kc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);R(p.auth,c,Eo);const _=Aa(p.auth,d);return new ot(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function Rp(){return(Rp=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);R(p.auth,c,Eo);const _=Aa(p.auth,d);return new ot(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let ot=(()=>{class f extends tv{constructor(d,p,_,w,N){super(d,p,w,N),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.c)(function*(){const p=yield d.execute();return T(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,y.c)(function*(){X(1===d.filter.length,"Popup operations only handle one event");const p=$c();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(xe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,nv.get())};d()}}return f.currentPopupAction=null,f})();const Od="pendingRedirect",Yc=new Map;class iv extends tv{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,y.c)(function*(){let p=Yc.get(d.auth._key());if(!p){try{const w=(yield function Lo(f,c){return ov.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Yc.set(d.auth._key(),p)}return d.bypassAuthState||Yc.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,y.c)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,y.c)(function*(){})()}cleanUp(){}}function ov(){return(ov=(0,y.c)(function*(f,c){const d=kn(c),p=av(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function sv(f,c){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,y.c)(function*(f,c){return av(f)._set(kn(c),"true")})).apply(this,arguments)}function Pp(f,c){Yc.set(f._key(),c)}function av(f){return Ot(f._redirectPersistence)}function kn(f){return Ar(Od,f.config.apiKey,f.name)}function zt(f,c,d){return function Ld(f,c,d){return Qc.apply(this,arguments)}(f,c,d)}function Qc(){return(Qc=(0,y.c)(function*(f,c,d){const p=$n(f);R(f,c,Eo),yield p._initializationPromise;const _=Aa(p,d);return yield sv(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function Mp(f,c,d){return function lv(f,c,d){return Xc.apply(this,arguments)}(f,c,d)}function Xc(){return(Xc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);R(p.auth,c,Eo),yield p.auth._initializationPromise;const _=Aa(p.auth,d);yield sv(_,p.auth);const w=yield Qt(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",w)})).apply(this,arguments)}function rw(f,c,d){return function xp(f,c,d){return cv.apply(this,arguments)}(f,c,d)}function cv(){return(cv=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);R(p.auth,c,Eo),yield p.auth._initializationPromise;const _=Aa(p.auth,d);yield No(!1,p,c.providerId),yield sv(_,p.auth);const w=yield Qt(p);return _._openRedirect(p.auth,c,"linkViaRedirect",w)})).apply(this,arguments)}function uv(){return(uv=(0,y.c)(function*(f,c){return yield $n(f)._initializationPromise,Np(f,c,!1)})).apply(this,arguments)}function Np(f,c){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,y.c)(function*(f,c,d=!1){const p=$n(f),_=Aa(p,c),N=yield new iv(p,_,d).execute();return N&&!d&&(delete N.user._redirectEventId,yield p._persistUserIfCurrent(N.user),yield p._setRedirectUser(null,c)),N})).apply(this,arguments)}function Qt(f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,y.c)(function*(f){const c=$c(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class dv{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ow(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!iw(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(xe(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hv(c))}saveEventToCache(c){this.cachedEventUids.add(hv(c)),this.lastProcessedEventTime=Date.now()}}function hv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function iw({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Vd(f){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,y.c)(function*(f,c={}){return G(f,"GET","/v1/projects",c)})).apply(this,arguments)}const fv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gi=/^https?/;function gv(){return(gv=(0,y.c)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield Vd(f);for(const d of c)try{if(uP(d))return}catch{}Ue(f,"unauthorized-domain")})).apply(this,arguments)}function uP(f){const c=te(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const N=new URL(f);return""===N.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&N.hostname===p}if(!Gi.test(d))return!1;if(fv.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const eu=new we(3e4,6e4);function $d(){const f=kr().___jsl;if(null!=f&&f.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Bd=null;const aw=new we(5e3,15e3),mv="__/auth/iframe",bl="emulator/auth/iframe",lw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cw(f){const c=f.config;T(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?k(c,bl):`https://${f.config.authDomain}/${mv}`,p={apiKey:c.apiKey,appName:f.name,v:je.SDK_VERSION},_=Vs.get(f.config.apiHost);_&&(p.eid=_);const w=f._getFrameworks();return w.length&&(p.fw=w.join(",")),`${d}?${(0,B.ik)(p).slice(1)}`}function jd(){return jd=(0,y.c)(function*(f){const c=yield function sw(f){return Bd=Bd||function Ud(f){return new Promise((c,d)=>{var p,_,w;function N(){$d(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{$d(),d(xe(f,"network-request-failed"))},timeout:eu.get()})}if(null!==(_=null===(p=kr().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(w=kr().gapi)||void 0===w||!w.load){const Z=ga("iframefcb");return kr()[Z]=()=>{gapi.load?N():d(xe(f,"network-request-failed"))},sl(`${function cl(){return Qo.gapiScript}()}?onload=${Z}`).catch(Ae=>d(Ae))}N()}}).catch(c=>{throw Bd=null,c})}(f),Bd}(f),d=kr().gapi;return T(d,f,"internal-error"),c.open({where:document.body,url:cw(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lw,dontclear:!0},p=>new Promise(function(){var _=(0,y.c)(function*(w,N){yield p.restyle({setHideOnLeave:!1});const Z=xe(f,"network-request-failed"),Ae=kr().setTimeout(()=>{N(Z)},aw.get());function it(){kr().clearTimeout(Ae),w(p)}p.ping(it).then(it,()=>{N(Z)})});return function(w,N){return _.apply(this,arguments)}}()))}),jd.apply(this,arguments)}const Ge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _v{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hP="__/auth/handler",zd="emulator/auth/handler",hw=encodeURIComponent("fac");function nu(f,c,d,p,_,w){return ru.apply(this,arguments)}function ru(){return(ru=(0,y.c)(function*(f,c,d,p,_,w){T(f.config.authDomain,f,"auth-domain-config-required"),T(f.config.apiKey,f,"invalid-api-key");const N={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:je.SDK_VERSION,eventId:_};if(c instanceof Eo){c.setDefaultLanguage(f.languageCode),N.providerId=c.providerId||"",(0,B.t7)(c.getCustomParameters())||(N.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Rt,Tt]of Object.entries(w||{}))N[Rt]=Tt}if(c instanceof ul){const Rt=c.getScopes().filter(Tt=>""!==Tt);Rt.length>0&&(N.scopes=Rt.join(","))}f.tenantId&&(N.tid=f.tenantId);const Z=N;for(const Rt of Object.keys(Z))void 0===Z[Rt]&&delete Z[Rt];const Ae=yield f._getAppCheckToken(),it=Ae?`#${hw}=${encodeURIComponent(Ae)}`:"";return`${function Tl({config:f}){return f.emulator?k(f,zd):`https://${f.authDomain}/${hP}`}(f)}?${(0,B.ik)(Z).slice(1)}${it}`})).apply(this,arguments)}const Dl="webStorageSupport",Sa=class Gd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Np,this._overrideRedirectResult=Pp}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){var N;X(null===(N=w.eventManagers[c._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const Z=yield nu(c,d,p,te(),_);return function dw(f,c,d,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),N=Math.max((window.screen.availWidth-p)/2,0).toString();let Z="";const Ae=Object.assign(Object.assign({},Ge),{width:p.toString(),height:_.toString(),top:w,left:N}),it=(0,B.Su)().toLowerCase();d&&(Z=Yo(it)?"_blank":d),Yr(it)&&(c=c||"http://localhost",Ae.scrollbars="yes");const Rt=Object.entries(Ae).reduce((Kn,[qi,Vl])=>`${Kn}${qi}=${Vl},`,"");if(function pn(f=(0,B.Su)()){var c;return jt(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(it)&&"_self"!==Z)return function dP(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",Z),new _v(null);const Tt=window.open(c||"",Z,Rt);T(Tt,f,"popup-blocked");try{Tt.focus()}catch{}return new _v(Tt)}(c,Z,$c())})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w._originValidation(c),function W0(f){kr().location.href=f}(yield nu(c,d,p,te(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:w}=this.eventManagers[d];return _?Promise.resolve(_):(X(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,y.c)(function*(){const p=yield function ze(f){return jd.apply(this,arguments)}(c),_=new dv(c);return p.register("authEvent",w=>(T(null==w?void 0:w.authEvent,c,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Dl,{type:Dl},_=>{var w;const N=null===(w=null==_?void 0:_[0])||void 0===w?void 0:w[Dl];void 0!==N&&d(!!N),Ue(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function pv(f){return gv.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Un()||Ai()||jt()}};class Al{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return V("unexpected MultiFactorSessionType")}}}class $s extends Al{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new $s(c)}_finalizeEnroll(c,d,p){return function be(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:finalize",ie(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Fs(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:finalize",ie(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Op=(()=>{class f{constructor(){}static assertion(d){return $s._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Rl="@firebase/auth";class yv{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,y.c)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c((null==p?void 0:p.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){T(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Es(){return window}(0,B.sX)("authIdTokenMaxAge"),function od(f){Qo=f}({loadJS:f=>new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const w=xe("internal-error");w.customData=_,d(w)},p.type="text/javascript",p.charset="UTF-8",function wv(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function gw(f){(0,je._registerComponent)(new J.Yl("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),w=c.getProvider("app-check-internal"),{apiKey:N,authDomain:Z}=p.options;T(N&&!N.includes(":"),"invalid-api-key",{appName:p.name});const Ae={apiKey:N,authDomain:Z,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gt(f)},it=new _n(p,_,w,Ae);return function ge(f,c){const d=(null==c?void 0:c.persistence)||[],p=(Array.isArray(d)?d:[d]).map(Ot);null!=c&&c.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,null==c?void 0:c.popupRedirectResolver)}(it,d),it},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,je._registerComponent)(new J.Yl("auth-internal",c=>{const d=$n(c.getProvider("auth").getImmediate());return new yv(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)(Rl,"1.6.0",function pw(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,je.registerVersion)(Rl,"1.6.0","esm2017")}("Browser");function bv(){return bv=(0,y.c)(function*(f,c,d){var p;const{BuildInfo:_}=Es();X(c.sessionId,"AuthEvent did not contain a session ID");const w=yield function Bp(f){return Pl.apply(this,arguments)}(c.sessionId),N={};return jt()?N.ibi=_.packageName:re()?N.apn=_.packageName:Ue(f,"operation-not-supported-in-this-environment"),_.displayName&&(N.appDisplayName=_.displayName),N.sessionId=w,nu(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,N)}),bv.apply(this,arguments)}function Vp(){return(Vp=(0,y.c)(function*(f){const{BuildInfo:c}=Es(),d={};jt()?d.iosBundleId=c.packageName:re()?d.androidPackageName=c.packageName:Ue(f,"operation-not-supported-in-this-environment"),yield Vd(f,d)})).apply(this,arguments)}function Up(){return(Up=(0,y.c)(function*(f,c,d){const{cordova:p}=Es();let _=()=>{};try{yield new Promise((w,N)=>{let Z=null;function Ae(){var Tt;w();const Kn=null===(Tt=p.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function it(){Z||(Z=window.setTimeout(()=>{N(xe(f,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===(null==document?void 0:document.visibilityState)&&it()}c.addPassiveListener(Ae),document.addEventListener("resume",it,!1),re()&&document.addEventListener("visibilitychange",Rt,!1),_=()=>{c.removePassiveListener(Ae),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",Rt,!1),Z&&window.clearTimeout(Z)}})}finally{_()}})).apply(this,arguments)}function Pl(){return(Pl=(0,y.c)(function*(f){const c=function Ml(f){if(X(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Nl extends dv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,y.c)(function*(){yield c.initPromise})()}}function Pa(f){return Av.apply(this,arguments)}function Av(){return(Av=(0,y.c)(function*(f){const c=yield Hp()._get(kl(f));return c&&(yield Hp()._remove(kl(f))),c})).apply(this,arguments)}function su(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Hp(){return Ot(Zr)}function kl(f){return Ar("authEvent",f.config.apiKey,f.name)}function ts(f){if(null==f||!f.includes("?"))return{};const[c,...d]=f.split("?");return(0,B.aw)(d.join("?"))}const Wd=class zp{constructor(){this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Np,this._overrideRedirectResult=Pp}_initialize(c){var d=this;return(0,y.c)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new Nl(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){Ue(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){!function Tv(f){var c,d,p,_,w,N,Z,Ae,it,Rt;const Tt=Es();T("function"==typeof(null===(c=null==Tt?void 0:Tt.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),T(typeof(null===(d=null==Tt?void 0:Tt.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),T("function"==typeof(null===(w=null===(_=null===(p=null==Tt?void 0:Tt.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Ae=null===(Z=null===(N=null==Tt?void 0:Tt.cordova)||void 0===N?void 0:N.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ae?void 0:Ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),T("function"==typeof(null===(Rt=null===(it=null==Tt?void 0:Tt.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===Rt?void 0:Rt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const N=yield w._initialize(c);yield N.initialized(),N.resetRedirect(),function nw(){Yc.clear()}(),yield w._originValidation(c);const Z=function Dv(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:su(),postBody:null,tenantId:f.tenantId,error:xe(f,"no-auth-event")}}(c,p,_);yield function jp(f,c){return Hp()._set(kl(f),c)}(c,Z);const Ae=yield function fP(f,c,d){return bv.apply(this,arguments)}(c,Z,d),it=yield function qd(f){const{cordova:c}=Es();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function ct(f=(0,B.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(Ae);return function $p(f,c,d){return Up.apply(this,arguments)}(c,N,it)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ou(f){return Vp.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=Es(),N=setTimeout((0,y.c)(function*(){yield Pa(c),d.onEvent(Kd())}),500),Z=function(){var Rt=(0,y.c)(function*(Tt){clearTimeout(N);const Kn=yield Pa(c);let qi=null;Kn&&null!=Tt&&Tt.url&&(qi=function _w(f,c){var d,p;const _=function Ma(f){const c=ts(f),d=c.link?decodeURIComponent(c.link):void 0,p=ts(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return ts(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const w=ts(_),N=w.firebaseError?function vw(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,Z=null===(p=null===(d=null==N?void 0:N.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],Ae=Z?xe(Z):null;return Ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Kn,Tt.url)),d.onEvent(qi||Kd())});return function(Kn){return Rt.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,Z);const Ae=_,it=`${w.packageName.toLowerCase()}://`;Es().handleOpenURL=function(){var Rt=(0,y.c)(function*(Tt){if(Tt.toLowerCase().startsWith(it)&&Z({url:Tt}),"function"==typeof Ae)try{Ae(Tt)}catch(Kn){console.error(Kn)}});return function(Tt){return Rt.apply(this,arguments)}}()}};function Kd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xe("no-auth-event")}}function Qd(){var f;return(null===(f=null==self?void 0:self.location)||void 0===f?void 0:f.protocol)||null}function Mv(f=(0,B.Su)()){return!("file:"!==Qd()&&"ionic:"!==Qd()&&"capacitor:"!==Qd()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function kv(){try{const f=self.localStorage,c=$c();if(f)return f.setItem(c,"1"),f.removeItem(c),!function xa(f=(0,B.Su)()){return function xv(){return(0,B.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function Nv(f=(0,B.Su)()){return/Edge\/\d+/.test(f)}(f)}()||(0,B.yy)()}catch{return au()&&(0,B.yy)()}return!1}function au(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ol(){return(function Gp(){return"http:"===Qd()||"https:"===Qd()}()||(0,B.Cc)()||Mv())&&!function qp(){return(0,B.AL)()||(0,B.yW)()}()&&kv()&&!au()}function Ov(){return Mv()&&typeof document<"u"}function Fl(){return(Fl=(0,y.c)(function*(){return!!Ov()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},Na=T,Fv="persistence";function Xd(f){return Us.apply(this,arguments)}function Us(){return(Us=(0,y.c)(function*(f){yield f._initializationPromise;const c=Lv(),d=Ar(Fv,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function Lv(){var f;try{return(null===(f=function ai(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const ww=T;class ns{constructor(){this.browserResolver=Ot(Sa),this.cordovaResolver=Ot(Wd),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Np,this._overrideRedirectResult=Pp}_initialize(c){var d=this;return(0,y.c)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Ov()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ww(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,y.c)(function*(){if(c.underlyingResolver)return;const d=yield function Wp(){return Fl.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function Bs(f){return f.unwrap()}function Ll(f){return Vv(f)}function Vv(f){const{_tokenResponse:c}=f instanceof B.kx?f.customData:f;if(!c)return null;if(!(f instanceof B.kx)&&"temporaryProof"in c&&"phoneNumber"in c)return Da.credentialFromResult(f);const d=c.providerId;if(!d||d===rt.PASSWORD)return null;let p;switch(d){case rt.GOOGLE:p=nt;break;case rt.FACEBOOK:p=er;break;case rt.GITHUB:p=$t;break;case rt.TWITTER:p=_a;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:Z,nonce:Ae}=c;return w||N||_||Z?Z?d.startsWith("saml.")?vi._create(d,Z):Jo._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:_,accessToken:w}):new dl(d).credential({idToken:_,accessToken:w,rawNonce:Ae}):null}return f instanceof B.kx?p.credentialFromError(f):p.credentialFromResult(f)}function Dn(f,c){return c.catch(d=>{throw d instanceof B.kx&&function Cw(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new lu(f,function H0(f,c){var d;const p=(0,B.Yj)(f),_=c;return T(c.customData.operationType,p,"argument-error"),T(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),mp._fromError(p,_)}(f,c));else if(p){const _=Vv(c),w=c;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:Ll(d),additionalUserInfo:fp(d),user:ws.getOrCreate(_)}})}function Jd(f,c){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,y.c)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>Dn(f,d.confirm(p))}})).apply(this,arguments)}class lu{constructor(c,d){this.resolver=d,this.auth=function Kp(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Dn(Bs(this.auth),this.resolver.resolveSignIn(c))}}class ws{constructor(c){this._delegate=c,this.multiFactor=function Vc(f){const c=(0,B.Yj)(f);return bd.has(c)||bd.set(c,Sn._fromUser(c)),bd.get(c)}(c)}static getOrCreate(c){return ws.USER_MAP.has(c)||ws.USER_MAP.set(c,new ws(c)),ws.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,Ea(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,y.c)(function*(){return Jd(p.auth,function ew(f,c,d){return Gc.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,function rv(f,c,d){return Rp.apply(this,arguments)}(d._delegate,c,ns))})()}linkWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield Xd($n(d.auth)),rw(d._delegate,c,ns)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,y.c)(function*(){return Dn(d.auth,md(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return Jd(this.auth,function qc(f,c,d){return Sp.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Dn(this.auth,function kd(f,c,d){return Kc.apply(this,arguments)}(this._delegate,c,ns))}reauthenticateWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield Xd($n(d.auth)),Mp(d._delegate,c,ns)})()}sendEmailVerification(c){return function K_(f,c){return ap.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,y.c)(function*(){return yield function fl(f,c){return wo.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function Fc(f,c){return Hi((0,B.Yj)(f),c,null)}(this._delegate,c)}updatePassword(c){return function ml(f,c){return Hi((0,B.Yj)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Nd(f,c){return El.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ri(f,c){return cp.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function ZR(f,c,d){return Pn.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ws.USER_MAP=new WeakMap;const cu=T;let $v=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;cu(_,"invalid-api-key",{appName:d.name}),cu(_,"invalid-api-key",{appName:d.name});const w=typeof window<"u"?ns:void 0;this._delegate=p.initialize({options:{persistence:bw(_,d.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(Ee),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ws.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function qe(f,c,d){const p=$n(f);T(p._canInitEmulator,p,"emulator-config-failed"),T(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!(null==d||!d.disableWarnings),w=$e(c),{host:N,port:Z}=function Fe(f){const c=$e(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:Pe(p.substr(w.length+1))}}{const[w,N]=p.split(":");return{host:w,port:Pe(N)}}}(c);p.config.emulator={url:`${w}//${N}${null===Z?"":`:${Z}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:N,port:Z,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function Qe(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function qR(f,c){return U_.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return U0(this._delegate,d)}confirmPasswordReset(d,p){return function GR(f,c,d){return $_.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,y.c)(function*(){return Dn(_._delegate,function KR(f,c,d){return H_.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function W_(f,c){return Id.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function z_(f,c){const d=xr.parseLink(c);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,y.c)(function*(){cu(Ol(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function lP(f,c){return uv.apply(this,arguments)}(d._delegate,ns);return p?Dn(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function yw(f,c){$n(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:w,error:N,complete:Z}=Uv(d,p,_);return this._delegate.onAuthStateChanged(w,N,Z)}onIdTokenChanged(d,p,_){const{next:w,error:N,complete:Z}=Uv(d,p,_);return this._delegate.onIdTokenChanged(w,N,Z)}sendSignInLinkToEmail(d,p){return function QR(f,c,d){return yd.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function $0(f,c,d){return Oc.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,y.c)(function*(){let _;switch(function Iw(f,c){Na(Object.values(ei).includes(c),f,"invalid-persistence-type"),(0,B.AL)()?Na(c!==ei.SESSION,f,"unsupported-persistence-type"):(0,B.yW)()?Na(c===ei.NONE,f,"unsupported-persistence-type"):au()?Na(c===ei.NONE||c===ei.LOCAL&&(0,B.yy)(),f,"unsupported-persistence-type"):Na(c===ei.NONE||kv(),f,"unsupported-persistence-type")}(p._delegate,d),d){case ei.SESSION:_=vs;break;case ei.LOCAL:_=(yield Ot(Ta)._isAvailable())?Ta:Zr;break;case ei.NONE:_=vt;break;default:return Ue("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Dn(this._delegate,function Mc(f){return fd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Dn(this._delegate,no(this._delegate,d))}signInWithCustomToken(d){return Dn(this._delegate,function wa(f,c){return gl.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return Dn(this._delegate,function YR(f,c,d){return no((0,B.Yj)(f),hd.credential(c,d)).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&kc(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return Dn(this._delegate,function XR(f,c,d){return G_.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Jd(this._delegate,function sP(f,c,d){return Md.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,y.c)(function*(){return cu(Ol(),p._delegate,"operation-not-supported-in-this-environment"),Dn(p._delegate,function tw(f,c,d){return Cl.apply(this,arguments)}(p._delegate,d,ns))})()}signInWithRedirect(d){var p=this;return(0,y.c)(function*(){return cu(Ol(),p._delegate,"operation-not-supported-in-this-environment"),yield Xd(p._delegate),zt(p._delegate,d,ns)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function WR(f,c){return j_.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=ei,f})();function Uv(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:N=>_(N&&ws.getOrCreate(N)),error:c,complete:d}}function bw(f,c){const d=function Ew(f,c){const d=Lv();if(!d)return[];const p=Ar(Fv,f,c);switch(d.getItem(p)){case ei.NONE:return[vt];case ei.LOCAL:return[Ta,vs];case ei.SESSION:return[vs];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(Ta)&&d.push(Ta),typeof window<"u")for(const p of[Zr,vs])d.includes(p)||d.push(p);return d.includes(vt)||d.push(vt),d}class Qp{constructor(){this.providerId="phone",this._delegate=new Da(Bs(ke.c.auth()))}static credential(c,d){return Da.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Qp.PHONE_SIGN_IN_METHOD=Da.PHONE_SIGN_IN_METHOD,Qp.PROVIDER_ID=Da.PROVIDER_ID;const Xp=T;class Zd{constructor(c,d,p=ke.c.app()){var _;Xp(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new io(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bv(f){f.INTERNAL.registerComponent(new J.Yl("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new $v(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:hd,FacebookAuthProvider:er,GithubAuthProvider:$t,GoogleAuthProvider:nt,OAuthProvider:dl,SAMLAuthProvider:ji,PhoneAuthProvider:Qp,PhoneMultiFactorGenerator:Op,RecaptchaVerifier:Zd,TwitterAuthProvider:_a,Auth:$v,AuthCredential:Mt,Error:B.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.2")}(ke.c)},1528:(Mn,Lt,oe)=>{"use strict";function y(B,je,Pt,Je,J,Ze,rt){try{var ee=B[Ze](rt),W=ee.value}catch(ye){return void Pt(ye)}ee.done?je(W):Promise.resolve(W).then(Je,J)}function ke(B){return function(){var je=this,Pt=arguments;return new Promise(function(Je,J){var Ze=B.apply(je,Pt);function rt(W){y(Ze,Je,J,rt,ee,"next",W)}function ee(W){y(Ze,Je,J,rt,ee,"throw",W)}rt(void 0)})}}oe.d(Lt,{c:()=>ke})},1316:(Mn,Lt,oe)=>{"use strict";function je(k,D){var M={};for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&D.indexOf(j)<0&&(M[j]=k[j]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(j=Object.getOwnPropertySymbols(k);ie<j.length;ie++)D.indexOf(j[ie])<0&&Object.prototype.propertyIsEnumerable.call(k,j[ie])&&(M[j[ie]]=k[j[ie]])}return M}function Pt(k,D,M,j){var We,ie=arguments.length,G=ie<3?D:null===j?j=Object.getOwnPropertyDescriptor(D,M):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(k,D,M,j);else for(var dt=k.length-1;dt>=0;dt--)(We=k[dt])&&(G=(ie<3?We(G):ie>3?We(D,M,G):We(D,M))||G);return ie>3&&G&&Object.defineProperty(D,M,G),G}function ye(k,D,M,j){return new(M||(M=Promise))(function(G,We){function dt(Vt){try{pt(j.next(Vt))}catch(dn){We(dn)}}function tt(Vt){try{pt(j.throw(Vt))}catch(dn){We(dn)}}function pt(Vt){Vt.done?G(Vt.value):function ie(G){return G instanceof M?G:new M(function(We){We(G)})}(Vt.value).then(dt,tt)}pt((j=j.apply(k,D||[])).next())})}function Me(k){return this instanceof Me?(this.v=k,this):new Me(k)}function Ue(k,D,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,j=M.apply(k,D||[]),G=[];return ie={},We("next"),We("throw"),We("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function We(yt){j[yt]&&(ie[yt]=function(Re){return new Promise(function(se,pe){G.push([yt,Re,se,pe])>1||dt(yt,Re)})})}function dt(yt,Re){try{!function tt(yt){yt.value instanceof Me?Promise.resolve(yt.value.v).then(pt,Vt):dn(G[0][2],yt)}(j[yt](Re))}catch(se){dn(G[0][3],se)}}function pt(yt){dt("next",yt)}function Vt(yt){dt("throw",yt)}function dn(yt,Re){yt(Re),G.shift(),G.length&&dt(G[0][0],G[0][1])}}function et(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var M,D=k[Symbol.asyncIterator];return D?D.call(k):(k=function De(k){var D="function"==typeof Symbol&&Symbol.iterator,M=D&&k[D],j=0;if(M)return M.call(k);if(k&&"number"==typeof k.length)return{next:function(){return k&&j>=k.length&&(k=void 0),{value:k&&k[j++],done:!k}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")}(k),M={},j("next"),j("throw"),j("return"),M[Symbol.asyncIterator]=function(){return this},M);function j(G){M[G]=k[G]&&function(We){return new Promise(function(dt,tt){!function ie(G,We,dt,tt){Promise.resolve(tt).then(function(pt){G({value:pt,done:dt})},We)}(dt,tt,(We=k[G](We)).done,We.value)})}}}oe.d(Lt,{U1:()=>Me,UN:()=>Pt,kH:()=>ye,mA:()=>et,o7:()=>Ue,sX:()=>je}),"function"==typeof SuppressedError&&SuppressedError}},Mn=>{Mn(Mn.s=3024)}]);