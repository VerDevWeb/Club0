(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1590],{7144:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{A3:()=>T,AL:()=>te,AV:()=>x,Cc:()=>X,IN:()=>Kt,Su:()=>S,UR:()=>G,Uv:()=>qe,WW:()=>ee,Wg:()=>tt,Ww:()=>ve,Y7:()=>fe,YD:()=>Ze,Yd:()=>Re,Yj:()=>cs,aw:()=>un,ik:()=>zn,kF:()=>hi,kx:()=>ie,my:()=>zr,o9:()=>Me,qk:()=>Ee,sX:()=>Ve,t7:()=>Mt,uH:()=>V,yW:()=>D,yy:()=>O});const Ue=function(k){const M=[];let L=0;for(let ye=0;ye<k.length;ye++){let q=k.charCodeAt(ye);q<128?M[L++]=q:q<2048?(M[L++]=q>>6|192,M[L++]=63&q|128):55296==(64512&q)&&ye+1<k.length&&56320==(64512&k.charCodeAt(ye+1))?(q=65536+((1023&q)<<10)+(1023&k.charCodeAt(++ye)),M[L++]=q>>18|240,M[L++]=q>>12&63|128,M[L++]=q>>6&63|128,M[L++]=63&q|128):(M[L++]=q>>12|224,M[L++]=q>>6&63|128,M[L++]=63&q|128)}return M},Ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,M){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=M?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let q=0;q<k.length;q+=3){const at=k[q],_t=q+1<k.length,xt=_t?k[q+1]:0,Wr=q+2<k.length,wt=Wr?k[q+2]:0;let Ce=(15&xt)<<2|wt>>6,Kr=63&wt;Wr||(Kr=64,_t||(Ce=64)),ye.push(L[at>>2],L[(3&at)<<4|xt>>4],L[Ce],L[Kr])}return ye.join("")},encodeString(k,M){return this.HAS_NATIVE_SUPPORT&&!M?btoa(k):this.encodeByteArray(Ue(k),M)},decodeString(k,M){return this.HAS_NATIVE_SUPPORT&&!M?atob(k):function(k){const M=[];let L=0,ye=0;for(;L<k.length;){const q=k[L++];if(q<128)M[ye++]=String.fromCharCode(q);else if(q>191&&q<224){const at=k[L++];M[ye++]=String.fromCharCode((31&q)<<6|63&at)}else if(q>239&&q<365){const Wr=((7&q)<<18|(63&k[L++])<<12|(63&k[L++])<<6|63&k[L++])-65536;M[ye++]=String.fromCharCode(55296+(Wr>>10)),M[ye++]=String.fromCharCode(56320+(1023&Wr))}else{const at=k[L++],_t=k[L++];M[ye++]=String.fromCharCode((15&q)<<12|(63&at)<<6|63&_t)}}return M.join("")}(this.decodeStringToByteArray(k,M))},decodeStringToByteArray(k,M){this.init_();const L=M?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let q=0;q<k.length;){const at=L[k.charAt(q++)],xt=q<k.length?L[k.charAt(q)]:0;++q;const wt=q<k.length?L[k.charAt(q)]:64;++q;const Xt=q<k.length?L[k.charAt(q)]:64;if(++q,null==at||null==xt||null==wt||null==Xt)throw new Z;ye.push(at<<2|xt>>4),64!==wt&&(ye.push(xt<<4&240|wt>>2),64!==Xt&&ye.push(wt<<6&192|Xt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Z extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tt=function(k){return function(k){const M=Ue(k);return Ke.encodeByteArray(M,!0)}(k).replace(/\./g,"")},ee=function(k){try{return Ke.decodeString(k,!0)}catch(M){console.error("base64Decode failed: ",M)}return null};function ve(k,M){if(!(M instanceof Object))return M;switch(M.constructor){case Date:return new Date(M.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return M}for(const L in M)!M.hasOwnProperty(L)||!le(L)||(k[L]=ve(k[L],M[L]));return k}function le(k){return"__proto__"!==k}const z=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const M=k&&ee(k[1]);return M&&JSON.parse(M)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},Re=()=>{var k;return null===(k=z())||void 0===k?void 0:k.config},Ve=k=>{var M;return null===(M=z())||void 0===M?void 0:M[`_${k}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((M,L)=>{this.resolve=M,this.reject=L})}wrapCallback(M){return(L,ye)=>{L?this.reject(L):this.resolve(ye),"function"==typeof M&&(this.promise.catch(()=>{}),1===M.length?M(L):M(L,ye))}}}function Ze(k,M){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=M||"demo-project",q=k.iat||0,at=k.sub||k.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:q,exp:q+3600,auth_time:q,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},k);return[tt(JSON.stringify({alg:"none",type:"JWT"})),tt(JSON.stringify(_t)),""].join(".")}function S(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(S())}function D(){var k;const M=null===(k=z())||void 0===k?void 0:k.forceEnvironment;if("node"===M)return!0;if("browser"===M)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function V(){return"object"==typeof self&&self.self===self}function X(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){const k=S();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function Ee(){return!D()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){try{return"object"==typeof indexedDB}catch{return!1}}function T(){return new Promise((k,M)=>{try{let L=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(ye);q.onsuccess=()=>{q.result.close(),L||self.indexedDB.deleteDatabase(ye),k(!0)},q.onupgradeneeded=()=>{L=!1},q.onerror=()=>{var at;M((null===(at=q.error)||void 0===at?void 0:at.message)||"")}}catch(L){M(L)}})}class ie extends Error{constructor(M,L,ye){super(L),this.code=M,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(M,L,ye){this.service=M,this.serviceName=L,this.errors=ye}create(M,...L){const ye=L[0]||{},q=`${this.service}/${M}`,at=this.errors[M],_t=at?function He(k,M){return k.replace(lt,(L,ye)=>{const q=M[ye];return null!=q?String(q):`<${ye}?>`})}(at,ye):"Error";return new ie(q,`${this.serviceName}: ${_t} (${q}).`,ye)}}const lt=/\{\$([^}]+)}/g;function fe(k,M){return Object.prototype.hasOwnProperty.call(k,M)}function Mt(k){for(const M in k)if(Object.prototype.hasOwnProperty.call(k,M))return!1;return!0}function Kt(k,M){if(k===M)return!0;const L=Object.keys(k),ye=Object.keys(M);for(const q of L){if(!ye.includes(q))return!1;const at=k[q],_t=M[q];if(Jt(at)&&Jt(_t)){if(!Kt(at,_t))return!1}else if(at!==_t)return!1}for(const q of ye)if(!L.includes(q))return!1;return!0}function Jt(k){return null!==k&&"object"==typeof k}function zn(k){const M=[];for(const[L,ye]of Object.entries(k))Array.isArray(ye)?ye.forEach(q=>{M.push(encodeURIComponent(L)+"="+encodeURIComponent(q))}):M.push(encodeURIComponent(L)+"="+encodeURIComponent(ye));return M.length?"&"+M.join("&"):""}function un(k){const M={};return k.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[q,at]=ye.split("=");M[decodeURIComponent(q)]=decodeURIComponent(at)}}),M}function hi(k){const M=k.indexOf("?");if(!M)return"";const L=k.indexOf("#",M);return k.substring(M,L>0?L:void 0)}function zr(k,M){const L=new ri(k,M);return L.subscribe.bind(L)}class ri{constructor(M,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{M(this)}).catch(ye=>{this.error(ye)})}next(M){this.forEachObserver(L=>{L.next(M)})}error(M){this.forEachObserver(L=>{L.error(M)}),this.close(M)}complete(){this.forEachObserver(M=>{M.complete()}),this.close()}subscribe(M,L,ye){let q;if(void 0===M&&void 0===L&&void 0===ye)throw new Error("Missing Observer.");q=function ki(k,M){if("object"!=typeof k||null===k)return!1;for(const L of M)if(L in k&&"function"==typeof k[L])return!0;return!1}(M,["next","error","complete"])?M:{next:M,error:L,complete:ye},void 0===q.next&&(q.next=fi),void 0===q.error&&(q.error=fi),void 0===q.complete&&(q.complete=fi);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),at}unsubscribeOne(M){void 0===this.observers||void 0===this.observers[M]||(delete this.observers[M],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(M){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,M)}sendOne(M,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[M])try{L(this.observers[M])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(M){this.finalized||(this.finalized=!0,void 0!==M&&(this.finalError=M),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}function cs(k){return k&&k._delegate?k._delegate:k}},9248:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{c:()=>B,r:()=>W});const B=(S,x)=>{S.componentOnReady?S.componentOnReady().then(D=>x(D)):W(()=>x(S))},W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S)},1896:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{L:()=>y,a:()=>xe,b:()=>B,c:()=>Ue,d:()=>At,g:()=>S});const y="ionViewWillEnter",xe="ionViewDidEnter",B="ionViewWillLeave",Ue="ionViewDidLeave",At="ionViewWillUnload",S=x=>x.classList.contains("ion-page")?x:x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||x},388:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{c:()=>be});var y=oe(4829),xe=oe(6384);let B;const At=Q=>Q.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ke=Q=>(void 0===B&&(B=void 0===Q.style.animationName&&void 0!==Q.style.webkitAnimationName?"-webkit-":""),B),Z=(Q,z,Y)=>{const Pe=z.startsWith("animation")?Ke(Q):"";Q.style.setProperty(Pe+z,Y)},Xe=(Q,z)=>{const Y=z.startsWith("animation")?Ke(Q):"";Q.style.removeProperty(Y+z)},W=[],Ie=(Q=[],z)=>{if(void 0!==z){const Y=Array.isArray(z)?z:[z];return[...Q,...Y]}return Q},be=Q=>{let z,Y,Pe,Re,Ve,Me,V,O,T,P,j,lt,Je,Ze=[],S=[],x=[],D=!1,X={},te=[],ue=[],qe={},It=0,Qt=!1,Ee=!1,ie=!0,G=!1,He=!0,dt=!1;const kt=Q,ln=[],gt=[],Ae=[],se=[],fe=[],ze=[],Mt=[],In=[],Kt=[],Jt=[],Wt=[],zn="function"==typeof AnimationEffect||void 0!==y.w&&"function"==typeof y.w.AnimationEffect,un="function"==typeof Element&&"function"==typeof Element.prototype.animate&&zn,Qn=()=>Wt,fi=(ce,I)=>{const C=I.findIndex(F=>F.c===ce);C>-1&&I.splice(C,1)},pi=(ce,I)=>((null!=I&&I.oneTimeCallback?gt:ln).push({c:ce,o:I}),Je),qr=()=>{if(un)Wt.forEach(ce=>{ce.cancel()}),Wt.length=0;else{const ce=se.slice();(0,xe.r)(()=>{ce.forEach(I=>{Xe(I,"animation-name"),Xe(I,"animation-duration"),Xe(I,"animation-timing-function"),Xe(I,"animation-iteration-count"),Xe(I,"animation-delay"),Xe(I,"animation-play-state"),Xe(I,"animation-fill-mode"),Xe(I,"animation-direction")})})}},Pn=()=>{ze.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),ze.length=0},M=()=>void 0!==Ve?Ve:V?V.getFill():"both",L=()=>void 0!==T?T:void 0!==Me?Me:V?V.getDirection():"normal",ye=()=>Qt?"linear":void 0!==Pe?Pe:V?V.getEasing():"linear",q=()=>Ee?0:void 0!==P?P:void 0!==Y?Y:V?V.getDuration():0,at=()=>void 0!==Re?Re:V?V.getIterations():1,_t=()=>void 0!==j?j:void 0!==z?z:V?V.getDelay():0,st=()=>{0!==It&&(It--,0===It&&((()=>{qo(),Kt.forEach($=>$()),Jt.forEach($=>$());const ce=ie?1:0,I=te,C=ue,F=qe;se.forEach($=>{const K=$.classList;I.forEach(ae=>K.add(ae)),C.forEach(ae=>K.remove(ae));for(const ae in F)F.hasOwnProperty(ae)&&Z($,ae,F[ae])}),P=void 0,T=void 0,j=void 0,ln.forEach($=>$.c(ce,Je)),gt.forEach($=>$.c(ce,Je)),gt.length=0,He=!0,ie&&(G=!0),ie=!0})(),V&&V.animationFinish()))},hn=(ce=!0)=>{Pn();const I=(Q=>(Q.forEach(z=>{for(const Y in z)if(z.hasOwnProperty(Y)){const Pe=z[Y];if("easing"===Y)z["animation-timing-function"]=Pe,delete z[Y];else{const Re=At(Y);Re!==Y&&(z[Re]=Pe,delete z[Y])}}}),Q))(Ze);se.forEach(C=>{if(I.length>0){const F=((Q=[])=>Q.map(z=>{const Y=z.offset,Pe=[];for(const Re in z)z.hasOwnProperty(Re)&&"offset"!==Re&&Pe.push(`${Re}: ${z[Re]};`);return`${100*Y}% { ${Pe.join(" ")} }`}).join(" "))(I);lt=void 0!==Q?Q:(Q=>{let z=W.indexOf(Q);return z<0&&(z=W.push(Q)-1),`ion-animation-${z}`})(F);const $=((Q,z,Y)=>{var Pe;const Re=(Q=>{const z=void 0!==Q.getRootNode?Q.getRootNode():Q;return z.head||z})(Y),Ve=Ke(Y),Me=Re.querySelector("#"+Q);if(Me)return Me;const Ze=(null!==(Pe=Y.ownerDocument)&&void 0!==Pe?Pe:document).createElement("style");return Ze.id=Q,Ze.textContent=`@${Ve}keyframes ${Q} { ${z} } @${Ve}keyframes ${Q}-alt { ${z} }`,Re.appendChild(Ze),Ze})(lt,F,C);ze.push($),Z(C,"animation-duration",`${q()}ms`),Z(C,"animation-timing-function",ye()),Z(C,"animation-delay",`${_t()}ms`),Z(C,"animation-fill-mode",M()),Z(C,"animation-direction",L());const K=at()===1/0?"infinite":at().toString();Z(C,"animation-iteration-count",K),Z(C,"animation-play-state","paused"),ce&&Z(C,"animation-name",`${$.id}-alt`),(0,xe.r)(()=>{Z(C,"animation-name",$.id||null)})}})},$n=(ce=!0)=>{(()=>{Mt.forEach(F=>F()),In.forEach(F=>F());const ce=S,I=x,C=X;se.forEach(F=>{const $=F.classList;ce.forEach(K=>$.add(K)),I.forEach(K=>$.remove(K));for(const K in C)C.hasOwnProperty(K)&&Z(F,K,C[K])})})(),Ze.length>0&&(un?(se.forEach(ce=>{const I=ce.animate(Ze,{id:kt,delay:_t(),duration:q(),easing:ye(),iterations:at(),fill:M(),direction:L()});I.pause(),Wt.push(I)}),Wt.length>0&&(Wt[0].onfinish=()=>{st()})):hn(ce)),D=!0},yr=ce=>{if(ce=Math.min(Math.max(ce,0),.9999),un)Wt.forEach(I=>{I.currentTime=I.effect.getComputedTiming().delay+q()*ce,I.pause()});else{const I=`-${q()*ce}ms`;se.forEach(C=>{Ze.length>0&&(Z(C,"animation-delay",I),Z(C,"animation-play-state","paused"))})}},jt=ce=>{Wt.forEach(I=>{I.effect.updateTiming({delay:_t(),duration:q(),easing:ye(),iterations:at(),fill:M(),direction:L()})}),void 0!==ce&&yr(ce)},rr=(ce=!0,I)=>{(0,xe.r)(()=>{se.forEach(C=>{Z(C,"animation-name",lt||null),Z(C,"animation-duration",`${q()}ms`),Z(C,"animation-timing-function",ye()),Z(C,"animation-delay",void 0!==I?`-${I*q()}ms`:`${_t()}ms`),Z(C,"animation-fill-mode",M()||null),Z(C,"animation-direction",L()||null);const F=at()===1/0?"infinite":at().toString();Z(C,"animation-iteration-count",F),ce&&Z(C,"animation-name",`${lt}-alt`),(0,xe.r)(()=>{Z(C,"animation-name",lt||null)})})})},Ar=(ce=!1,I=!0,C)=>(ce&&fe.forEach(F=>{F.update(ce,I,C)}),un?jt(C):rr(I,C),Je),pn=()=>{D&&(un?Wt.forEach(ce=>{ce.pause()}):se.forEach(ce=>{Z(ce,"animation-play-state","paused")}),dt=!0)},Zi=()=>{O=void 0,st()},qo=()=>{O&&clearTimeout(O)},il=ce=>new Promise(I=>{null!=ce&&ce.sync&&(Ee=!0,pi(()=>Ee=!1,{oneTimeCallback:!0})),D||$n(),G&&(un?(yr(0),jt()):rr(),G=!1),He&&(It=fe.length+1,He=!1);const C=()=>{fi(F,gt),I()},F=()=>{fi(C,Ae),I()};pi(F,{oneTimeCallback:!0}),((ce,I)=>{Ae.push({c:ce,o:{oneTimeCallback:!0}})})(C),fe.forEach($=>{$.play()}),un?(Wt.forEach(ce=>{ce.play()}),(0===Ze.length||0===se.length)&&st()):(()=>{if(qo(),(0,xe.r)(()=>{se.forEach(ce=>{Ze.length>0&&Z(ce,"animation-play-state","running")})}),0===Ze.length||0===se.length)st();else{const ce=_t()||0,I=q()||0,C=at()||1;isFinite(C)&&(O=setTimeout(Zi,ce+I*C+100)),((Q,z)=>{let Y;const Pe={passive:!0},Ve=Me=>{Q===Me.target&&(Y&&Y(),qo(),(0,xe.r)(()=>{se.forEach(ce=>{Xe(ce,"animation-duration"),Xe(ce,"animation-delay"),Xe(ce,"animation-play-state")}),(0,xe.r)(st)}))};Q&&(Q.addEventListener("webkitAnimationEnd",Ve,Pe),Q.addEventListener("animationend",Ve,Pe),Y=()=>{Q.removeEventListener("webkitAnimationEnd",Ve,Pe),Q.removeEventListener("animationend",Ve,Pe)})})(se[0])}})(),dt=!1}),ua=(ce,I)=>{const C=Ze[0];return void 0===C||void 0!==C.offset&&0!==C.offset?Ze=[{offset:0,[ce]:I},...Ze]:C[ce]=I,Je};return Je={parentAnimation:V,elements:se,childAnimations:fe,id:kt,animationFinish:st,from:ua,to:(ce,I)=>{const C=Ze[Ze.length-1];return void 0===C||void 0!==C.offset&&1!==C.offset?Ze=[...Ze,{offset:1,[ce]:I}]:C[ce]=I,Je},fromTo:(ce,I,C)=>ua(ce,I).to(ce,C),parent:ce=>(V=ce,Je),play:il,pause:()=>(fe.forEach(ce=>{ce.pause()}),pn(),Je),stop:()=>{fe.forEach(ce=>{ce.stop()}),D&&(qr(),D=!1),Qt=!1,Ee=!1,He=!0,T=void 0,P=void 0,j=void 0,It=0,G=!1,ie=!0,dt=!1,Ae.forEach(ce=>ce.c(0,Je)),Ae.length=0},destroy:ce=>(fe.forEach(I=>{I.destroy(ce)}),(ce=>{qr(),ce&&Pn()})(ce),se.length=0,fe.length=0,Ze.length=0,ln.length=0,gt.length=0,D=!1,He=!0,Je),keyframes:ce=>{const I=Ze!==ce;return Ze=ce,I&&(ce=>{un?Qn().forEach(I=>{const C=I.effect;if(C.setKeyframes)C.setKeyframes(ce);else{const F=new KeyframeEffect(C.target,ce,C.getTiming());I.effect=F}}):hn()})(Ze),Je},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const I of ce)I.parent(Je),fe.push(I);else ce.parent(Je),fe.push(ce);return Je},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)se.push(ce);else if(ce.length>=0)for(let I=0;I<ce.length;I++)se.push(ce[I]);else console.error("Invalid addElement value");return Je},update:Ar,fill:ce=>(Ve=ce,Ar(!0),Je),direction:ce=>(Me=ce,Ar(!0),Je),iterations:ce=>(Re=ce,Ar(!0),Je),duration:ce=>(!un&&0===ce&&(ce=1),Y=ce,Ar(!0),Je),easing:ce=>(Pe=ce,Ar(!0),Je),delay:ce=>(z=ce,Ar(!0),Je),getWebAnimations:Qn,getKeyframes:()=>Ze,getFill:M,getDirection:L,getDelay:_t,getIterations:at,getEasing:ye,getDuration:q,afterAddRead:ce=>(Kt.push(ce),Je),afterAddWrite:ce=>(Jt.push(ce),Je),afterClearStyles:(ce=[])=>{for(const I of ce)qe[I]="";return Je},afterStyles:(ce={})=>(qe=ce,Je),afterRemoveClass:ce=>(ue=Ie(ue,ce),Je),afterAddClass:ce=>(te=Ie(te,ce),Je),beforeAddRead:ce=>(Mt.push(ce),Je),beforeAddWrite:ce=>(In.push(ce),Je),beforeClearStyles:(ce=[])=>{for(const I of ce)X[I]="";return Je},beforeStyles:(ce={})=>(X=ce,Je),beforeRemoveClass:ce=>(x=Ie(x,ce),Je),beforeAddClass:ce=>(S=Ie(S,ce),Je),onFinish:pi,isRunning:()=>0!==It&&!dt,progressStart:(ce=!1,I)=>(fe.forEach(C=>{C.progressStart(ce,I)}),pn(),Qt=ce,D||$n(),Ar(!1,!0,I),Je),progressStep:ce=>(fe.forEach(I=>{I.progressStep(ce)}),yr(ce),Je),progressEnd:(ce,I,C)=>(Qt=!1,fe.forEach(F=>{F.progressEnd(ce,I,C)}),void 0!==C&&(P=C),G=!1,ie=!0,0===ce?(T="reverse"===L()?"normal":"reverse","reverse"===T&&(ie=!1),un?(Ar(),yr(1-I)):(j=(1-I)*q()*-1,Ar(!1,!1))):1===ce&&(un?(Ar(),yr(I)):(j=I*q()*-1,Ar(!1,!1))),void 0!==ce&&!V&&il(),Je)}}},9637:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{E:()=>ee,a:()=>y,s:()=>Xe});const y=W=>{try{if(W instanceof Z)return W.value;if(!Ue()||"string"!=typeof W||""===W)return W;if(W.includes("onload="))return"";const ve=document.createDocumentFragment(),le=document.createElement("div");ve.appendChild(le),le.innerHTML=W,Ke.forEach(Q=>{const z=ve.querySelectorAll(Q);for(let Y=z.length-1;Y>=0;Y--){const Pe=z[Y];Pe.parentNode?Pe.parentNode.removeChild(Pe):ve.removeChild(Pe);const Re=B(Pe);for(let Ve=0;Ve<Re.length;Ve++)xe(Re[Ve])}});const me=B(ve);for(let Q=0;Q<me.length;Q++)xe(me[Q]);const Ie=document.createElement("div");Ie.appendChild(ve);const be=Ie.querySelector("div");return null!==be?be.innerHTML:Ie.innerHTML}catch(ve){return console.error(ve),""}},xe=W=>{if(W.nodeType&&1!==W.nodeType)return;if(typeof NamedNodeMap<"u"&&!(W.attributes instanceof NamedNodeMap))return void W.remove();for(let le=W.attributes.length-1;le>=0;le--){const me=W.attributes.item(le),Ie=me.name;if(!At.includes(Ie.toLowerCase())){W.removeAttribute(Ie);continue}const be=me.value,Q=W[Ie];(null!=be&&be.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&W.removeAttribute(Ie)}const ve=B(W);for(let le=0;le<ve.length;le++)xe(ve[le])},B=W=>null!=W.children?W.children:W.childNodes,Ue=()=>{var W;const ve=window,le=null===(W=null==ve?void 0:ve.Ionic)||void 0===W?void 0:W.config;return!le||(le.get?le.get("sanitizerEnabled",!0):!0===le.sanitizerEnabled||void 0===le.sanitizerEnabled)},At=["class","id","href","src","name","slot"],Ke=["script","style","iframe","meta","link","object","embed"];class Z{constructor(ve){this.value=ve}}const Xe=W=>{const ve=window,le=ve.Ionic;if(!le||!le.config||"Object"===le.config.constructor.name)return ve.Ionic=ve.Ionic||{},ve.Ionic.config=Object.assign(Object.assign({},ve.Ionic.config),W),ve.Ionic.config},ee=!1},495:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{C:()=>At,a:()=>B,d:()=>Ue});var y=oe(1528),xe=oe(6384);const B=function(){var Ke=(0,y.c)(function*(Z,Xe,tt,ee,W,ve){var le;if(Z)return Z.attachViewToDom(Xe,tt,W,ee);if(!(ve||"string"==typeof tt||tt instanceof HTMLElement))throw new Error("framework delegate is missing");const me="string"==typeof tt?null===(le=Xe.ownerDocument)||void 0===le?void 0:le.createElement(tt):tt;return ee&&ee.forEach(Ie=>me.classList.add(Ie)),W&&Object.assign(me,W),Xe.appendChild(me),yield new Promise(Ie=>(0,xe.c)(me,Ie)),me});return function(Xe,tt,ee,W,ve,le){return Ke.apply(this,arguments)}}(),Ue=(Ke,Z)=>{if(Z){if(Ke)return Ke.removeViewFromDom(Z.parentElement,Z);Z.remove()}return Promise.resolve()},At=()=>{let Ke,Z;return{attachViewToDom:function(){var ee=(0,y.c)(function*(W,ve,le={},me=[]){var Ie,be;let Q;if(Ke=W,ve){const Y="string"==typeof ve?null===(Ie=Ke.ownerDocument)||void 0===Ie?void 0:Ie.createElement(ve):ve;me.forEach(Pe=>Y.classList.add(Pe)),Object.assign(Y,le),Ke.appendChild(Y),Q=Y,yield new Promise(Pe=>(0,xe.c)(Y,Pe))}else if(Ke.children.length>0&&("ION-MODAL"===Ke.tagName||"ION-POPOVER"===Ke.tagName)&&!(Q=Ke.children[0]).classList.contains("ion-delegate-host")){const Pe=null===(be=Ke.ownerDocument)||void 0===be?void 0:be.createElement("div");Pe.classList.add("ion-delegate-host"),me.forEach(Re=>Pe.classList.add(Re)),Pe.append(...Ke.children),Ke.appendChild(Pe),Q=Pe}const z=document.querySelector("ion-app")||document.body;return Z=document.createComment("ionic teleport"),Ke.parentNode.insertBefore(Z,Ke),z.appendChild(Ke),null!=Q?Q:Ke});return function(ve,le){return ee.apply(this,arguments)}}(),removeViewFromDom:()=>(Ke&&Z&&(Z.parentNode.insertBefore(Ke,Z),Z.remove()),Promise.resolve())}}},6560:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{G:()=>At});class xe{constructor(Z,Xe,tt,ee,W){this.id=Xe,this.name=tt,this.disableScroll=W,this.priority=1e6*ee+Xe,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(Z,Xe,tt,ee){this.id=Xe,this.disable=tt,this.disableScroll=ee,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ue="backdrop-no-scroll",At=new class y{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var Xe;return new xe(this,this.newID(),Z.name,null!==(Xe=Z.priority)&&void 0!==Xe?Xe:0,!!Z.disableScroll)}createBlocker(Z={}){return new B(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,Xe,tt){return this.canStart(Z)?(this.requestedStart.set(Xe,tt),!0):(this.requestedStart.delete(Xe),!1)}capture(Z,Xe,tt){if(!this.start(Z,Xe,tt))return!1;const ee=this.requestedStart;let W=-1e4;if(ee.forEach(ve=>{W=Math.max(W,ve)}),W===tt){this.capturedId=Xe,ee.clear();const ve=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(ve),!0}return ee.delete(Xe),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,Xe){let tt=this.disabledGestures.get(Z);void 0===tt&&(tt=new Set,this.disabledGestures.set(Z,tt)),tt.add(Xe)}enableGesture(Z,Xe){const tt=this.disabledGestures.get(Z);void 0!==tt&&tt.delete(Xe)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add(Ue)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove(Ue)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const Xe=this.disabledGestures.get(Z);return!!(Xe&&Xe.size>0)}newID(){return this.gestureId++,this.gestureId}}},2784:(Mn,Ot,oe)=>{"use strict";oe.r(Ot),oe.d(Ot,{MENU_BACK_BUTTON_PRIORITY:()=>tt,OVERLAY_BACK_BUTTON_PRIORITY:()=>Xe,blockHardwareBackButton:()=>Ke,shoudUseCloseWatcher:()=>At,startHardwareBackButton:()=>Z});var y=oe(1528),xe=oe(4829),B=oe(8523);oe(2992);const At=()=>B.c.get("experimentalCloseWatcher",!1)&&void 0!==xe.w&&"CloseWatcher"in xe.w,Ke=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const ee=document;let W=!1;const ve=()=>{if(W)return;let le=0,me=[];const Ie=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(z,Y){me.push({priority:z,handler:Y,id:le++})}}});ee.dispatchEvent(Ie);const be=function(){var z=(0,y.c)(function*(Y){try{if(null!=Y&&Y.handler){const Pe=Y.handler(Q);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return z.apply(this,arguments)}}(),Q=()=>{if(me.length>0){let z={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};me.forEach(Y=>{Y.priority>=z.priority&&(z=Y)}),W=!0,me=me.filter(Y=>Y.id!==z.id),be(z).then(()=>W=!1)}};Q()};if(At()){let le;const me=()=>{null==le||le.destroy(),le=new xe.w.CloseWatcher,le.onclose=()=>{ve(),me()}};me()}else ee.addEventListener("backbutton",ve)},Xe=100,tt=99},6384:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{a:()=>Xe,b:()=>tt,c:()=>B,d:()=>be,e:()=>Ie,f:()=>me,g:()=>ee,h:()=>le,i:()=>Z,j:()=>Ve,k:()=>At,l:()=>Q,m:()=>Ue,n:()=>ve,o:()=>z,p:()=>Re,q:()=>Me,r:()=>W,s:()=>Ze,t:()=>y,u:()=>Y,v:()=>Pe});const y=(S,x=0)=>new Promise(D=>{xe(S,x,D)}),xe=(S,x=0,D)=>{let V,X;const te={passive:!0},qe=()=>{V&&V()},It=Qt=>{(void 0===Qt||S===Qt.target)&&(qe(),D(Qt))};return S&&(S.addEventListener("webkitTransitionEnd",It,te),S.addEventListener("transitionend",It,te),X=setTimeout(It,x+500),V=()=>{void 0!==X&&(clearTimeout(X),X=void 0),S.removeEventListener("webkitTransitionEnd",It,te),S.removeEventListener("transitionend",It,te)}),qe},B=(S,x)=>{S.componentOnReady?S.componentOnReady().then(D=>x(D)):W(()=>x(S))},Ue=S=>void 0!==S.componentOnReady,At=(S,x=[])=>{const D={};return x.forEach(V=>{S.hasAttribute(V)&&(null!==S.getAttribute(V)&&(D[V]=S.getAttribute(V)),S.removeAttribute(V))}),D},Ke=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Z=(S,x)=>{let D=Ke;return x&&x.length>0&&(D=D.filter(V=>!x.includes(V))),At(S,D)},Xe=(S,x,D,V)=>{var X;if(typeof window<"u"){const te=window,ue=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(ue){const qe=ue.get("_ael");if(qe)return qe(S,x,D,V);if(ue._ael)return ue._ael(S,x,D,V)}}return S.addEventListener(x,D,V)},tt=(S,x,D,V)=>{var X;if(typeof window<"u"){const te=window,ue=null===(X=null==te?void 0:te.Ionic)||void 0===X?void 0:X.config;if(ue){const qe=ue.get("_rel");if(qe)return qe(S,x,D,V);if(ue._rel)return ue._rel(S,x,D,V)}}return S.removeEventListener(x,D,V)},ee=(S,x=S)=>S.shadowRoot||x,W=S=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(S):"function"==typeof requestAnimationFrame?requestAnimationFrame(S):setTimeout(S),ve=S=>!!S.shadowRoot&&!!S.attachShadow,le=S=>{const x=S.closest("ion-item");return x?x.querySelector("ion-label"):null},me=S=>{if(S.focus(),S.classList.contains("ion-focusable")){const x=S.closest("ion-app");x&&x.setFocus([S])}},Ie=(S,x)=>{let D;const V=S.getAttribute("aria-labelledby"),X=S.id;let te=null!==V&&""!==V.trim()?V:x+"-lbl",ue=null!==V&&""!==V.trim()?document.getElementById(V):le(S);return ue?(null===V&&(ue.id=te),D=ue.textContent,ue.setAttribute("aria-hidden","true")):""!==X.trim()&&(ue=document.querySelector(`label[for="${X}"]`),ue&&(""!==ue.id?te=ue.id:ue.id=te=`${X}-lbl`,D=ue.textContent)),{label:ue,labelId:te,labelText:D}},be=(S,x,D,V,X)=>{if(S||ve(x)){let te=x.querySelector("input.aux-input");te||(te=x.ownerDocument.createElement("input"),te.type="hidden",te.classList.add("aux-input"),x.appendChild(te)),te.disabled=X,te.name=D,te.value=V||""}},Q=(S,x,D)=>Math.max(S,Math.min(x,D)),z=(S,x)=>{if(!S){const D="ASSERT: "+x;throw console.error(D),new Error(D)}},Y=S=>S.timeStamp||Date.now(),Pe=S=>{if(S){const x=S.changedTouches;if(x&&x.length>0){const D=x[0];return{x:D.clientX,y:D.clientY}}if(void 0!==S.pageX)return{x:S.pageX,y:S.pageY}}return{x:0,y:0}},Re=S=>{const x="rtl"===document.dir;switch(S){case"start":return x;case"end":return!x;default:throw new Error(`"${S}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ve=(S,x)=>{const D=S._original||S;return{_original:S,emit:Me(D.emit.bind(D),x)}},Me=(S,x=0)=>{let D;return(...V)=>{clearTimeout(D),D=setTimeout(S,x,...V)}},Ze=(S,x)=>{if(null!=S||(S={}),null!=x||(x={}),S===x)return!0;const D=Object.keys(S);if(D.length!==Object.keys(x).length)return!1;for(const V of D)if(!(V in x)||S[V]!==x[V])return!1;return!0}},2528:(Mn,Ot,oe)=>{"use strict";oe.r(Ot),oe.d(Ot,{GESTURE_CONTROLLER:()=>y.G,createGesture:()=>tt});var y=oe(6560);const xe=(le,me,Ie,be)=>{const Q=B(le)?{capture:!!be.capture,passive:!!be.passive}:!!be.capture;let z,Y;return le.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",Y="__zone_symbol__removeEventListener"):(z="addEventListener",Y="removeEventListener"),le[z](me,Ie,Q),()=>{le[Y](me,Ie,Q)}},B=le=>{if(void 0===Ue)try{const me=Object.defineProperty({},"passive",{get:()=>{Ue=!0}});le.addEventListener("optsTest",()=>{},me)}catch{Ue=!1}return!!Ue};let Ue;const Z=le=>le instanceof Document?le:le.ownerDocument,tt=le=>{let me=!1,Ie=!1,be=!0,Q=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},le),Y=z.canStart,Pe=z.onWillStart,Re=z.onStart,Ve=z.onEnd,Me=z.notCaptured,Ze=z.onMove,S=z.threshold,x=z.passive,D=z.blurOnStart,V={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((le,me,Ie)=>{const be=Ie*(Math.PI/180),Q="x"===le,z=Math.cos(be),Y=me*me;let Pe=0,Re=0,Ve=!1,Me=0;return{start(Ze,S){Pe=Ze,Re=S,Me=0,Ve=!0},detect(Ze,S){if(!Ve)return!1;const x=Ze-Pe,D=S-Re,V=x*x+D*D;if(V<Y)return!1;const X=Math.sqrt(V),te=(Q?x:D)/X;return Me=te>z?1:te<-z?-1:0,Ve=!1,!0},isGesture:()=>0!==Me,getDirection:()=>Me}})(z.direction,z.threshold,z.maxAngle),te=y.G.createGesture({name:le.gestureName,priority:le.gesturePriority,disableScroll:le.disableScroll}),It=()=>{me&&(Q=!1,Ze&&Ze(V))},Qt=()=>!!te.capture()&&(me=!0,be=!1,V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime,Pe?Pe(V).then(O):O(),!0),O=()=>{D&&(()=>{if(typeof document<"u"){const G=document.activeElement;null!=G&&G.blur&&G.blur()}})(),Re&&Re(V),be=!0},T=()=>{me=!1,Ie=!1,Q=!1,be=!0,te.release()},P=G=>{const He=me,lt=be;if(T(),lt){if(ee(V,G),He)return void(Ve&&Ve(V));Me&&Me(V)}},j=((le,me,Ie,be,Q)=>{let z,Y,Pe,Re,Ve,Me,Ze,S=0;const x=Ee=>{S=Date.now()+2e3,me(Ee)&&(!Y&&Ie&&(Y=xe(le,"touchmove",Ie,Q)),Pe||(Pe=xe(Ee.target,"touchend",V,Q)),Re||(Re=xe(Ee.target,"touchcancel",V,Q)))},D=Ee=>{S>Date.now()||me(Ee)&&(!Me&&Ie&&(Me=xe(Z(le),"mousemove",Ie,Q)),Ze||(Ze=xe(Z(le),"mouseup",X,Q)))},V=Ee=>{te(),be&&be(Ee)},X=Ee=>{ue(),be&&be(Ee)},te=()=>{Y&&Y(),Pe&&Pe(),Re&&Re(),Y=Pe=Re=void 0},ue=()=>{Me&&Me(),Ze&&Ze(),Me=Ze=void 0},qe=()=>{te(),ue()},It=(Ee=!0)=>{Ee?(z||(z=xe(le,"touchstart",x,Q)),Ve||(Ve=xe(le,"mousedown",D,Q))):(z&&z(),Ve&&Ve(),z=Ve=void 0,qe())};return{enable:It,stop:qe,destroy:()=>{It(!1),be=Ie=me=void 0}}})(z.el,G=>{const He=ve(G);return!(Ie||!be||(W(G,V),V.startX=V.currentX,V.startY=V.currentY,V.startTime=V.currentTime=He,V.velocityX=V.velocityY=V.deltaX=V.deltaY=0,V.event=G,Y&&!1===Y(V))||(te.release(),!te.start()))&&(Ie=!0,0===S?Qt():(X.start(V.startX,V.startY),!0))},G=>{me?!Q&&be&&(Q=!0,ee(V,G),requestAnimationFrame(It)):(ee(V,G),X.detect(V.currentX,V.currentY)&&(!X.isGesture()||!Qt())&&ie())},P,{capture:!1,passive:x}),ie=()=>{T(),j.stop(),Me&&Me(V)};return{enable(G=!0){G||(me&&P(void 0),T()),j.enable(G)},destroy(){te.destroy(),j.destroy()}}},ee=(le,me)=>{if(!me)return;const Ie=le.currentX,be=le.currentY,Q=le.currentTime;W(me,le);const z=le.currentX,Y=le.currentY,Re=(le.currentTime=ve(me))-Q;if(Re>0&&Re<100){const Me=(Y-be)/Re;le.velocityX=(z-Ie)/Re*.7+.3*le.velocityX,le.velocityY=.7*Me+.3*le.velocityY}le.deltaX=z-le.startX,le.deltaY=Y-le.startY,le.event=me},W=(le,me)=>{let Ie=0,be=0;if(le){const Q=le.changedTouches;if(Q&&Q.length>0){const z=Q[0];Ie=z.clientX,be=z.clientY}else void 0!==le.pageX&&(Ie=le.pageX,be=le.pageY)}me.currentX=Ie,me.currentY=be},ve=le=>le.timeStamp||Date.now()},6256:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{b:()=>Ke,c:()=>Z,d:()=>Xe,e:()=>S,g:()=>V,l:()=>Me,s:()=>x,t:()=>W,w:()=>Ze});var y=oe(1528),xe=oe(2992),B=oe(6384);const Ke="ionViewWillLeave",Z="ionViewDidLeave",Xe="ionViewWillUnload",W=X=>new Promise((te,ue)=>{(0,xe.w)(()=>{ve(X),le(X).then(qe=>{qe.animation&&qe.animation.destroy(),me(X),te(qe)},qe=>{me(X),ue(qe)})})}),ve=X=>{const te=X.enteringEl,ue=X.leavingEl;D(te,ue,X.direction),X.showGoBack?te.classList.add("can-go-back"):te.classList.remove("can-go-back"),x(te,!1),te.style.setProperty("pointer-events","none"),ue&&(x(ue,!1),ue.style.setProperty("pointer-events","none"))},le=function(){var X=(0,y.c)(function*(te){const ue=yield Ie(te);return ue&&xe.B.isBrowser?be(ue,te):Q(te)});return function(ue){return X.apply(this,arguments)}}(),me=X=>{const te=X.enteringEl,ue=X.leavingEl;te.classList.remove("ion-page-invisible"),te.style.removeProperty("pointer-events"),void 0!==ue&&(ue.classList.remove("ion-page-invisible"),ue.style.removeProperty("pointer-events"))},Ie=function(){var X=(0,y.c)(function*(te){return te.leavingEl&&te.animated&&0!==te.duration?te.animationBuilder?te.animationBuilder:"ios"===te.mode?(yield Promise.resolve().then(oe.bind(oe,8512))).iosTransitionAnimation:(yield Promise.resolve().then(oe.bind(oe,6556))).mdTransitionAnimation:void 0});return function(ue){return X.apply(this,arguments)}}(),be=function(){var X=(0,y.c)(function*(te,ue){yield z(ue,!0);const qe=te(ue.baseEl,ue);Re(ue.enteringEl,ue.leavingEl);const It=yield Pe(qe,ue);return ue.progressCallback&&ue.progressCallback(void 0),It&&Ve(ue.enteringEl,ue.leavingEl),{hasCompleted:It,animation:qe}});return function(ue,qe){return X.apply(this,arguments)}}(),Q=function(){var X=(0,y.c)(function*(te){const ue=te.enteringEl,qe=te.leavingEl;return yield z(te,!1),Re(ue,qe),Ve(ue,qe),{hasCompleted:!0}});return function(ue){return X.apply(this,arguments)}}(),z=function(){var X=(0,y.c)(function*(te,ue){(void 0!==te.deepWait?te.deepWait:ue)&&(yield Promise.all([S(te.enteringEl),S(te.leavingEl)])),yield Y(te.viewIsReady,te.enteringEl)});return function(ue,qe){return X.apply(this,arguments)}}(),Y=function(){var X=(0,y.c)(function*(te,ue){te&&(yield te(ue))});return function(ue,qe){return X.apply(this,arguments)}}(),Pe=(X,te)=>{const ue=te.progressCallback,qe=new Promise(It=>{X.onFinish(Qt=>It(1===Qt))});return ue?(X.progressStart(!0),ue(X)):X.play(),qe},Re=(X,te)=>{Me(te,Ke),Me(X,"ionViewWillEnter")},Ve=(X,te)=>{Me(X,"ionViewDidEnter"),Me(te,Z)},Me=(X,te)=>{if(X){const ue=new CustomEvent(te,{bubbles:!1,cancelable:!1});X.dispatchEvent(ue)}},Ze=()=>new Promise(X=>(0,B.r)(()=>(0,B.r)(()=>X()))),S=function(){var X=(0,y.c)(function*(te){const ue=te;if(ue){if(null!=ue.componentOnReady){if(null!=(yield ue.componentOnReady()))return}else if(null!=ue.__registerHost)return void(yield new Promise(It=>(0,B.r)(It)));yield Promise.all(Array.from(ue.children).map(S))}});return function(ue){return X.apply(this,arguments)}}(),x=(X,te)=>{te?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},D=(X,te,ue)=>{void 0!==X&&(X.style.zIndex="back"===ue?"99":"101"),void 0!==te&&(te.style.zIndex="100")},V=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},2992:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{B:()=>ve,H:()=>Qt,a:()=>Vn,b:()=>Di,c:()=>lt,d:()=>ln,e:()=>Ut,f:()=>kt,g:()=>Je,h:()=>qe,i:()=>M,j:()=>le,r:()=>hn,w:()=>ce});var y=oe(1528);let Ue,At,Ke,Z=!1,Xe=!1,tt=!1,ee=!1,W=!1;const ve={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},le=I=>{const C=new URL(I,pn.$resourcesUrl$);return C.origin!==Ir.location.origin?C.href:C.pathname},Pe="s-id",Re="sty-id",Ze="slot-fb{display:contents}slot-fb[hidden]{display:none}",S="http://www.w3.org/1999/xlink",x={},te=I=>"object"==(I=typeof I)||"function"===I;function ue(I){var C,F,$;return null!==($=null===(F=null===(C=I.head)||void 0===C?void 0:C.querySelector('meta[name="csp-nonce"]'))||void 0===F?void 0:F.getAttribute("content"))&&void 0!==$?$:void 0}const qe=(I,C,...F)=>{let $=null,K=null,ae=null,pe=!1,je=!1;const Le=[],Oe=We=>{for(let St=0;St<We.length;St++)$=We[St],Array.isArray($)?Oe($):null!=$&&"boolean"!=typeof $&&((pe="function"!=typeof I&&!te($))&&($=String($)),pe&&je?Le[Le.length-1].$text$+=$:Le.push(pe?It(null,$):$),je=pe)};if(Oe(F),C){C.key&&(K=C.key),C.name&&(ae=C.name);{const We=C.className||C.class;We&&(C.class="object"!=typeof We?We:Object.keys(We).filter(St=>We[St]).join(" "))}}if("function"==typeof I)return I(null===C?{}:C,Le,O);const Se=It(I,null);return Se.$attrs$=C,Le.length>0&&(Se.$children$=Le),Se.$key$=K,Se.$name$=ae,Se},It=(I,C)=>({$flags$:0,$tag$:I,$text$:C,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Qt={},O={forEach:(I,C)=>I.map(T).forEach(C),map:(I,C)=>I.map(T).map(C).map(P)},T=I=>({vattrs:I.$attrs$,vchildren:I.$children$,vkey:I.$key$,vname:I.$name$,vtag:I.$tag$,vtext:I.$text$}),P=I=>{if("function"==typeof I.vtag){const F=Object.assign({},I.vattrs);return I.vkey&&(F.key=I.vkey),I.vname&&(F.name=I.vname),qe(I.vtag,F,...I.vchildren||[])}const C=It(I.vtag,I.vtext);return C.$attrs$=I.vattrs,C.$children$=I.vchildren,C.$key$=I.vkey,C.$name$=I.vname,C},ie=(I,C,F,$,K,ae,pe)=>{let je,Le,Oe,Se;if(1===ae.nodeType){for(je=ae.getAttribute("c-id"),je&&(Le=je.split("."),(Le[0]===pe||"0"===Le[0])&&(Oe={$flags$:0,$hostId$:Le[0],$nodeId$:Le[1],$depth$:Le[2],$index$:Le[3],$tag$:ae.tagName.toLowerCase(),$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},C.push(Oe),ae.removeAttribute("c-id"),I.$children$||(I.$children$=[]),I.$children$[Oe.$index$]=Oe,I=Oe,$&&"0"===Oe.$depth$&&($[Oe.$index$]=Oe.$elm$))),Se=ae.childNodes.length-1;Se>=0;Se--)ie(I,C,F,$,K,ae.childNodes[Se],pe);if(ae.shadowRoot)for(Se=ae.shadowRoot.childNodes.length-1;Se>=0;Se--)ie(I,C,F,$,K,ae.shadowRoot.childNodes[Se],pe)}else if(8===ae.nodeType)Le=ae.nodeValue.split("."),(Le[1]===pe||"0"===Le[1])&&(je=Le[0],Oe={$flags$:0,$hostId$:Le[1],$nodeId$:Le[2],$depth$:Le[3],$index$:Le[4],$elm$:ae,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===je?(Oe.$elm$=ae.nextSibling,Oe.$elm$&&3===Oe.$elm$.nodeType&&(Oe.$text$=Oe.$elm$.textContent,C.push(Oe),ae.remove(),I.$children$||(I.$children$=[]),I.$children$[Oe.$index$]=Oe,$&&"0"===Oe.$depth$&&($[Oe.$index$]=Oe.$elm$))):Oe.$hostId$===pe&&("s"===je?(Oe.$tag$="slot",ae["s-sn"]=Le[5]?Oe.$name$=Le[5]:"",ae["s-sr"]=!0,$&&(Oe.$elm$=Er.createElement(Oe.$tag$),Oe.$name$&&Oe.$elm$.setAttribute("name",Oe.$name$),ae.parentNode.insertBefore(Oe.$elm$,ae),ae.remove(),"0"===Oe.$depth$&&($[Oe.$index$]=Oe.$elm$)),F.push(Oe),I.$children$||(I.$children$=[]),I.$children$[Oe.$index$]=Oe):"r"===je&&($?ae.remove():(K["s-cr"]=ae,ae["s-cn"]=!0))));else if(I&&"style"===I.$tag$){const We=It(null,ae.textContent);We.$elm$=ae,We.$index$="0",I.$children$=[We]}},G=(I,C)=>{if(1===I.nodeType){let F=0;for(;F<I.childNodes.length;F++)G(I.childNodes[F],C);if(I.shadowRoot)for(F=0;F<I.shadowRoot.childNodes.length;F++)G(I.shadowRoot.childNodes[F],C)}else if(8===I.nodeType){const F=I.nodeValue.split(".");"o"===F[0]&&(C.set(F[1]+"."+F[2],I),I.nodeValue="",I["s-en"]=F[3])}},lt=I=>la.push(I),Je=I=>st(I).$modeName$,kt=I=>st(I).$hostElement$,ln=(I,C,F)=>{const $=kt(I);return{emit:K=>gt($,C,{bubbles:!!(4&F),composed:!!(2&F),cancelable:!!(1&F),detail:K})}},gt=(I,C,F)=>{const $=pn.ce(C,F);return I.dispatchEvent($),$},Ae=new WeakMap,se=(I,C,F)=>{let $=Ar.get(I);tl&&F?($=$||new CSSStyleSheet,"string"==typeof $?$=C:$.replaceSync(C)):$=C,Ar.set(I,$)},fe=(I,C,F)=>{var $;const K=Mt(C,F),ae=Ar.get(K);if(I=11===I.nodeType?I:Er,ae)if("string"==typeof ae){let je,pe=Ae.get(I=I.head||I);if(pe||Ae.set(I,pe=new Set),!pe.has(K)){if(I.host&&(je=I.querySelector(`[${Re}="${K}"]`)))je.innerHTML=ae;else{je=Er.createElement("style"),je.innerHTML=ae;const Le=null!==($=pn.$nonce$)&&void 0!==$?$:ue(Er);null!=Le&&je.setAttribute("nonce",Le),I.insertBefore(je,I.querySelector("link"))}4&C.$flags$&&(je.innerHTML+=Ze),pe&&pe.add(K)}}else I.adoptedStyleSheets.includes(ae)||(I.adoptedStyleSheets=[...I.adoptedStyleSheets,ae]);return K},Mt=(I,C)=>"sc-"+(C&&32&I.$flags$?I.$tagName$+"-"+C:I.$tagName$),In=I=>I.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Kt=(I,C,F,$,K,ae)=>{if(F!==$){let pe=$n(I,C),je=C.toLowerCase();if("class"===C){const Le=I.classList,Oe=Wt(F),Se=Wt($);Le.remove(...Oe.filter(We=>We&&!Se.includes(We))),Le.add(...Se.filter(We=>We&&!Oe.includes(We)))}else if("style"===C){for(const Le in F)(!$||null==$[Le])&&(Le.includes("-")?I.style.removeProperty(Le):I.style[Le]="");for(const Le in $)(!F||$[Le]!==F[Le])&&(Le.includes("-")?I.style.setProperty(Le,$[Le]):I.style[Le]=$[Le])}else if("key"!==C)if("ref"===C)$&&$(I);else if(pe||"o"!==C[0]||"n"!==C[1]){const Le=te($);if((pe||Le&&null!==$)&&!K)try{if(I.tagName.includes("-"))I[C]=$;else{const Se=null==$?"":$;"list"===C?pe=!1:(null==F||I[C]!=Se)&&(I[C]=Se)}}catch{}let Oe=!1;je!==(je=je.replace(/^xlink\:?/,""))&&(C=je,Oe=!0),null==$||!1===$?(!1!==$||""===I.getAttribute(C))&&(Oe?I.removeAttributeNS(S,C):I.removeAttribute(C)):(!pe||4&ae||K)&&!Le&&($=!0===$?"":$,Oe?I.setAttributeNS(S,C,$):I.setAttribute(C,$))}else if(C="-"===C[2]?C.slice(3):$n(Ir,je)?je.slice(2):je[2]+C.slice(3),F||$){const Le=C.endsWith(zn);C=C.replace(un,""),F&&pn.rel(I,C,F,Le),$&&pn.ael(I,C,$,Le)}}},Jt=/\s/,Wt=I=>I?I.split(Jt):[],zn="Capture",un=new RegExp(zn+"$"),hi=(I,C,F,$)=>{const K=11===C.$elm$.nodeType&&C.$elm$.host?C.$elm$.host:C.$elm$,ae=I&&I.$attrs$||x,pe=C.$attrs$||x;for($ in ae)$ in pe||Kt(K,$,ae[$],void 0,F,C.$flags$);for($ in pe)Kt(K,$,ae[$],pe[$],F,C.$flags$)},Qn=(I,C,F,$)=>{const K=C.$children$[F];let pe,je,Le,ae=0;if(Z||(tt=!0,"slot"===K.$tag$&&(Ue&&$.classList.add(Ue+"-s"),K.$flags$|=K.$children$?2:1)),null!==K.$text$)pe=K.$elm$=Er.createTextNode(K.$text$);else if(1&K.$flags$)pe=K.$elm$=Er.createTextNode("");else{if(ee||(ee="svg"===K.$tag$),pe=K.$elm$=Er.createElementNS(ee?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&K.$flags$?"slot-fb":K.$tag$),ee&&"foreignObject"===K.$tag$&&(ee=!1),hi(null,K,ee),(I=>null!=I)(Ue)&&pe["s-si"]!==Ue&&pe.classList.add(pe["s-si"]=Ue),K.$children$)for(ae=0;ae<K.$children$.length;++ae)je=Qn(I,K,ae,pe),je&&pe.appendChild(je);"svg"===K.$tag$?ee=!1:"foreignObject"===pe.tagName&&(ee=!0)}return pe["s-hn"]=Ke,3&K.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=At,pe["s-sn"]=K.$name$||"",Le=I&&I.$children$&&I.$children$[F],Le&&Le.$tag$===K.$tag$&&I.$elm$&&zr(I.$elm$,!1)),pe},zr=(I,C)=>{pn.$flags$|=1;const F=I.childNodes;for(let $=F.length-1;$>=0;$--){const K=F[$];K["s-hn"]!==Ke&&K["s-ol"]&&(pi(K).insertBefore(K,Fi(K)),K["s-ol"].remove(),K["s-ol"]=void 0,K["s-sh"]=void 0,tt=!0),C&&zr(K,C)}pn.$flags$&=-2},ri=(I,C,F,$,K,ae)=>{let je,pe=I["s-cr"]&&I["s-cr"].parentNode||I;for(pe.shadowRoot&&pe.tagName===Ke&&(pe=pe.shadowRoot);K<=ae;++K)$[K]&&(je=Qn(null,F,K,I),je&&($[K].$elm$=je,pe.insertBefore(je,Fi(C))))},Vr=(I,C,F)=>{for(let $=C;$<=F;++$){const K=I[$];if(K){const ae=K.$elm$;So(K),ae&&(Xe=!0,ae["s-ol"]?ae["s-ol"].remove():zr(ae,!0),ae.remove())}}},fi=(I,C,F=!1)=>I.$tag$===C.$tag$&&("slot"===I.$tag$?I.$name$===C.$name$:!!F||I.$key$===C.$key$),Fi=I=>I&&I["s-ol"]||I,pi=I=>(I["s-ol"]?I["s-ol"]:I).parentNode,Gr=(I,C,F=!1)=>{const $=C.$elm$=I.$elm$,K=I.$children$,ae=C.$children$,pe=C.$tag$,je=C.$text$;let Le;null===je?(ee="svg"===pe||"foreignObject"!==pe&&ee,"slot"===pe&&!Z||hi(I,C,ee),null!==K&&null!==ae?((I,C,F,$,K=!1)=>{let wr,Xn,ae=0,pe=0,je=0,Le=0,Oe=C.length-1,Se=C[0],We=C[Oe],St=$.length-1,en=$[0],xn=$[St];for(;ae<=Oe&&pe<=St;)if(null==Se)Se=C[++ae];else if(null==We)We=C[--Oe];else if(null==en)en=$[++pe];else if(null==xn)xn=$[--St];else if(fi(Se,en,K))Gr(Se,en,K),Se=C[++ae],en=$[++pe];else if(fi(We,xn,K))Gr(We,xn,K),We=C[--Oe],xn=$[--St];else if(fi(Se,xn,K))("slot"===Se.$tag$||"slot"===xn.$tag$)&&zr(Se.$elm$.parentNode,!1),Gr(Se,xn,K),I.insertBefore(Se.$elm$,We.$elm$.nextSibling),Se=C[++ae],xn=$[--St];else if(fi(We,en,K))("slot"===Se.$tag$||"slot"===xn.$tag$)&&zr(We.$elm$.parentNode,!1),Gr(We,en,K),I.insertBefore(We.$elm$,Se.$elm$),We=C[--Oe],en=$[++pe];else{for(je=-1,Le=ae;Le<=Oe;++Le)if(C[Le]&&null!==C[Le].$key$&&C[Le].$key$===en.$key$){je=Le;break}je>=0?(Xn=C[je],Xn.$tag$!==en.$tag$?wr=Qn(C&&C[pe],F,je,I):(Gr(Xn,en,K),C[je]=void 0,wr=Xn.$elm$),en=$[++pe]):(wr=Qn(C&&C[pe],F,pe,I),en=$[++pe]),wr&&pi(Se.$elm$).insertBefore(wr,Fi(Se.$elm$))}ae>Oe?ri(I,null==$[St+1]?null:$[St+1].$elm$,F,$,pe,St):pe>St&&Vr(C,ae,Oe)})($,K,C,ae,F):null!==ae?(null!==I.$text$&&($.textContent=""),ri($,null,C,ae,0,ae.length-1)):null!==K&&Vr(K,0,K.length-1),ee&&"svg"===pe&&(ee=!1)):(Le=$["s-cr"])?Le.parentNode.textContent=je:I.$text$!==je&&($.data=je)},qr=I=>{const C=I.childNodes;for(const F of C)if(1===F.nodeType){if(F["s-sr"]){const $=F["s-sn"];F.hidden=!1;for(const K of C)if(K!==F)if(K["s-hn"]!==F["s-hn"]||""!==$){if(1===K.nodeType&&($===K.getAttribute("slot")||$===K["s-sn"])){F.hidden=!0;break}}else if(1===K.nodeType||3===K.nodeType&&""!==K.textContent.trim()){F.hidden=!0;break}}qr(F)}},Pn=[],Li=I=>{let C,F,$;for(const K of I.childNodes){if(K["s-sr"]&&(C=K["s-cr"])&&C.parentNode){F=C.parentNode.childNodes;const ae=K["s-sn"];for($=F.length-1;$>=0;$--)if(C=F[$],!C["s-cn"]&&!C["s-nr"]&&C["s-hn"]!==K["s-hn"])if(jo(C,ae)){let pe=Pn.find(je=>je.$nodeToRelocate$===C);Xe=!0,C["s-sn"]=C["s-sn"]||ae,pe?(pe.$nodeToRelocate$["s-sh"]=K["s-hn"],pe.$slotRefNode$=K):(C["s-sh"]=K["s-hn"],Pn.push({$slotRefNode$:K,$nodeToRelocate$:C})),C["s-sr"]&&Pn.map(je=>{jo(je.$nodeToRelocate$,C["s-sn"])&&(pe=Pn.find(Le=>Le.$nodeToRelocate$===C),pe&&!je.$slotRefNode$&&(je.$slotRefNode$=pe.$slotRefNode$))})}else Pn.some(pe=>pe.$nodeToRelocate$===C)||Pn.push({$nodeToRelocate$:C})}1===K.nodeType&&Li(K)}},jo=(I,C)=>1===I.nodeType?null===I.getAttribute("slot")&&""===C||I.getAttribute("slot")===C:I["s-sn"]===C||""===C,So=I=>{I.$attrs$&&I.$attrs$.ref&&I.$attrs$.ref(null),I.$children$&&I.$children$.map(So)},gi=(I,C)=>{C&&!I.$onRenderResolve$&&C["s-p"]&&C["s-p"].push(new Promise(F=>I.$onRenderResolve$=F))},ur=(I,C)=>{if(I.$flags$|=16,!(4&I.$flags$))return gi(I,I.$ancestorComponent$),ce(()=>mo(I,C));I.$flags$|=512},mo=(I,C)=>{const $=I.$lazyInstance$;let K;return C&&(I.$flags$|=256,I.$queuedListeners$&&(I.$queuedListeners$.map(([ae,pe])=>ye($,ae,pe)),I.$queuedListeners$=void 0),K=ye($,"componentWillLoad")),K=_o(K,()=>ye($,"componentWillRender")),_o(K,()=>zo(I,$,C))},_o=(I,C)=>Sn(I)?I.then(C):C(),Sn=I=>I instanceof Promise||I&&I.then&&"function"==typeof I.then,zo=function(){var I=(0,y.c)(function*(C,F,$){var K;const ae=C.$hostElement$,je=ae["s-rc"];$&&(I=>{const C=I.$cmpMeta$,F=I.$hostElement$,$=C.$flags$,ae=fe(F.shadowRoot?F.shadowRoot:F.getRootNode(),C,I.$modeName$);10&$&&(F["s-sc"]=ae,F.classList.add(ae+"-h"),2&$&&F.classList.add(ae+"-s"))})(C);cs(C,F,ae,$),je&&(je.map(Oe=>Oe()),ae["s-rc"]=void 0);{const Oe=null!==(K=ae["s-p"])&&void 0!==K?K:[],Se=()=>k(C);0===Oe.length?Se():(Promise.all(Oe).then(Se),C.$flags$|=4,Oe.length=0)}});return function(F,$,K){return I.apply(this,arguments)}}(),cs=(I,C,F,$)=>{try{C=C.render&&C.render(),I.$flags$&=-17,I.$flags$|=2,((I,C,F=!1)=>{var $,K,ae,pe;const je=I.$hostElement$,Le=I.$cmpMeta$,Oe=I.$vnode$||It(null,null),Se=(I=>I&&I.$tag$===Qt)(C)?C:qe(null,null,C);if(Ke=je.tagName,Le.$attrsToReflect$&&(Se.$attrs$=Se.$attrs$||{},Le.$attrsToReflect$.map(([We,St])=>Se.$attrs$[St]=je[We])),F&&Se.$attrs$)for(const We of Object.keys(Se.$attrs$))je.hasAttribute(We)&&!["key","ref","style","class"].includes(We)&&(Se.$attrs$[We]=je[We]);if(Se.$tag$=null,Se.$flags$|=4,I.$vnode$=Se,Se.$elm$=Oe.$elm$=je.shadowRoot||je,Ue=je["s-sc"],Z=0!=(1&Le.$flags$),At=je["s-cr"],Xe=!1,Gr(Oe,Se,F),pn.$flags$|=1,tt){Li(Se.$elm$);for(const We of Pn){const St=We.$nodeToRelocate$;if(!St["s-ol"]){const en=Er.createTextNode("");en["s-nr"]=St,St.parentNode.insertBefore(St["s-ol"]=en,St)}}for(const We of Pn){const St=We.$nodeToRelocate$,en=We.$slotRefNode$;if(en){const xn=en.parentNode;let wr=en.nextSibling;{let Xn=null===($=St["s-ol"])||void 0===$?void 0:$.previousSibling;for(;Xn;){let Gn=null!==(K=Xn["s-nr"])&&void 0!==K?K:null;if(Gn&&Gn["s-sn"]===St["s-sn"]&&xn===Gn.parentNode&&(Gn=Gn.nextSibling,!Gn||!Gn["s-nr"])){wr=Gn;break}Xn=Xn.previousSibling}}(!wr&&xn!==St.parentNode||St.nextSibling!==wr)&&St!==wr&&(!St["s-hn"]&&St["s-ol"]&&(St["s-hn"]=St["s-ol"].parentNode.nodeName),xn.insertBefore(St,wr),1===St.nodeType&&(St.hidden=null!==(ae=St["s-ih"])&&void 0!==ae&&ae))}else 1===St.nodeType&&(F&&(St["s-ih"]=null!==(pe=St.hidden)&&void 0!==pe&&pe),St.hidden=!0)}}Xe&&qr(Se.$elm$),pn.$flags$&=-2,Pn.length=0,At=void 0})(I,C,$)}catch(K){yr(K,I.$hostElement$)}return null},k=I=>{const F=I.$hostElement$,K=I.$lazyInstance$,ae=I.$ancestorComponent$;ye(K,"componentDidRender"),64&I.$flags$?ye(K,"componentDidUpdate"):(I.$flags$|=64,q(F),ye(K,"componentDidLoad"),I.$onReadyResolve$(F),ae||L()),I.$onInstanceResolve$(F),I.$onRenderResolve$&&(I.$onRenderResolve$(),I.$onRenderResolve$=void 0),512&I.$flags$&&Yr(()=>ur(I,!1)),I.$flags$&=-517},M=I=>{{const C=st(I),F=C.$hostElement$.isConnected;return F&&2==(18&C.$flags$)&&ur(C,!1),F}},L=I=>{q(Er.documentElement),Yr(()=>gt(Ir,"appload",{detail:{namespace:"ionic"}}))},ye=(I,C,F)=>{if(I&&I[C])try{return I[C](F)}catch($){yr($)}},q=I=>I.classList.add("hydrated"),xt=(I,C,F)=>{var $;const K=I.prototype;if(C.$members$){I.watchers&&(C.$watchers$=I.watchers);const ae=Object.entries(C.$members$);if(ae.map(([pe,[je]])=>{31&je||2&F&&32&je?Object.defineProperty(K,pe,{get(){return((I,C)=>st(this).$instanceValues$.get(C))(0,pe)},set(Le){((I,C,F,$)=>{const K=st(I),ae=K.$hostElement$,pe=K.$instanceValues$.get(C),je=K.$flags$,Le=K.$lazyInstance$;F=((I,C)=>null==I||te(I)?I:4&C?"false"!==I&&(""===I||!!I):2&C?parseFloat(I):1&C?String(I):I)(F,$.$members$[C][0]);const Oe=Number.isNaN(pe)&&Number.isNaN(F);if((!(8&je)||void 0===pe)&&F!==pe&&!Oe&&(K.$instanceValues$.set(C,F),Le)){if($.$watchers$&&128&je){const We=$.$watchers$[C];We&&We.map(St=>{try{Le[St](F,pe,C)}catch(en){yr(en,ae)}})}2==(18&je)&&ur(K,!1)}})(this,pe,Le,C)},configurable:!0,enumerable:!0}):1&F&&64&je&&Object.defineProperty(K,pe,{value(...Le){var Oe;const Se=st(this);return null===(Oe=null==Se?void 0:Se.$onInstancePromise$)||void 0===Oe?void 0:Oe.then(()=>{var We;return null===(We=Se.$lazyInstance$)||void 0===We?void 0:We[pe](...Le)})}})}),1&F){const pe=new Map;K.attributeChangedCallback=function(je,Le,Oe){pn.jmp(()=>{var Se;const We=pe.get(je);if(this.hasOwnProperty(We))Oe=this[We],delete this[We];else{if(K.hasOwnProperty(We)&&"number"==typeof this[We]&&this[We]==Oe)return;if(null==We){const St=st(this),en=null==St?void 0:St.$flags$;if(en&&!(8&en)&&128&en&&Oe!==Le){const xn=St.$lazyInstance$,wr=null===(Se=C.$watchers$)||void 0===Se?void 0:Se[je];null==wr||wr.forEach(Xn=>{null!=xn[Xn]&&xn[Xn].call(xn,Oe,Le,je)})}return}}this[We]=(null!==Oe||"boolean"!=typeof this[We])&&Oe})},I.observedAttributes=Array.from(new Set([...Object.keys(null!==($=C.$watchers$)&&void 0!==$?$:{}),...ae.filter(([je,Le])=>15&Le[0]).map(([je,Le])=>{var Oe;const Se=Le[1]||je;return pe.set(Se,je),512&Le[0]&&(null===(Oe=C.$attrsToReflect$)||void 0===Oe||Oe.push([je,Se])),Se})]))}}return I},Wr=function(){var I=(0,y.c)(function*(C,F,$,K){let ae;if(!(32&F.$flags$)){F.$flags$|=32;{if(ae=rr($),ae.then){const Oe=()=>{};ae=yield ae,Oe()}ae.isProxied||($.$watchers$=ae.watchers,xt(ae,$,2),ae.isProxied=!0);const Le=()=>{};F.$flags$|=8;try{new ae(F)}catch(Oe){yr(Oe)}F.$flags$&=-9,F.$flags$|=128,Le(),wt(F.$lazyInstance$)}if(ae.style){let Le=ae.style;"string"!=typeof Le&&(Le=Le[F.$modeName$=(I=>la.map(C=>C(I)).find(C=>!!C))(C)]);const Oe=Mt($,F.$modeName$);if(!Ar.has(Oe)){const Se=()=>{};se(Oe,Le,!!(1&$.$flags$)),Se()}}}const pe=F.$ancestorComponent$,je=()=>ur(F,!0);pe&&pe["s-rc"]?pe["s-rc"].push(je):je()});return function(F,$,K,ae){return I.apply(this,arguments)}}(),wt=I=>{ye(I,"connectedCallback")},Xt=I=>{const C=I["s-cr"]=Er.createComment("");C["s-cn"]=!0,I.insertBefore(C,I.firstChild)},Ce=I=>{ye(I,"disconnectedCallback")},Kr=function(){var I=(0,y.c)(function*(C){if(!(1&pn.$flags$)){const F=st(C);F.$rmListeners$&&(F.$rmListeners$.map($=>$()),F.$rmListeners$=void 0),null!=F&&F.$lazyInstance$?Ce(F.$lazyInstance$):null!=F&&F.$onReadyPromise$&&F.$onReadyPromise$.then(()=>Ce(F.$lazyInstance$))}});return function(F){return I.apply(this,arguments)}}(),Di=(I,C={})=>{var F;const K=[],ae=C.exclude||[],pe=Ir.customElements,je=Er.head,Le=je.querySelector("meta[charset]"),Oe=Er.createElement("style"),Se=[],We=Er.querySelectorAll(`[${Re}]`);let St,en=!0,xn=0;for(Object.assign(pn,C),pn.$resourcesUrl$=new URL(C.resourcesUrl||"./",Er.baseURI).href,pn.$flags$|=2;xn<We.length;xn++)se(We[xn].getAttribute(Re),In(We[xn].innerHTML),!0);let wr=!1;if(I.map(Xn=>{Xn[1].map(Gn=>{var Ro;const Vi={$flags$:Gn[0],$tagName$:Gn[1],$members$:Gn[2],$listeners$:Gn[3]};4&Vi.$flags$&&(wr=!0),Vi.$members$=Gn[2],Vi.$listeners$=Gn[3],Vi.$attrsToReflect$=[],Vi.$watchers$=null!==(Ro=Gn[4])&&void 0!==Ro?Ro:{};const Cn=Vi.$tagName$,Ju=class extends HTMLElement{constructor(Wo){super(Wo),vr(Wo=this,Vi),1&Vi.$flags$&&Wo.attachShadow({mode:"open",delegatesFocus:!!(16&Vi.$flags$)})}connectedCallback(){St&&(clearTimeout(St),St=null),en?Se.push(this):pn.jmp(()=>(I=>{if(!(1&pn.$flags$)){const C=st(I),F=C.$cmpMeta$,$=()=>{};if(1&C.$flags$)Go(I,C,F.$listeners$),null!=C&&C.$lazyInstance$?wt(C.$lazyInstance$):null!=C&&C.$onReadyPromise$&&C.$onReadyPromise$.then(()=>wt(C.$lazyInstance$));else{let K;if(C.$flags$|=1,K=I.getAttribute(Pe),K){if(1&F.$flags$){const ae=fe(I.shadowRoot,F,I.getAttribute("s-mode"));I.classList.remove(ae+"-h",ae+"-s")}((I,C,F,$)=>{const ae=I.shadowRoot,pe=[],Le=ae?[]:null,Oe=$.$vnode$=It(C,null);pn.$orgLocNodes$||G(Er.body,pn.$orgLocNodes$=new Map),I[Pe]=F,I.removeAttribute(Pe),ie(Oe,pe,[],Le,I,I,F),pe.map(Se=>{const We=Se.$hostId$+"."+Se.$nodeId$,St=pn.$orgLocNodes$.get(We),en=Se.$elm$;St&&Zi&&""===St["s-en"]&&St.parentNode.insertBefore(en,St.nextSibling),ae||(en["s-hn"]=C,St&&(en["s-ol"]=St,en["s-ol"]["s-nr"]=en)),pn.$orgLocNodes$.delete(We)}),ae&&Le.map(Se=>{Se&&ae.appendChild(Se)})})(I,F.$tagName$,K,C)}K||12&F.$flags$&&Xt(I);{let ae=I;for(;ae=ae.parentNode||ae.host;)if(1===ae.nodeType&&ae.hasAttribute("s-id")&&ae["s-p"]||ae["s-p"]){gi(C,C.$ancestorComponent$=ae);break}}F.$members$&&Object.entries(F.$members$).map(([ae,[pe]])=>{if(31&pe&&I.hasOwnProperty(ae)){const je=I[ae];delete I[ae],I[ae]=je}}),Wr(I,C,F)}$()}})(this))}disconnectedCallback(){pn.jmp(()=>Kr(this))}componentOnReady(){return st(this).$onReadyPromise$}};Vi.$lazyBundleId$=Xn[0],!ae.includes(Cn)&&!pe.get(Cn)&&(K.push(Cn),pe.define(Cn,xt(Ju,Vi,1)))})}),K.length>0&&(wr&&(Oe.innerHTML+=Ze),Oe.innerHTML+=K+"{visibility:hidden}.hydrated{visibility:inherit}",Oe.innerHTML.length)){Oe.setAttribute("data-styles","");const Xn=null!==(F=pn.$nonce$)&&void 0!==F?F:ue(Er);null!=Xn&&Oe.setAttribute("nonce",Xn),je.insertBefore(Oe,Le?Le.nextSibling:je.firstChild)}en=!1,Se.length?Se.map(Xn=>Xn.connectedCallback()):pn.jmp(()=>St=setTimeout(L,30))},Go=(I,C,F,$)=>{F&&F.map(([K,ae,pe])=>{const je=re(I,K),Le=_e(C,pe),Oe=Ne(K);pn.ael(je,ae,Le,Oe),(C.$rmListeners$=C.$rmListeners$||[]).push(()=>pn.rel(je,ae,Le,Oe))})},_e=(I,C)=>F=>{try{256&I.$flags$?I.$lazyInstance$[C](F):(I.$queuedListeners$=I.$queuedListeners$||[]).push([C,F])}catch($){yr($)}},re=(I,C)=>4&C?Er:8&C?Ir:16&C?Er.body:I,Ne=I=>qo?{passive:0!=(1&I),capture:0!=(2&I)}:0!=(2&I),$t=new WeakMap,st=I=>$t.get(I),hn=(I,C)=>$t.set(C.$lazyInstance$=I,C),vr=(I,C)=>{const F={$flags$:0,$hostElement$:I,$cmpMeta$:C,$instanceValues$:new Map};return F.$onInstancePromise$=new Promise($=>F.$onInstanceResolve$=$),F.$onReadyPromise$=new Promise($=>F.$onReadyResolve$=$),I["s-p"]=[],I["s-rc"]=[],Go(I,F,C.$listeners$),$t.set(I,F)},$n=(I,C)=>C in I,yr=(I,C)=>(0,console.error)(I,C),jt=new Map,rr=(I,C,F)=>{const $=I.$tagName$.replace(/-/g,"_"),K=I.$lazyBundleId$,ae=jt.get(K);return ae?ae[$]:oe(1480)(`./${K}.entry.js`).then(pe=>(jt.set(K,pe),pe[$]),yr)},Ar=new Map,la=[],Ir=typeof window<"u"?window:{},Er=Ir.document||{head:{}},pn={$flags$:0,$resourcesUrl$:"",jmp:I=>I(),raf:I=>requestAnimationFrame(I),ael:(I,C,F,$)=>I.addEventListener(C,F,$),rel:(I,C,F,$)=>I.removeEventListener(C,F,$),ce:(I,C)=>new CustomEvent(I,C)},Vn=I=>{Object.assign(pn,I)},Zi=!0,qo=(()=>{let I=!1;try{Er.addEventListener("e",null,Object.defineProperty({},"passive",{get(){I=!0}}))}catch{}return I})(),tl=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),nl=[],rl=[],il=(I,C)=>F=>{I.push(F),W||(W=!0,C&&4&pn.$flags$?Yr(ua):pn.raf(ua))},ca=I=>{for(let C=0;C<I.length;C++)try{I[C](performance.now())}catch(F){yr(F)}I.length=0},ua=()=>{ca(nl),ca(rl),(W=nl.length>0)&&pn.raf(ua)},Yr=I=>Promise.resolve(void 0).then(I),Ut=il(nl,!1),ce=il(rl,!0)},2032:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{a:()=>xe,b:()=>B,p:()=>y});const y=(Ue,...At)=>console.warn(`[Ionic Warning]: ${Ue}`,...At),xe=(Ue,...At)=>console.error(`[Ionic Error]: ${Ue}`,...At),B=(Ue,...At)=>console.error(`<${Ue.tagName.toLowerCase()}> must be used inside ${At.join(" or ")}.`)},4829:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{d:()=>xe,w:()=>y});const y=typeof window<"u"?window:void 0,xe=typeof document<"u"?document:void 0},3452:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{m:()=>le});var y=oe(1528),xe=oe(4829),B=oe(2784),Ue=oe(2032),At=oe(6384),Ke=oe(8523),Z=oe(388);const Xe=me=>(0,Z.c)().duration(me?400:300),tt=me=>{let Ie,be;const Q=me.width+8,z=(0,Z.c)(),Y=(0,Z.c)();me.isEndSide?(Ie=Q+"px",be="0px"):(Ie=-Q+"px",be="0px"),z.addElement(me.menuInnerEl).fromTo("transform",`translateX(${Ie})`,`translateX(${be})`);const Re="ios"===(0,Ke.b)(me),Ve=Re?.2:.25;return Y.addElement(me.backdropEl).fromTo("opacity",.01,Ve),Xe(Re).addAnimation([z,Y])},ee=me=>{let Ie,be;const Q=(0,Ke.b)(me),z=me.width;me.isEndSide?(Ie=-z+"px",be=z+"px"):(Ie=z+"px",be=-z+"px");const Y=(0,Z.c)().addElement(me.menuInnerEl).fromTo("transform",`translateX(${be})`,"translateX(0px)"),Pe=(0,Z.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`),Re=(0,Z.c)().addElement(me.backdropEl).fromTo("opacity",.01,.32);return Xe("ios"===Q).addAnimation([Y,Pe,Re])},W=me=>{const Ie=(0,Ke.b)(me),be=me.width*(me.isEndSide?-1:1)+"px",Q=(0,Z.c)().addElement(me.contentEl).fromTo("transform","translateX(0px)",`translateX(${be})`);return Xe("ios"===Ie).addAnimation(Q)},le=(()=>{const me=new Map,Ie=[],be=function(){var T=(0,y.c)(function*(P){const j=yield Me(P,!0);return!!j&&j.open()});return function(j){return T.apply(this,arguments)}}(),Q=function(){var T=(0,y.c)(function*(P){const j=yield void 0!==P?Me(P,!0):Ze();return void 0!==j&&j.close()});return function(j){return T.apply(this,arguments)}}(),z=function(){var T=(0,y.c)(function*(P){const j=yield Me(P,!0);return!!j&&j.toggle()});return function(j){return T.apply(this,arguments)}}(),Y=function(){var T=(0,y.c)(function*(P,j){const ie=yield Me(j);return ie&&(ie.disabled=!P),ie});return function(j,ie){return T.apply(this,arguments)}}(),Pe=function(){var T=(0,y.c)(function*(P,j){const ie=yield Me(j);return ie&&(ie.swipeGesture=P),ie});return function(j,ie){return T.apply(this,arguments)}}(),Re=function(){var T=(0,y.c)(function*(P){if(null!=P){const j=yield Me(P);return void 0!==j&&j.isOpen()}return void 0!==(yield Ze())});return function(j){return T.apply(this,arguments)}}(),Ve=function(){var T=(0,y.c)(function*(P){const j=yield Me(P);return!!j&&!j.disabled});return function(j){return T.apply(this,arguments)}}(),Me=function(){var T=(0,y.c)(function*(P,j=!1){if(yield O(),"start"===P||"end"===P){const G=Ie.filter(lt=>lt.side===P&&!lt.disabled);if(G.length>=1)return G.length>1&&j&&(0,Ue.p)(`menuController queried for a menu on the "${P}" side, but ${G.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,G.map(lt=>lt.el)),G[0].el;const He=Ie.filter(lt=>lt.side===P);if(He.length>=1)return He.length>1&&j&&(0,Ue.p)(`menuController queried for a menu on the "${P}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(lt=>lt.el)),He[0].el}else if(null!=P)return Ee(G=>G.menuId===P);return Ee(G=>!G.disabled)||(Ie.length>0?Ie[0].el:void 0)});return function(j){return T.apply(this,arguments)}}(),Ze=function(){var T=(0,y.c)(function*(){return yield O(),qe()});return function(){return T.apply(this,arguments)}}(),S=function(){var T=(0,y.c)(function*(){return yield O(),It()});return function(){return T.apply(this,arguments)}}(),x=function(){var T=(0,y.c)(function*(){return yield O(),Qt()});return function(){return T.apply(this,arguments)}}(),D=(T,P)=>{me.set(T,P)},te=function(){var T=(0,y.c)(function*(P,j,ie){if(Qt())return!1;if(j){const G=yield Ze();G&&P.el!==G&&(yield G.setOpen(!1,!1))}return P._setOpen(j,ie)});return function(j,ie,G){return T.apply(this,arguments)}}(),qe=()=>Ee(T=>T._isOpen),It=()=>Ie.map(T=>T.el),Qt=()=>Ie.some(T=>T.isAnimating),Ee=T=>{const P=Ie.find(T);if(void 0!==P)return P.el},O=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(T=>new Promise(P=>(0,At.c)(T,P))));return D("reveal",W),D("push",ee),D("overlay",tt),null==xe.d||xe.d.addEventListener("ionBackButton",T=>{const P=qe();P&&T.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>P.close())}),{registerAnimation:D,get:Me,getMenus:S,getOpen:Ze,isEnabled:Ve,swipeGesture:Pe,isAnimating:x,isOpen:Re,enable:Y,toggle:z,close:Q,open:be,_getOpenSync:qe,_createAnimation:(T,P)=>{const j=me.get(T);if(!j)throw new Error("animation not registered");return j(P)},_register:T=>{Ie.indexOf(T)<0&&Ie.push(T)},_unregister:T=>{const P=Ie.indexOf(T);P>-1&&Ie.splice(P,1)},_setOpen:te}})()},8523:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{a:()=>W,b:()=>It,c:()=>B,i:()=>Qt});var y=oe(2992);class xe{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,T){const P=this.m.get(O);return void 0!==P?P:T}getBoolean(O,T=!1){const P=this.m.get(O);return void 0===P?T:"string"==typeof P?"true"===P:!!P}getNumber(O,T){const P=parseFloat(this.m.get(O));return isNaN(P)?void 0!==T?T:NaN:P}set(O,T){this.m.set(O,T)}}const B=new xe,tt="ionic-persist-config",W=(Ee,O)=>("string"==typeof Ee&&(O=Ee,Ee=void 0),(Ee=>ve(Ee))(Ee).includes(O)),ve=(Ee=window)=>{if(typeof Ee>"u")return[];Ee.Ionic=Ee.Ionic||{};let O=Ee.Ionic.platforms;return null==O&&(O=Ee.Ionic.platforms=le(Ee),O.forEach(T=>Ee.document.documentElement.classList.add(`plt-${T}`))),O},le=Ee=>{const O=B.get("platform");return Object.keys(ue).filter(T=>{const P=null==O?void 0:O[T];return"function"==typeof P?P(Ee):ue[T](Ee)})},Ie=Ee=>!!(X(Ee,/iPad/i)||X(Ee,/Macintosh/i)&&Ve(Ee)),z=Ee=>X(Ee,/android|sink/i),Ve=Ee=>te(Ee,"(any-pointer:coarse)"),Ze=Ee=>S(Ee)||x(Ee),S=Ee=>!!(Ee.cordova||Ee.phonegap||Ee.PhoneGap),x=Ee=>{const O=Ee.Capacitor;return!(null==O||!O.isNative)},X=(Ee,O)=>O.test(Ee.navigator.userAgent),te=(Ee,O)=>{var T;return null===(T=Ee.matchMedia)||void 0===T?void 0:T.call(Ee,O).matches},ue={ipad:Ie,iphone:Ee=>X(Ee,/iPhone/i),ios:Ee=>X(Ee,/iPhone|iPod/i)||Ie(Ee),android:z,phablet:Ee=>{const O=Ee.innerWidth,T=Ee.innerHeight,P=Math.min(O,T),j=Math.max(O,T);return P>390&&P<520&&j>620&&j<800},tablet:Ee=>{const O=Ee.innerWidth,T=Ee.innerHeight,P=Math.min(O,T),j=Math.max(O,T);return Ie(Ee)||(Ee=>z(Ee)&&!X(Ee,/mobile/i))(Ee)||P>460&&P<820&&j>780&&j<1400},cordova:S,capacitor:x,electron:Ee=>X(Ee,/electron/i),pwa:Ee=>{var O;return!!(null!==(O=Ee.matchMedia)&&void 0!==O&&O.call(Ee,"(display-mode: standalone)").matches||Ee.navigator.standalone)},mobile:Ve,mobileweb:Ee=>Ve(Ee)&&!Ze(Ee),desktop:Ee=>!Ve(Ee),hybrid:Ze};let qe;const It=Ee=>Ee&&(0,y.g)(Ee)||qe,Qt=(Ee={})=>{if(typeof window>"u")return;const O=window.document,T=window,P=T.Ionic=T.Ionic||{},j={};Ee._ael&&(j.ael=Ee._ael),Ee._rel&&(j.rel=Ee._rel),Ee._ce&&(j.ce=Ee._ce),(0,y.a)(j);const ie=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ee=>{try{const O=Ee.sessionStorage.getItem(tt);return null!==O?JSON.parse(O):{}}catch{return{}}})(T)),{persistConfig:!1}),P.config),(Ee=>{const O={};return Ee.location.search.slice(1).split("&").map(T=>T.split("=")).map(([T,P])=>[decodeURIComponent(T),decodeURIComponent(P)]).filter(([T])=>((Ee,O)=>Ee.substr(0,O.length)===O)(T,"ionic:")).map(([T,P])=>[T.slice(6),P]).forEach(([T,P])=>{O[T]=P}),O})(T)),Ee);B.reset(ie),B.getBoolean("persistConfig")&&((Ee,O)=>{try{Ee.sessionStorage.setItem(tt,JSON.stringify(O))}catch{return}})(T,ie),ve(T),P.config=B,P.mode=qe=B.get("mode",O.documentElement.getAttribute("mode")||(W(T,"ios")?"ios":"md")),B.set("mode",qe),O.documentElement.setAttribute("mode",qe),O.documentElement.classList.add(qe),B.getBoolean("_testing")&&B.set("animated",!1);const G=lt=>{var Je;return null===(Je=lt.tagName)||void 0===Je?void 0:Je.startsWith("ION-")},He=lt=>["ios","md"].includes(lt);(0,y.c)(lt=>{for(;lt;){const Je=lt.mode||lt.getAttribute("mode");if(Je){if(He(Je))return Je;G(lt)&&console.warn('Invalid ionic mode: "'+Je+'", expected: "ios" or "md"')}lt=lt.parentElement}return qe})}},8512:(Mn,Ot,oe)=>{"use strict";oe.r(Ot),oe.d(Ot,{iosTransitionAnimation:()=>le,shadow:()=>Z});var y=oe(388),xe=oe(6256);oe(4829),oe(2992);const Ke=Ie=>document.querySelector(`${Ie}.ion-cloned-element`),Z=Ie=>Ie.shadowRoot||Ie,Xe=Ie=>{const be="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const z=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=z?z.querySelector(Q):null}return Ie.querySelector(Q)},tt=(Ie,be)=>{const Q="ION-TABS"===Ie.tagName?Ie:Ie.querySelector("ion-tabs");let z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(z=Y.querySelectorAll("ion-buttons"))}else z=Ie.querySelectorAll("ion-buttons");for(const Y of z){const Pe=Y.closest("ion-header"),Re=Pe&&!Pe.classList.contains("header-collapse-condense-inactive"),Ve=Y.querySelector("ion-back-button"),Me=Y.classList.contains("buttons-collapse");if(null!==Ve&&("start"===Y.slot||""===Y.slot)&&(Me&&Re&&be||!Me))return Ve}return null},W=(Ie,be,Q,z,Y,Pe,Re,Ve,Me)=>{var Ze,S;const x=be?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",D=be?"right":"left",V=be?"left":"right",X=be?"right":"left",te=(null===(Ze=Pe.textContent)||void 0===Ze?void 0:Ze.trim())===(null===(S=Ve.textContent)||void 0===S?void 0:S.trim()),qe=(Me.height-me)/Re.height,It=te?`scale(${Me.width/Re.width}, ${qe})`:`scale(${qe})`,Qt="scale(1)",O=Z(z).querySelector("ion-icon").getBoundingClientRect(),T=be?O.width/2-(O.right-Y.right)+"px":Y.left-O.width/2+"px",P=be?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,j=`${Me.top}px`,ie=`${Y.top}px`,lt=Q?[{offset:0,transform:`translate3d(${P}, ${ie}, 0)`},{offset:1,transform:`translate3d(${T}, ${j}, 0)`}]:[{offset:0,transform:`translate3d(${T}, ${j}, 0)`},{offset:1,transform:`translate3d(${P}, ${ie}, 0)`}],kt=Q?[{offset:0,opacity:1,transform:Qt},{offset:1,opacity:0,transform:It}]:[{offset:0,opacity:0,transform:It},{offset:1,opacity:1,transform:Qt}],Ae=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],se=(0,y.c)(),fe=(0,y.c)(),ze=(0,y.c)(),Mt=Ke("ion-back-button"),In=Z(Mt).querySelector(".button-text"),Kt=Z(Mt).querySelector("ion-icon");Mt.text=z.text,Mt.mode=z.mode,Mt.icon=z.icon,Mt.color=z.color,Mt.disabled=z.disabled,Mt.style.setProperty("display","block"),Mt.style.setProperty("position","fixed"),fe.addElement(Kt),se.addElement(In),ze.addElement(Mt),ze.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(lt),se.beforeStyles({"transform-origin":`${D} top`}).beforeAddWrite(()=>{z.style.setProperty("display","none"),Mt.style.setProperty(D,x)}).afterAddWrite(()=>{z.style.setProperty("display",""),Mt.style.setProperty("display","none"),Mt.style.removeProperty(D)}).keyframes(kt),fe.beforeStyles({"transform-origin":`${V} center`}).keyframes(Ae),Ie.addAnimation([se,fe,ze])},ve=(Ie,be,Q,z,Y,Pe,Re,Ve)=>{var Me,Ze;const S=be?"right":"left",x=be?`calc(100% - ${Y.right}px)`:`${Y.left}px`,V=`${Y.top}px`,te=be?`-${window.innerWidth-Ve.right-8}px`:Ve.x-8+"px",qe=Ve.y-2+"px",It=(null===(Me=Re.textContent)||void 0===Me?void 0:Me.trim())===(null===(Ze=z.textContent)||void 0===Ze?void 0:Ze.trim()),Ee=Ve.height/(Pe.height-me),O="scale(1)",T=It?`scale(${Ve.width/Pe.width}, ${Ee})`:`scale(${Ee})`,ie=Q?[{offset:0,opacity:0,transform:`translate3d(${te}, ${qe}, 0) ${T}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${V}, 0) ${O}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${V}, 0) ${O}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${te}, ${qe}, 0) ${T}`}],G=Ke("ion-title"),He=(0,y.c)();G.innerText=z.innerText,G.size=z.size,G.color=z.color,He.addElement(G),He.beforeStyles({"transform-origin":`${S} top`,height:`${Y.height}px`,display:"",position:"relative",[S]:x}).beforeAddWrite(()=>{z.style.setProperty("opacity","0")}).afterAddWrite(()=>{z.style.setProperty("opacity",""),G.style.setProperty("display","none")}).keyframes(ie),Ie.addAnimation(He)},le=(Ie,be)=>{var Q;try{const z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",Pe="transform",Re="0%",Me="rtl"===Ie.ownerDocument.dir,Ze=Me?"-99.5%":"99.5%",S=Me?"33%":"-33%",x=be.enteringEl,D=be.leavingEl,V="back"===be.direction,X=x.querySelector(":scope > ion-content"),te=x.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ue=x.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=(0,y.c)(),It=(0,y.c)();if(qe.addElement(x).duration((null!==(Q=be.duration)&&void 0!==Q?Q:0)||540).easing(be.easing||z).fill("both").beforeRemoveClass("ion-page-invisible"),D&&null!=Ie){const T=(0,y.c)();T.addElement(Ie),qe.addAnimation(T)}if(X||0!==ue.length||0!==te.length?(It.addElement(X),It.addElement(te)):It.addElement(x.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation(It),V?It.beforeClearStyles([Y]).fromTo("transform",`translateX(${S})`,`translateX(${Re})`).fromTo(Y,.8,1):It.beforeClearStyles([Y]).fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`),X){const T=Z(X).querySelector(".transition-effect");if(T){const P=T.querySelector(".transition-cover"),j=T.querySelector(".transition-shadow"),ie=(0,y.c)(),G=(0,y.c)(),He=(0,y.c)();ie.addElement(T).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),G.addElement(P).beforeClearStyles([Y]).fromTo(Y,0,.1),He.addElement(j).beforeClearStyles([Y]).fromTo(Y,.03,.7),ie.addAnimation([G,He]),It.addAnimation([ie])}}const Qt=x.querySelector("ion-header.header-collapse-condense"),{forward:Ee,backward:O}=((Ie,be,Q,z,Y)=>{const Pe=tt(z,Q),Re=Xe(Y),Ve=Xe(z),Me=tt(Y,Q),Ze=null!==Pe&&null!==Re&&!Q,S=null!==Ve&&null!==Me&&Q;if(Ze){const x=Re.getBoundingClientRect(),D=Pe.getBoundingClientRect(),V=Z(Pe).querySelector(".button-text"),X=V.getBoundingClientRect(),ue=Z(Re).querySelector(".toolbar-title").getBoundingClientRect();ve(Ie,be,Q,Re,x,ue,V,X),W(Ie,be,Q,Pe,D,V,X,Re,ue)}else if(S){const x=Ve.getBoundingClientRect(),D=Me.getBoundingClientRect(),V=Z(Me).querySelector(".button-text"),X=V.getBoundingClientRect(),ue=Z(Ve).querySelector(".toolbar-title").getBoundingClientRect();ve(Ie,be,Q,Ve,x,ue,V,X),W(Ie,be,Q,Me,D,V,X,Ve,ue)}return{forward:Ze,backward:S}})(qe,Me,V,x,D);if(ue.forEach(T=>{const P=(0,y.c)();P.addElement(T),qe.addAnimation(P);const j=(0,y.c)();j.addElement(T.querySelector("ion-title"));const ie=(0,y.c)(),G=Array.from(T.querySelectorAll("ion-buttons,[menuToggle]")),He=T.closest("ion-header"),lt=null==He?void 0:He.classList.contains("header-collapse-condense-inactive");let Je;Je=G.filter(V?Ae=>{const se=Ae.classList.contains("buttons-collapse");return se&&!lt||!se}:Ae=>!Ae.classList.contains("buttons-collapse")),ie.addElement(Je);const dt=(0,y.c)();dt.addElement(T.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const kt=(0,y.c)();kt.addElement(Z(T).querySelector(".toolbar-background"));const ln=(0,y.c)(),gt=T.querySelector("ion-back-button");if(gt&&ln.addElement(gt),P.addAnimation([j,ie,dt,kt,ln]),ie.fromTo(Y,.01,1),dt.fromTo(Y,.01,1),V)lt||j.fromTo("transform",`translateX(${S})`,`translateX(${Re})`).fromTo(Y,.01,1),dt.fromTo("transform",`translateX(${S})`,`translateX(${Re})`),ln.fromTo(Y,.01,1);else if(Qt||j.fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`).fromTo(Y,.01,1),dt.fromTo("transform",`translateX(${Ze})`,`translateX(${Re})`),kt.beforeClearStyles([Y,"transform"]),(null==He?void 0:He.translucent)?kt.fromTo("transform",Me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):kt.fromTo(Y,.01,"var(--opacity)"),Ee||ln.fromTo(Y,.01,1),gt&&!Ee){const se=(0,y.c)();se.addElement(Z(gt).querySelector(".button-text")).fromTo("transform",Me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),P.addAnimation(se)}}),D){const T=(0,y.c)(),P=D.querySelector(":scope > ion-content"),j=D.querySelectorAll(":scope > ion-header > ion-toolbar"),ie=D.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(P||0!==j.length||0!==ie.length?(T.addElement(P),T.addElement(ie)):T.addElement(D.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),qe.addAnimation(T),V){T.beforeClearStyles([Y]).fromTo("transform",`translateX(${Re})`,Me?"translateX(-100%)":"translateX(100%)");const G=(0,xe.g)(D);qe.afterAddWrite(()=>{"normal"===qe.getDirection()&&G.style.setProperty("display","none")})}else T.fromTo("transform",`translateX(${Re})`,`translateX(${S})`).fromTo(Y,1,.8);if(P){const G=Z(P).querySelector(".transition-effect");if(G){const He=G.querySelector(".transition-cover"),lt=G.querySelector(".transition-shadow"),Je=(0,y.c)(),dt=(0,y.c)(),kt=(0,y.c)();Je.addElement(G).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),dt.addElement(He).beforeClearStyles([Y]).fromTo(Y,.1,0),kt.addElement(lt).beforeClearStyles([Y]).fromTo(Y,.7,.03),Je.addAnimation([dt,kt]),T.addAnimation([Je])}}j.forEach(G=>{const He=(0,y.c)();He.addElement(G);const lt=(0,y.c)();lt.addElement(G.querySelector("ion-title"));const Je=(0,y.c)(),dt=G.querySelectorAll("ion-buttons,[menuToggle]"),kt=G.closest("ion-header"),ln=null==kt?void 0:kt.classList.contains("header-collapse-condense-inactive"),gt=Array.from(dt).filter(In=>{const Kt=In.classList.contains("buttons-collapse");return Kt&&!ln||!Kt});Je.addElement(gt);const Ae=(0,y.c)(),se=G.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");se.length>0&&Ae.addElement(se);const fe=(0,y.c)();fe.addElement(Z(G).querySelector(".toolbar-background"));const ze=(0,y.c)(),Mt=G.querySelector("ion-back-button");if(Mt&&ze.addElement(Mt),He.addAnimation([lt,Je,Ae,ze,fe]),qe.addAnimation(He),ze.fromTo(Y,.99,0),Je.fromTo(Y,.99,0),Ae.fromTo(Y,.99,0),V){if(ln||lt.fromTo("transform",`translateX(${Re})`,Me?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Ae.fromTo("transform",`translateX(${Re})`,Me?"translateX(-100%)":"translateX(100%)"),fe.beforeClearStyles([Y,"transform"]),(null==kt?void 0:kt.translucent)?fe.fromTo("transform","translateX(0px)",Me?"translateX(-100%)":"translateX(100%)"):fe.fromTo(Y,"var(--opacity)",0),Mt&&!O){const Kt=(0,y.c)();Kt.addElement(Z(Mt).querySelector(".button-text")).fromTo("transform",`translateX(${Re})`,`translateX(${(Me?-124:124)+"px"})`),He.addAnimation(Kt)}}else ln||lt.fromTo("transform",`translateX(${Re})`,`translateX(${S})`).fromTo(Y,.99,0).afterClearStyles([Pe,Y]),Ae.fromTo("transform",`translateX(${Re})`,`translateX(${S})`).afterClearStyles([Pe,Y]),ze.afterClearStyles([Y]),lt.afterClearStyles([Y]),Je.afterClearStyles([Y])})}return qe}catch(z){throw z}},me=10},6556:(Mn,Ot,oe)=>{"use strict";oe.r(Ot),oe.d(Ot,{mdTransitionAnimation:()=>At});var y=oe(388),xe=oe(6256);oe(4829),oe(2992);const At=(Ke,Z)=>{var Xe,tt,ee;const W="40px",le="back"===Z.direction,Ie=Z.leavingEl,be=(0,xe.g)(Z.enteringEl),Q=be.querySelector("ion-toolbar"),z=(0,y.c)();if(z.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),le?z.duration((null!==(Xe=Z.duration)&&void 0!==Xe?Xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(tt=Z.duration)&&void 0!==tt?tt:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${W})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,y.c)();Y.addElement(Q),z.addAnimation(Y)}if(Ie&&le){z.duration((null!==(ee=Z.duration)&&void 0!==ee?ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,y.c)();Y.addElement((0,xe.g)(Ie)).onFinish(Pe=>{1===Pe&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${W})`).fromTo("opacity",1,0),z.addAnimation(Y)}return z}},3816:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{B:()=>Je,G:()=>dt,O:()=>kt,a:()=>ve,b:()=>le,c:()=>Q,d:()=>ln,e:()=>gt,f:()=>Qt,g:()=>O,h:()=>j,i:()=>G,j:()=>Y,k:()=>Pe,m:()=>Ie,n:()=>Ze,o:()=>qe,s:()=>lt});var y=oe(1528),xe=oe(4829),B=oe(2784),Ue=oe(8523),At=oe(495),Ke=oe(6384),Z=oe(2032);let Xe=0,tt=0;const ee=new WeakMap,W=Ae=>({create:se=>Re(Ae,se),dismiss:(se,fe,ze)=>X(document,se,fe,Ae,ze),getTop:()=>(0,y.c)(function*(){return qe(document,Ae)})()}),ve=W("ion-alert"),le=W("ion-action-sheet"),Ie=W("ion-modal"),Q=W("ion-popover"),Y=Ae=>{typeof document<"u"&&V(document);const se=Xe++;Ae.overlayIndex=se},Pe=Ae=>(Ae.hasAttribute("id")||(Ae.id="ion-overlay-"+ ++tt),Ae.id),Re=(Ae,se)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ae).then(()=>{const fe=document.createElement(Ae);return fe.classList.add("overlay-hidden"),Object.assign(fe,Object.assign(Object.assign({},se),{hasController:!0})),T(document).appendChild(fe),new Promise(ze=>(0,Ke.c)(fe,ze))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ze=(Ae,se)=>{const fe=Ae.querySelector(Ve);x(fe,se)},S=(Ae,se)=>{const fe=Array.from(Ae.querySelectorAll(Ve));x(fe.length>0?fe[fe.length-1]:null,se)},x=(Ae,se)=>{let fe=Ae;const ze=null==Ae?void 0:Ae.shadowRoot;ze&&(fe=ze.querySelector(Ve)||Ae),fe?(0,Ke.f)(fe):se.focus()},V=Ae=>{0===Xe&&(Xe=1,Ae.addEventListener("focus",se=>{((Ae,se)=>{const fe=qe(se,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ze=Ae.target;fe&&ze&&!fe.classList.contains("ion-disable-focus-trap")&&(fe.shadowRoot?(()=>{if(fe.contains(ze))fe.lastFocus=ze;else if("ION-TOAST"===ze.tagName)x(fe.lastFocus,fe);else{const Kt=fe.lastFocus;Ze(fe,fe),Kt===se.activeElement&&S(fe,fe),fe.lastFocus=se.activeElement}})():(()=>{if(fe===ze)fe.lastFocus=void 0;else if("ION-TOAST"===ze.tagName)x(fe.lastFocus,fe);else{const Kt=(0,Ke.g)(fe);if(!Kt.contains(ze))return;const Jt=Kt.querySelector(".ion-overlay-wrapper");if(!Jt)return;if(Jt.contains(ze)||ze===Kt.querySelector("ion-backdrop"))fe.lastFocus=ze;else{const Wt=fe.lastFocus;Ze(Jt,fe),Wt===se.activeElement&&S(Jt,fe),fe.lastFocus=se.activeElement}}})())})(se,Ae)},!0),Ae.addEventListener("ionBackButton",se=>{const fe=qe(Ae);null!=fe&&fe.backdropDismiss&&se.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>{fe.dismiss(void 0,Je)})}),(0,B.shoudUseCloseWatcher)()||Ae.addEventListener("keydown",se=>{if("Escape"===se.key){const fe=qe(Ae);null!=fe&&fe.backdropDismiss&&fe.dismiss(void 0,Je)}}))},X=(Ae,se,fe,ze,Mt)=>{const In=qe(Ae,ze,Mt);return In?In.dismiss(se,fe):Promise.reject("overlay does not exist")},ue=(Ae,se)=>((Ae,se)=>(void 0===se&&(se="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ae.querySelectorAll(se)).filter(fe=>fe.overlayIndex>0)))(Ae,se).filter(fe=>!(Ae=>Ae.classList.contains("overlay-hidden"))(fe)),qe=(Ae,se,fe)=>{const ze=ue(Ae,se);return void 0===fe?ze[ze.length-1]:ze.find(Mt=>Mt.id===fe)},It=(Ae=!1)=>{const fe=T(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");fe&&(Ae?fe.setAttribute("aria-hidden","true"):fe.removeAttribute("aria-hidden"))},Qt=function(){var Ae=(0,y.c)(function*(se,fe,ze,Mt,In){var Kt,Jt;if(se.presented)return;It(!0),void 0!==xe.d&&ue(xe.d).forEach(Qn=>Qn.setAttribute("aria-hidden","true")),se.presented=!0,se.willPresent.emit(),null===(Kt=se.willPresentShorthand)||void 0===Kt||Kt.emit();const Wt=(0,Ue.b)(se),zn=se.enterAnimation?se.enterAnimation:Ue.c.get(fe,"ios"===Wt?ze:Mt);(yield P(se,zn,se.el,In))&&(se.didPresent.emit(),null===(Jt=se.didPresentShorthand)||void 0===Jt||Jt.emit()),"ION-TOAST"!==se.el.tagName&&Ee(se.el),se.keyboardClose&&(null===document.activeElement||!se.el.contains(document.activeElement))&&se.el.focus(),se.el.removeAttribute("aria-hidden")});return function(fe,ze,Mt,In,Kt){return Ae.apply(this,arguments)}}(),Ee=function(){var Ae=(0,y.c)(function*(se){let fe=document.activeElement;if(!fe)return;const ze=null==fe?void 0:fe.shadowRoot;ze&&(fe=ze.querySelector(Ve)||fe),yield se.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&fe.focus()});return function(fe){return Ae.apply(this,arguments)}}(),O=function(){var Ae=(0,y.c)(function*(se,fe,ze,Mt,In,Kt,Jt){var Wt,zn,un;if(!se.presented)return!1;void 0!==xe.d&&1===ue(xe.d).length&&It(!1),se.presented=!1;try{se.el.style.setProperty("pointer-events","none"),se.willDismiss.emit({data:fe,role:ze}),null===(Wt=se.willDismissShorthand)||void 0===Wt||Wt.emit({data:fe,role:ze});const hi=(0,Ue.b)(se),Qn=se.leaveAnimation?se.leaveAnimation:Ue.c.get(Mt,"ios"===hi?In:Kt);ze!==dt&&(yield P(se,Qn,se.el,Jt)),se.didDismiss.emit({data:fe,role:ze}),null===(zn=se.didDismissShorthand)||void 0===zn||zn.emit({data:fe,role:ze}),(ee.get(se)||[]).forEach(ri=>ri.destroy()),ee.delete(se),se.el.classList.add("overlay-hidden"),se.el.style.removeProperty("pointer-events"),void 0!==se.el.lastFocus&&(se.el.lastFocus=void 0)}catch(hi){console.error(hi)}return se.el.remove(),void 0!==xe.d&&(null===(un=qe(xe.d))||void 0===un||un.removeAttribute("aria-hidden")),!0});return function(fe,ze,Mt,In,Kt,Jt,Wt){return Ae.apply(this,arguments)}}(),T=Ae=>Ae.querySelector("ion-app")||Ae.body,P=function(){var Ae=(0,y.c)(function*(se,fe,ze,Mt){ze.classList.remove("overlay-hidden");const Kt=fe(se.el,Mt);(!se.animated||!Ue.c.getBoolean("animated",!0))&&Kt.duration(0),se.keyboardClose&&Kt.beforeAddWrite(()=>{const Wt=ze.ownerDocument.activeElement;null!=Wt&&Wt.matches("input,ion-input, ion-textarea")&&Wt.blur()});const Jt=ee.get(se)||[];return ee.set(se,[...Jt,Kt]),yield Kt.play(),!0});return function(fe,ze,Mt,In){return Ae.apply(this,arguments)}}(),j=(Ae,se)=>{let fe;const ze=new Promise(Mt=>fe=Mt);return ie(Ae,se,Mt=>{fe(Mt.detail)}),ze},ie=(Ae,se,fe)=>{const ze=Mt=>{(0,Ke.b)(Ae,se,ze),fe(Mt)};(0,Ke.a)(Ae,se,ze)},G=Ae=>"cancel"===Ae||Ae===Je,He=Ae=>Ae(),lt=(Ae,se)=>{if("function"==typeof Ae)return Ue.c.get("_zoneGate",He)(()=>{try{return Ae(se)}catch(ze){throw ze}})},Je="backdrop",dt="gesture",kt=39,ln=Ae=>{let fe,se=!1;const ze=(0,At.C)(),Mt=(Jt=!1)=>{if(fe&&!Jt)return{delegate:fe,inline:se};const{el:Wt,hasController:zn,delegate:un}=Ae;return se=null!==Wt.parentNode&&!zn,fe=se?un||ze:un,{inline:se,delegate:fe}};return{attachViewToDom:function(){var Jt=(0,y.c)(function*(Wt){const{delegate:zn}=Mt(!0);if(zn)return yield zn.attachViewToDom(Ae.el,Wt);const{hasController:un}=Ae;if(un&&void 0!==Wt)throw new Error("framework delegate is missing");return null});return function(zn){return Jt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Jt}=Mt();Jt&&void 0!==Ae.el&&Jt.removeViewFromDom(Ae.el.parentElement,Ae.el)}}},gt=()=>{let Ae;const se=()=>{Ae&&(Ae(),Ae=void 0)};return{addClickListener:(ze,Mt)=>{se();const In=void 0!==Mt?document.getElementById(Mt):null;In?Ae=((Jt,Wt)=>{const zn=()=>{Wt.present()};return Jt.addEventListener("click",zn),()=>{Jt.removeEventListener("click",zn)}})(In,ze):(0,Z.p)(`A trigger element with the ID "${Mt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ze)},removeClickListener:se}}},904:(Mn,Ot,oe)=>{"use strict";var y=oe(1528);let B=null,At=1;const Ke=Symbol("SIGNAL");function Z(t){const e=B;return B=t,e}function me(t){if((!Ze(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==At)){if(!t.producerMustRecompute(t)&&!Pe(t))return t.dirty=!1,void(t.lastCleanEpoch=At);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=At}}function Pe(t){S(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(me(n),r!==n.version))return!0}return!1}function Me(t,e){if(function x(t){var e,n;null!==(e=t.liveConsumerNode)&&void 0!==e||(t.liveConsumerNode=[]),null!==(n=t.liveConsumerIndexOfThis)&&void 0!==n||(t.liveConsumerIndexOfThis=[])}(t),S(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Me(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];S(i),i.producerIndexOfThis[r]=e}}function Ze(t){var e,n;return t.consumerIsAlwaysLive||(null!==(e=null==t||null===(n=t.liveConsumerNode)||void 0===n?void 0:n.length)&&void 0!==e?e:0)>0}function S(t){var e,n,r;null!==(e=t.producerNode)&&void 0!==e||(t.producerNode=[]),null!==(n=t.producerIndexOfThis)&&void 0!==n||(t.producerIndexOfThis=[]),null!==(r=t.producerLastReadVersion)&&void 0!==r||(t.producerLastReadVersion=[])}let It=null;function gt(t){return"function"==typeof t}function Ae(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const se=Ae(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function fe(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class ze{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(gt(r))try{r()}catch(o){e=o instanceof se?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Kt(o)}catch(s){e=null!=e?e:[],s instanceof se?e=[...e,...s.errors]:e.push(s)}}if(e)throw new se(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Kt(e);else{if(e instanceof ze){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fe(n,e)}remove(e){const{_finalizers:n}=this;n&&fe(n,e),e instanceof ze&&e._removeParent(this)}}ze.EMPTY=(()=>{const t=new ze;return t.closed=!0,t})();const Mt=ze.EMPTY;function In(t){return t instanceof ze||t&&"closed"in t&&gt(t.remove)&&gt(t.add)&&gt(t.unsubscribe)}function Kt(t){gt(t)?t():t.unsubscribe()}const Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Wt={setTimeout(t,e,...n){const{delegate:r}=Wt;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Wt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function zn(t){Wt.setTimeout(()=>{const{onUnhandledError:e}=Jt;if(!e)throw t;e(t)})}function un(){}const hi=ri("C",void 0,void 0);function ri(t,e,n){return{kind:t,value:e,error:n}}let Vr=null;function ki(t){if(Jt.useDeprecatedSynchronousErrorHandling){const e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}class Fi extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,In(e)&&e.add(this)):this.destination=Ho}static create(e,n,r){return new Pn(e,n,r)}next(e){this.isStopped?So(function zr(t){return ri("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?So(function Qn(t){return ri("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?So(hi,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pi=Function.prototype.bind;function Gr(t,e){return pi.call(t,e)}class qr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Li(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Li(r)}else Li(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Li(n)}}}class Pn extends Fi{constructor(e,n,r){let i;if(super(),gt(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gr(e.next,o),error:e.error&&Gr(e.error,o),complete:e.complete&&Gr(e.complete,o)}):i=e}this.destination=new qr(i)}}function Li(t){Jt.useDeprecatedSynchronousErrorHandling?function fi(t){Jt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}(t):zn(t)}function So(t,e){const{onStoppedNotification:n}=Jt;n&&Wt.setTimeout(()=>n(t,e))}const Ho={closed:!0,next:un,error:function jo(t){throw t},complete:un},gi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ur(t){return t}function _o(t){return 0===t.length?ur:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Sn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function k(t){return t&&t instanceof Fi||function cs(t){return t&&gt(t.next)&&gt(t.error)&&gt(t.complete)}(t)&&In(t)}(n)?n:new Pn(n,r,i);return ki(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=zo(r))((i,o)=>{const s=new Pn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[gi](){return this}pipe(...n){return _o(n)(this)}toPromise(n){return new(n=zo(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function zo(t){var e;return null!==(e=null!=t?t:Jt.Promise)&&void 0!==e?e:Promise}const M=Ae(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let L=(()=>{class t extends Sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ye(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new M}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Mt:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,fe(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Sn;return n.source=this,n}}return t.create=(e,n)=>new ye(e,n),t})();class ye extends L{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Mt}}class q extends L{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function at(t){return gt(null==t?void 0:t.lift)}function _t(t){return e=>{if(at(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(t,e,n,r,i){return new Wr(t,e,n,r,i)}class Wr extends Fi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function wt(t,e){return _t((n,r)=>{let i=0;n.subscribe(xt(r,o=>{r.next(t.call(e,o,i++))}))})}const Xt="https://g.co/ng/security#xss";class Ce extends Error{constructor(e,n){super(function Kr(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function $t(t){return e=>{setTimeout(t,void 0,e)}}const st=class bt extends L{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){var a,l,u;const g=e;i=null===(a=g.next)||void 0===a?void 0:a.bind(g),o=null===(l=g.error)||void 0===l?void 0:l.bind(g),s=null===(u=g.complete)||void 0===u?void 0:u.bind(g)}this.__isAsync&&(o=$t(o),i&&(i=$t(i)),s&&(s=$t(s)));const h=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(h),h}};var jt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(jt||{});function rr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ar(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var $=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}($||{}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(K||{});function ae(t){return{toString:t}.toString()}const pe=globalThis,Oe={},Se=[];function We(t){for(let e in t)if(t[e]===We)return e;throw Error("Could not find renamed property on target object.")}function St(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}const en=We({\u0275cmp:We}),xn=We({\u0275dir:We}),wr=We({\u0275pipe:We}),Xn=We({\u0275mod:We}),Gn=We({\u0275fac:We}),Ro=We({__NG_ELEMENT_ID__:We}),Vi=We({__NG_ENV_ID__:We});var Cn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cn||{});function Ju(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Wo(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];ed(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function bc(t){return 3===t||4===t||6===t}function ed(t){return 64===t.charCodeAt(0)}function Dc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||td(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function td(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const T_="ng-template";function qf(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==Ju(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function A_(t){return 4===t.type&&t.value!==T_}function Wf(t,e,n){return e===(4!==t.type||n?t.value:T_)}function m0(t,e,n){let r=4;const i=t.attrs||[],o=function Kf(t){for(let e=0;e<t.length;e++)if(bc(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Wf(t,l,n)||""===l&&1===e.length){if(Ji(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!qf(t.attrs,u,n)){if(Ji(r))return!1;s=!0}continue}const g=_0(8&r?"class":l,i,A_(t),n);if(-1===g){if(Ji(r))return!1;s=!0;continue}if(""!==u){let m;m=g>o?"":i[g+1].toLowerCase();const v=8&r?m:null;if(v&&-1!==Ju(v,u,0)||2&r&&u!==m){if(Ji(r))return!1;s=!0}}}}else{if(!s&&!Ji(r)&&!Ji(l))return!1;if(s&&Ji(l))continue;s=!1,r=l|1&r}}return Ji(r)||s}function Ji(t){return 0==(1&t)}function _0(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Tc(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function nd(t,e,n=!1){for(let r=0;r<e.length;r++)if(m0(t,e[r],n))return!0;return!1}function us(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function rd(t,e){return t?":not("+e.trim()+")":e}function y0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ji(s)&&(e+=rd(o,i),i=""),r=s,o=o||!Ji(r);n++}return""!==i&&(e+=rd(o,i)),e}function Ge(t){return ae(()=>{var e;const n=w0(t),r={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(e=t.signals)&&void 0!==e&&e,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,styles:t.styles||Se,_:null,schemas:t.schemas||null,tView:null,id:""};od(r);const i=t.dependencies;return r.directiveDefs=vo(i,!1),r.pipeDefs=vo(i,!0),r.id=function sl(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(r),r})}function E0(t){return rn(t)||Zn(t)}function Yf(t){return null!==t}function Yo(t){return ae(()=>({type:t.type,bootstrap:t.bootstrap||Se,declarations:t.declarations||Se,imports:t.imports||Se,exports:t.exports||Se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function id(t,e){if(null==t)return Oe;const n={};for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];let s,a,l=Cn.None;var r;Array.isArray(o)?(l=o[0],s=o[1],a=null!==(r=o[2])&&void 0!==r?r:s):(s=o,a=o),e?(n[s]=l!==Cn.None?[i,l]:i,e[s]=a):n[s]=i}return n}function Pt(t){return ae(()=>{const e=w0(t);return od(e),e})}function $i(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function rn(t){return t[en]||null}function Zn(t){return t[xn]||null}function ii(t){return t[wr]||null}function Pr(t,e){const n=t[Xn]||null;if(!n&&!0===e)throw new Error(`Type ${rr(t)} does not have '\u0275mod' property.`);return n}function w0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oe,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Se,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:id(t.inputs,e),outputs:id(t.outputs),debugInfo:null}}function od(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function vo(t,e){if(!t)return null;const n=e?ii:E0;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(Yf)}const Jn=0,et=1,Ft=2,Sr=3,mi=4,_i=5,Ui=6,da=7,Un=8,Qr=9,xr=10,zt=11,Ac=12,sd=13,ds=14,ir=15,al=16,ll=17,yo=18,ha=19,ad=20,Mo=21,fa=22,Ss=23,Gt=25,ld=1,eo=7,ga=9,dr=10;var cd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(cd||{});function Xr(t){return Array.isArray(t)&&"object"==typeof t[ld]}function vi(t){return Array.isArray(t)&&!0===t[ld]}function Sc(t){return 0!=(4&t.flags)}function ma(t){return t.componentOffset>-1}function ul(t){return 1==(1&t.flags)}function Ti(t){return!!t.template}function Rc(t){return 0!=(512&t[Ft])}let L_=!1;function Rn(t){for(;Array.isArray(t);)t=t[Jn];return t}function Ai(t,e){return Rn(e[t.index])}function xc(t,e){return t.data[e]}function Bi(t,e){const n=e[t];return Xr(n)?n:n[Jn]}function tp(t){return 128==(128&t[Ft])}function Po(t,e){return null==e?null:t[e]}function V_(t){t[ll]=0}function D0(t){1024&t[Ft]||(t[Ft]|=1024,tp(t)&&pd(t))}function np(t){var e;return!!(9216&t[Ft]||null!==(e=t[Ss])&&void 0!==e&&e.dirty)}function rp(t){if(np(t))pd(t);else if(64&t[Ft])if(function Xf(){return L_}())t[Ft]|=1024,pd(t);else{var e;null===(e=t[xr].changeDetectionScheduler)||void 0===e||e.notify()}}function pd(t){var e;null===(e=t[xr].changeDetectionScheduler)||void 0===e||e.notify();let n=hs(t);for(;null!==n&&!(8192&n[Ft])&&(n[Ft]|=8192,tp(n));)n=hs(n)}function ip(t,e){if(256==(256&t[Ft]))throw new Ce(911,!1);null===t[Mo]&&(t[Mo]=[]),t[Mo].push(e)}function hs(t){const e=t[Sr];return vi(e)?e[Sr]:e}const Ht={lFrame:dp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function T0(){return Ht.bindingsEnabled}function Nc(){return null!==Ht.skipHydrationRootTNode}function we(){return Ht.lFrame.lView}function fn(){return Ht.lFrame.tView}function An(){let t=gd();for(;null!==t&&64===t.type;)t=t.parent;return t}function gd(){return Ht.lFrame.currentTNode}function to(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function md(){return Ht.lFrame.isParent}function ap(){Ht.lFrame.isParent=!1}function xo(){return Ht.lFrame.bindingIndex++}function Nr(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fc(e)}function Fc(t){Ht.lFrame.currentDirectiveIndex=t}function _d(t){Ht.lFrame.currentQueryIndex=t}function O0(t){const e=t[et];return 2===e.type?e.declTNode:1===e.type?t[_i]:null}function cp(t,e,n){if(n&jt.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&jt.Host||(i=O0(o),null===i||(o=o[ds],10&i.type))););if(null===i)return!1;e=i,t=o}const r=Ht.lFrame=Vc();return r.currentTNode=e,r.lView=t,!0}function up(t){const e=Vc(),n=t[et];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Vc(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?dp(t):e}function dp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fl(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const $c=fl;function hp(){const t=fl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function oi(){return Ht.lFrame.selectedIndex}function gs(t){Ht.lFrame.selectedIndex=t}function qn(){const t=Ht.lFrame;return xc(t.tView,t.selectedIndex)}let ya=!0;function vd(){return ya}function Ms(t){ya=t}function V0(){return pl(An(),we())}function pl(t,e){return new Fe(Ai(t,e))}let Ia,Fe=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=V0,e})();function gl(t,e){t.forEach(n=>Array.isArray(n)?gl(n,e):e(n))}function yd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Id(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bd(t){return 128==(128&t.flags)}function Dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function No(t){return{providers:t.providers||[],imports:t.imports||[]}}function _l(t){return G_(t,Dd)||G_(t,q_)}function G_(t,e){return t.hasOwnProperty(e)?t[e]:null}function vl(t){return t&&(t.hasOwnProperty(zc)||t.hasOwnProperty(yp))?t[zc]:null}const Dd=We({\u0275prov:We}),zc=We({\u0275inj:We}),q_=We({ngInjectableDef:We}),yp=We({ngInjectorDef:We});class rt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Dt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Td=new rt("",{providedIn:"root",factory:()=>Gc}),Gc="ng",W_=new rt(""),Oo=new rt("",{providedIn:"platform",factory:()=>"unknown"}),Ad=new rt("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Qo(){if(void 0!==Ia)return Ia;if(typeof document<"u")return document;throw new Ce(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}}),Q_=We({__forward_ref__:We});function Nn(t){return t.__forward_ref__=Nn,t.toString=function(){return rr(this())},t}function Bt(t){return Sd(t)?t():t}function Sd(t){return"function"==typeof t&&t.hasOwnProperty(Q_)&&t.__forward_ref__===Nn}function Kc(t){return t&&!!t.\u0275providers}function qt(t){return"string"==typeof t?t:null==t?"":String(t)}function Rd(t,e){throw new Ce(-201,!1)}let Yc;function nv(){return Yc}function Hi(t){const e=Yc;return Yc=t,e}function rv(t,e,n){const r=_l(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&jt.Optional?null:void 0!==e?e:void Rd()}const Qc={},Md="__NG_DI_FLAG__",Pd="ngTempTokenPath",q0=/\n/gm,ov="__source";let yl;function xs(t){const e=yl;return yl=t,e}function Y0(t,e=jt.Default){if(void 0===yl)throw new Ce(-203,!1);return null===yl?rv(t,void 0,e):yl.get(t,e&jt.Optional?null:void 0,e)}function Ye(t,e=jt.Default){return(nv()||Y0)(Bt(t),e)}function Be(t,e=jt.Default){return Ye(t,Od(e))}function Od(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bp(t){const e=[];for(let n=0;n<t.length;n++){const r=Bt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Ce(900,!1);let i,o=jt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Q0(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Ye(i,o))}else e.push(Ye(r))}return e}function Xc(t,e){return t[Md]=e,t.prototype[Md]=e,t}function Q0(t){return t[Md]}let lv=()=>null;function Ap(t,e,n=!1){return lv(t,e,n)}const Al="__parameters__";function ba(t,e,n){return ae(()=>{const r=function xp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,h){const g=l.hasOwnProperty(Al)?l[Al]:Object.defineProperty(l,Al,{value:[]})[Al];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const nu=Xc(ba("Optional"),8),Rl=Xc(ba("SkipSelf"),4);function Da(t,e){return t.hasOwnProperty(Gn)?t[Gn]:null}const Xo=new rt(""),_v=new rt("",-1),Op=new rt("");class Vd{get(e,n=Qc){if(n===Qc){const r=new Error(`NullInjectorError: No provider for ${rr(e)}!`);throw r.name="NullInjectorError",r}return n}}function ow(...t){return{\u0275providers:vv(0,t),\u0275fromNgModule:!0}}function vv(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return gl(e,s=>{const a=s;Ud(a,o,[],r)&&(i||(i=[]),i.push(a))}),void 0!==i&&yv(i,o),n}function yv(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];kp(i,o=>{e(o,r)})}}function Ud(t,e,n,r){if(!(t=Bt(t)))return!1;let i=null,o=vl(t);const s=!o&&rn(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=vl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Ud(u,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{gl(o.imports,h=>{Ud(h,e,n,r)&&(u||(u=[]),u.push(h))})}finally{}void 0!==u&&yv(u,e)}if(!a){const u=Da(i)||(()=>new i);e({provide:i,useFactory:u,deps:Se},i),e({provide:Op,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>Ye(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const u=t;kp(l,h=>{e(h,u)})}}}return i!==t&&void 0!==t.providers}function kp(t,e){for(let n of t)Kc(n)&&(n=n.\u0275providers),Array.isArray(n)?kp(n,e):e(n)}const Iv=We({provide:String,useValue:We});function Fp(t){return null!==t&&"object"==typeof t&&Iv in t}function Ta(t){return"function"==typeof t}const ru=new rt(""),Ml={},bv={};let Lp;function Pl(){return void 0===Lp&&(Lp=new Vd),Lp}class si{}class Jr extends si{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zo(e,s=>this.processProvider(s)),this.records.set(_v,Os(void 0,this)),i.has("environment")&&this.records.set(si,Os(void 0,this));const o=this.records.get(ru);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Op,Se,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=xs(this),r=Hi(void 0);try{return e()}finally{xs(n),Hi(r)}}get(e,n=Qc,r=jt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Vi))return e[Vi](this);r=Od(r);const o=xs(this),s=Hi(void 0);try{if(!(r&jt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function lw(t){return"function"==typeof t||"object"==typeof t&&t instanceof rt}(e)&&_l(e);l=u&&this.injectableDefInScope(u)?Os(Aa(e),Ml):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&jt.Self?Pl():this.parent).get(e,n=r&jt.Optional&&n===Qc?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Pd]=a[Pd]||[]).unshift(rr(e)),o)throw a;return function sv(t,e,n,r){const i=t[Pd];throw e[ov]&&i.unshift(e[ov]),t.message=function X0(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=rr(e);if(Array.isArray(e))i=e.map(rr).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):rr(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(q0,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pd]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Hi(s),xs(o)}}resolveInjectorInitializers(){const e=xs(this),n=Hi(void 0);try{const i=this.get(Xo,Se,jt.Self);for(const o of i)o()}finally{xs(e),Hi(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(rr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(e){let n=Ta(e=Bt(e))?e:Bt(e&&e.provide);const r=function sw(t){return Fp(t)?Os(void 0,t.useValue):Os(jd(t),Ml)}(e);if(!Ta(e)&&!0===e.multi){let i=this.records.get(n);i||(i=Os(void 0,Ml,!0),i.factory=()=>bp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ml&&(n.value=bv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Tv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Bt(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Aa(t){const e=_l(t),n=null!==e?e.factory:Da(t);if(null!==n)return n;if(t instanceof rt)throw new Ce(204,!1);if(t instanceof Function)return function Dv(t){if(t.length>0)throw new Ce(204,!1);const n=function B0(t){return t&&(t[Dd]||t[q_])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Ce(204,!1)}function jd(t,e,n){let r;if(Ta(t)){const i=Bt(t);return Da(i)||Aa(i)}if(Fp(t))r=()=>Bt(t.useValue);else if(function wv(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...bp(t.deps||[]));else if(function Ev(t){return!(!t||!t.useExisting)}(t))r=()=>Ye(Bt(t.useExisting));else{const i=Bt(t&&(t.useClass||t.provide));if(!function aw(t){return!!t.deps}(t))return Da(i)||Aa(i);r=()=>new i(...bp(t.deps))}return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Zo(t,e){for(const n of t)Array.isArray(n)?Zo(n,e):n&&Kc(n)?Zo(n.\u0275providers,e):e(n)}function ks(t,e){t instanceof Jr&&t.assertNotDestroyed();const r=xs(t),i=Hi(void 0);try{return e()}finally{xs(r),Hi(i)}}class dw{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mv(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function f(){return c}function c(t){return t.type.prototype.ngOnChanges&&(t.setInput=p),d}function d(){const t=w(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Oe)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function p(t,e,n,r,i){const o=this.declaredInputs[r],s=w(t)||function N(t,e){return t[_]=e}(t,{previous:Oe,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new dw(u&&u.currentValue,n,l===Oe),Mv(t,e,i,n)}f.ngInherit=!0;const _="__ngSimpleChanges__";function w(t){return t[_]||null}const nt=function(t,e,n){};function Et(t,e){for(let u=e.directiveStart,h=e.directiveEnd;u<h;u++){const m=t.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:A,ngAfterViewChecked:R,ngOnDestroy:H}=m;var n,r,i,o,s,a,l;v&&(null!==(n=t.contentHooks)&&void 0!==n?n:t.contentHooks=[]).push(-u,v),b&&((null!==(r=t.contentHooks)&&void 0!==r?r:t.contentHooks=[]).push(u,b),(null!==(i=t.contentCheckHooks)&&void 0!==i?i:t.contentCheckHooks=[]).push(u,b)),A&&(null!==(o=t.viewHooks)&&void 0!==o?o:t.viewHooks=[]).push(-u,A),R&&((null!==(s=t.viewHooks)&&void 0!==s?s:t.viewHooks=[]).push(u,R),(null!==(a=t.viewCheckHooks)&&void 0!==a?a:t.viewCheckHooks=[]).push(u,R)),null!=H&&(null!==(l=t.destroyHooks)&&void 0!==l?l:t.destroyHooks=[]).push(u,H)}}function Wn(t,e,n){jp(t,e,3,n)}function zi(t,e,n,r){(3&t[Ft])===n&&jp(t,e,n,r)}function Nl(t,e){let n=t[Ft];(3&n)===e&&(n&=16383,n+=1,t[Ft]=n)}function jp(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[ll]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[ll]+=65536),(a<o||-1==o)&&(Pv(t,n,e,l),t[ll]=(4294901760&t[ll])+l+2),l++}function Gd(t,e){nt(4,t,e);const n=Z(null);try{e.call(t)}finally{Z(n),nt(5,t,e)}}function Pv(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ft]>>14<t[ll]>>16&&(3&t[Ft])===e&&(t[Ft]+=16384,Gd(a,o)):Gd(a,o)}const Sa=-1;class Ra{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fw(t){return t!==Sa}function zp(t){return 32767&t}function Gp(t,e){let n=function hH(t){return t>>16}(t),r=e;for(;n>0;)r=r[ds],n--;return r}let pw=!0;function kv(t){const e=pw;return pw=t,e}const aM=255,lM=5;let fH=0;const Fs={};function Fv(t,e){const n=cM(t,e);if(-1!==n)return n;const r=e[et];r.firstCreatePass&&(t.injectorIndex=e.length,gw(r.data,t),gw(e,null),gw(r.blueprint,null));const i=Lv(t,e),o=t.injectorIndex;if(fw(i)){const s=zp(i),a=Gp(i,e),l=a[et].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function gw(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cM(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Lv(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=mM(i),null===r)return Sa;if(n++,i=i[ds],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Sa}function mw(t,e,n){!function pH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ro)&&(r=n[Ro]),null==r&&(r=n[Ro]=fH++);const i=r&aM;e.data[t+(i>>lM)]|=1<<i}(t,e,n)}function uM(t,e,n){if(n&jt.Optional||void 0!==t)return t;Rd()}function dM(t,e,n,r){if(n&jt.Optional&&void 0===r&&(r=null),!(n&(jt.Self|jt.Host))){const i=t[Qr],o=Hi(void 0);try{return i?i.get(e,r,n&jt.Optional):rv(e,r,n&jt.Optional)}finally{Hi(o)}}return uM(r,0,n)}function hM(t,e,n,r=jt.Default,i){if(null!==t){if(2048&e[Ft]&&!(r&jt.Self)){const s=function yH(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Ft]&&!(512&s[Ft]);){const a=fM(o,s,n,r|jt.Self,Fs);if(a!==Fs)return a;let l=o.parent;if(!l){const u=s[ad];if(u){const h=u.get(n,Fs,r);if(h!==Fs)return h}l=mM(s),s=s[ds]}o=l}return i}(t,e,n,r,Fs);if(s!==Fs)return s}const o=fM(t,e,n,r,Fs);if(o!==Fs)return o}return dM(e,n,r,i)}function fM(t,e,n,r,i){const o=function _H(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ro)?t[Ro]:void 0;return"number"==typeof e?e>=0?e&aM:vH:e}(n);if("function"==typeof o){if(!cp(e,t,r))return r&jt.Host?uM(i,0,r):dM(e,n,r,i);try{let s;if(s=o(r),null!=s||r&jt.Optional)return s;Rd()}finally{$c()}}else if("number"==typeof o){let s=null,a=cM(t,e),l=Sa,u=r&jt.Host?e[ir][_i]:null;for((-1===a||r&jt.SkipSelf)&&(l=-1===a?Lv(t,e):e[a+8],l!==Sa&&gM(r,!1)?(s=e[et],a=zp(l),e=Gp(l,e)):a=-1);-1!==a;){const h=e[et];if(pM(o,a,h.data)){const g=mH(a,e,n,s,r,u);if(g!==Fs)return g}l=e[a+8],l!==Sa&&gM(r,e[et].data[a+8]===u)&&pM(o,a,e)?(s=h,a=zp(l),e=Gp(l,e)):a=-1}}return i}function mH(t,e,n,r,i,o){const s=e[et],a=s.data[t+8],h=function Vv(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,h=o>>20,m=i?a+h:t.directiveEnd;for(let v=r?a:a+h;v<m;v++){const b=s[v];if(v<l&&n===b||v>=l&&b.type===n)return v}if(i){const v=s[l];if(v&&Ti(v)&&v.type===n)return l}return null}(a,s,n,null==r?ma(a)&&pw:r!=s&&0!=(3&a.type),i&jt.Host&&o===a);return null!==h?su(e,s,h,a):Fs}function su(t,e,n,r){let i=t[n];const o=e.data;if(function xv(t){return t instanceof Ra}(i)){const s=i;s.resolving&&function tv(t,e){throw e&&e.join(" > "),new Ce(-200,t)}(function En(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qt(t)}(o[n]));const a=kv(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Hi(s.injectImpl):null;cp(t,r,jt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Tt(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){var s,a;const g=c(e);(null!==(s=n.preOrderHooks)&&void 0!==s?s:n.preOrderHooks=[]).push(t,g),(null!==(a=n.preOrderCheckHooks)&&void 0!==a?a:n.preOrderCheckHooks=[]).push(t,g)}var l,u,h;i&&(null!==(l=n.preOrderHooks)&&void 0!==l?l:n.preOrderHooks=[]).push(0-t,i),o&&((null!==(u=n.preOrderHooks)&&void 0!==u?u:n.preOrderHooks=[]).push(t,o),(null!==(h=n.preOrderCheckHooks)&&void 0!==h?h:n.preOrderCheckHooks=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Hi(u),kv(a),s.resolving=!1,$c()}}return i}function pM(t,e,n){return!!(n[e+(t>>lM)]&1<<t)}function gM(t,e){return!(t&jt.Self||t&jt.Host&&e)}class ai{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return hM(this._tNode,this._lView,e,Od(r),n)}}function vH(){return new ai(An(),we())}function hr(t){return ae(()=>{const e=t.prototype.constructor,n=e[Gn]||_w(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[Gn]||_w(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _w(t){return Sd(t)?()=>{const e=_w(Bt(t));return e&&e()}:Da(t)}function mM(t){const e=t[et],n=e.type;return 2===n?e.declTNode:1===n?t[_i]:null}function Ol(t){return function gH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(bc(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}}return null}(An(),t)}function EM(t,e=null,n=null,r){const i=wM(t,e,n,r);return i.resolveInjectorInitializers(),i}function wM(t,e=null,n=null,r,i=new Set){const o=[n||Se,ow(t)];return r=r||("object"==typeof t?void 0:rr(t)),new Jr(o,e||Pl(),r||null,i)}let fr=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return EM({name:""},i,r,"");{var o;const s=null!==(o=r.name)&&void 0!==o?o:"";return EM({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Qc,t.NULL=new Vd,t.\u0275prov=Dt({token:t,providedIn:"any",factory:()=>Ye(_v)}),t.__NG_ELEMENT_ID__=-1,e})();function yw(t){return t.ngOriginalError}class Ma{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&yw(e);for(;n&&yw(n);)n=yw(n);return n||null}}const bM=new rt("",{providedIn:"root",factory:()=>Be(Ma).handleError.bind(void 0)}),TM=new rt("",{providedIn:"root",factory:()=>!1});let jv;function RM(t){var e;return(null===(e=function Ew(){if(void 0===jv&&(jv=null,pe.trustedTypes))try{jv=pe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jv}())||void 0===e?void 0:e.createScriptURL(t))||t}class MM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xt})`}}function kl(t){return t instanceof MM?t.changingThisBreaksApplicationSecurity:t}function qp(t,e){const n=function OH(t){return t instanceof MM&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xt})`)}return n===e}const VH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Qd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qd||{});function Tw(t){const e=Kp();return e?e.sanitize(Qd.URL,t)||"":qp(t,"URL")?kl(t):function ww(t){return(t=String(t)).match(VH)?t:"unsafe:"+t}(qt(t))}function LM(t){const e=Kp();if(e)return RM(e.sanitize(Qd.RESOURCE_URL,t)||"");if(qp(t,"ResourceURL"))return RM(kl(t));throw new Ce(904,!1)}function Kp(){const t=we();return t&&t[xr].sanitizer}const Aw=new Map;let i3=0;const Rw="__ngContext__";function Gi(t,e){Xr(e)?(t[Rw]=e[ha],function s3(t){Aw.set(t[ha],t)}(e)):t[Rw]=e}function ko(t){return t instanceof Function?t():t}var Ll=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ll||{});let Nw;function Ow(t,e){return Nw(t,e)}function Zd(t,e,n,r,i){if(null!=r){let o,s=!1;vi(r)?o=r:Xr(r)&&(s=!0,r=r[Jn]);const a=Rn(r);0===t&&null!==n?null==i?rP(e,n,a):au(e,n,a,i||null,!0):1===t&&null!==n?au(e,n,a,i||null,!0):2===t?function Xv(t,e,n){const r=Yv(t,e);r&&function S3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function P3(t,e,n,r,i){const o=n[eo];o!==Rn(n)&&Zd(e,t,r,o,i);for(let a=dr;a<n.length;a++){const l=n[a];Zv(l[et],l,t,e,r,o)}}(e,t,o,n,i)}}function Wv(t,e,n){return t.createElement(e,n)}function eP(t,e){Zv(t,e,e[zt],2,null,null)}function tP(t,e){const n=t[ga],r=n.indexOf(e);n.splice(r,1)}function Qp(t,e){if(t.length<=dr)return;const n=dr+e,r=t[n];if(r){const i=r[al];null!==i&&i!==t&&tP(i,r),e>0&&(t[n-1][mi]=r[mi]);const o=Id(t,dr+e);!function E3(t,e){eP(t,e),e[Jn]=null,e[_i]=null}(r[et],r);const s=o[yo];null!==s&&s.detachView(o[et]),r[Sr]=null,r[mi]=null,r[Ft]&=-129}return r}function Kv(t,e){if(!(256&e[Ft])){const n=e[zt];n.destroyNode&&Zv(t,e,n,3,null,null),function C3(t){let e=t[Ac];if(!e)return Fw(t[et],t);for(;e;){let n=null;if(Xr(e))n=e[Ac];else{const r=e[dr];r&&(n=r)}if(!n){for(;e&&!e[mi]&&e!==t;)Xr(e)&&Fw(e[et],e),e=e[Sr];null===e&&(e=t),Xr(e)&&Fw(e[et],e),n=e&&e[mi]}e=n}}(e)}}function Fw(t,e){if(!(256&e[Ft])){e[Ft]&=-129,e[Ft]|=256,e[Ss]&&function Re(t){if(S(t),Ze(t))for(let e=0;e<t.producerNode.length;e++)Me(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[Ss]),function A3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ra)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];nt(4,a,l);try{l.call(a)}finally{nt(5,a,l)}}else{nt(4,i,o);try{o.call(i)}finally{nt(5,i,o)}}}}}(t,e),function T3(t,e){const n=t.cleanup,r=e[da];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[da]=null);const i=e[Mo];if(null!==i){e[Mo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[et].type&&e[zt].destroy();const n=e[al];if(null!==n&&vi(e[Sr])){n!==e[Sr]&&tP(n,e);const r=e[yo];null!==r&&r.detachView(t)}!function a3(t){Aw.delete(t[ha])}(e)}}function Lw(t,e,n){return function nP(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Jn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===K.None||o===K.Emulated)return null}return Ai(r,n)}}(t,e.parent,n)}function au(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rP(t,e,n){t.appendChild(e,n)}function iP(t,e,n,r,i){null!==r?au(t,e,n,r,i):rP(t,e,n)}function Yv(t,e){return t.parentNode(e)}function oP(t,e,n){return aP(t,e,n)}let Vw,aP=function sP(t,e,n){return 40&t.type?Ai(t,n):null};function Qv(t,e,n,r){const i=Lw(t,r,e),o=e[zt],a=oP(r.parent||e[_i],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)iP(o,i,n[l],a,!1);else iP(o,i,n,a,!1);void 0!==Vw&&Vw(o,r,e,n,i)}function Xp(t,e){if(null!==e){const n=e.type;if(3&n)return Ai(e,t);if(4&n)return $w(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xp(t,r);{const i=t[e.index];return vi(i)?$w(-1,i):Rn(i)}}if(32&n)return Ow(e,t)()||Rn(t[e.index]);{const r=cP(t,e);return null!==r?Array.isArray(r)?r[0]:Xp(hs(t[ir]),r):Xp(t,e.next)}}return null}function cP(t,e){return null!==e?t[ir][_i].projection[e.projection]:null}function $w(t,e){const n=dr+t+1;if(n<e.length){const r=e[n],i=r[et].firstChild;if(null!==i)return Xp(r,i)}return e[eo]}function Uw(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Gi(Rn(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Uw(t,e,n.child,r,i,o,!1),Zd(e,t,i,a,o);else if(32&l){const u=Ow(n,r);let h;for(;h=u();)Zd(e,t,i,h,o);Zd(e,t,i,a,o)}else 16&l?dP(t,e,r,n,i,o):Zd(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zv(t,e,n,r,i,o){Uw(n,r,t.firstChild,e,i,o,!1)}function dP(t,e,n,r,i,o){const s=n[ir],l=s[_i].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Zd(e,t,i,l[u],o);else{let u=l;const h=s[Sr];bd(r)&&(u.flags|=128),Uw(t,e,u,h,i,o,!0)}}function hP(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fP(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Wo(t,e,r),null!==i&&hP(t,e,i),null!==o&&function N3(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}const tn={};function Jd(t=1){pP(fn(),we(),oi()+t,!1)}function pP(t,e,n,r){if(!r)if(3==(3&e[Ft])){const o=t.preOrderCheckHooks;null!==o&&Wn(e,o,n)}else{const o=t.preOrderHooks;null!==o&&zi(e,o,0,n)}gs(n)}function E(t,e=jt.Default){const n=we();return null===n?Ye(t,e):hM(An(),n,Bt(t),e)}function mP(t,e,n,r,i,o){const s=Z(null);try{let a=null;i&Cn.SignalBased&&(a=e[r][Ke]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Cn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),null!==t.setInput?t.setInput(e,a,o,n,r):Mv(e,a,r,o)}finally{Z(s)}}function Jv(t,e,n,r,i,o,s,a,l,u,h){const g=e.blueprint.slice();return g[Jn]=i,g[Ft]=204|r,(null!==u||t&&2048&t[Ft])&&(g[Ft]|=2048),V_(g),g[Sr]=g[ds]=t,g[Un]=n,g[xr]=s||t&&t[xr],g[zt]=a||t&&t[zt],g[Qr]=l||t&&t[Qr]||null,g[_i]=o,g[ha]=function o3(){return i3++}(),g[Ui]=h,g[ad]=u,g[ir]=2==e.type?t[ir]:g,g}function eh(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Bw(t,e,n,r,i){const o=gd(),s=md(),l=t.data[e]=function B3(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Nc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function kc(){return Ht.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Oc(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return to(o,!0),o}function Zp(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _P(t,e,n,r,i){const o=oi(),s=2&r;try{gs(-1),s&&e.length>Gt&&pP(t,e,Gt,!1),nt(s?2:0,i),n(r,i)}finally{gs(o),nt(s?3:1,i)}}function jw(t,e,n){if(Sc(e)){const r=Z(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Z(r)}}}function Hw(t,e,n){T0()&&(function K3(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ma(n)&&function tz(t,e,n){const r=Ai(e,t),i=vP(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=ey(t,Jv(t,i,null,s,r,e,null,t[xr].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fv(n,e),Gi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],u=su(e,t,a,n);Gi(u,e),null!==s&&nz(0,a-i,u,l,0,s),Ti(l)&&(Bi(n.index,e)[Un]=su(e,t,a,n))}}(t,e,n,Ai(n,e)),64==(64&n.flags)&&CP(t,e,n))}function zw(t,e,n=Ai){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function vP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Gw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gw(t,e,n,r,i,o,s,a,l,u,h){const g=Gt+r,m=g+i,v=function k3(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:tn);return n}(g,m),b="function"==typeof u?u():u;return v[et]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:h}}let yP=()=>null;function IP(t,e,n,r,i){for(let s in e){var o;if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;null!==(o=r)&&void 0!==o||(r={});let l,u=Cn.None;Array.isArray(a)?(l=a[0],u=a[1]):l=a;let h=s;if(null!==i){if(!i.hasOwnProperty(s))continue;h=i[s]}0===t?EP(r,n,h,l,u):EP(r,n,h,l)}return r}function EP(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],void 0!==i&&o.push(i)}function Eo(t,e,n,r,i,o,s,a){const l=Ai(e,n);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(Qw(t,n,h,r,i),ma(e)&&function z3(t,e){const n=Bi(e,t);16&n[Ft]||(n[Ft]|=64)}(n,e.index)):3&e.type&&(r=function H3(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function qw(t,e,n,r){if(T0()){const i=null===r?null:{"":-1},o=function Q3(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(nd(e,a.selectors,!1))if(r||(r=[]),Ti(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),Ww(t,e,l.length)}else r.unshift(a),Ww(t,e,0);else{var o;i=i||new Map,null===(o=a.findHostDirectiveDefs)||void 0===o||o.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&wP(t,e,n,s,i,a),i&&function X3(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Ce(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Dc(n.mergedAttrs,n.attrs)}function wP(t,e,n,r,i,o){for(let g=0;g<r.length;g++)mw(Fv(n,e),t,r[g].type);!function J3(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let g=0;g<r.length;g++){const m=r[g];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=Zp(t,e,r.length,null);for(let g=0;g<r.length;g++){const m=r[g];n.mergedAttrs=Dc(n.mergedAttrs,m.hostAttrs),ez(t,n,e,l,m),Z3(l,m,i),null!==m.contentQueries&&(n.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(n.flags|=64);const v=m.type.prototype;var u,h;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((null!==(u=t.preOrderHooks)&&void 0!==u?u:t.preOrderHooks=[]).push(n.index),s=!0),a||!v.ngOnChanges&&!v.ngDoCheck||((null!==(h=t.preOrderCheckHooks)&&void 0!==h?h:t.preOrderCheckHooks=[]).push(n.index),a=!0),l++}!function j3(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,u=null;for(let h=e.directiveStart;h<i;h++){const g=o[h],m=n?n.get(g):null,b=m?m.outputs:null;l=IP(0,g.inputs,h,l,m?m.inputs:null),u=IP(1,g.outputs,h,u,b);const A=null===l||null===s||A_(e)?null:rz(l,h,s);a.push(A)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(t,n,o)}function CP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function N0(){return Ht.lFrame.currentDirectiveIndex}();try{gs(o);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Fc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Y3(l,u)}}finally{gs(-1),Fc(s)}}function Y3(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ww(t,e,n){var r;e.componentOffset=n,(null!==(r=t.components)&&void 0!==r?r:t.components=[]).push(e.index)}function Z3(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ti(e)&&(n[""]=t)}}function ez(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Da(i.type)),s=new Ra(o,Ti(i),E);t.blueprint[r]=s,n[r]=s,function q3(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function W3(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Zp(t,n,i.hostVars,tn),i)}function Ls(t,e,n,r,i,o){const s=Ai(t,e);!function Kw(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?qt(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[zt],s,o,t.value,n,r,i)}function nz(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)mP(r,n,s[a++],s[a++],s[a++],s[a++])}function rz(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function bP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function DP(t,e){const n=t.contentQueries;if(null!==n){const r=Z(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=t.data[s];_d(n[i]),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function ey(t,e){return t[Ac]?t[sd][mi]=e:t[Ac]=e,t[sd]=e,e}function Yw(t,e,n){_d(0);const r=Z(null);try{e(t,n)}finally{Z(r)}}function ty(t,e){const n=t[Qr],r=n?n.get(Ma,null):null;r&&r.handleError(e)}function Qw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];mP(t.data[s],e[s],r,a,l,i)}}function xa(t,e,n){const r=function _a(t,e){return Rn(e[t])}(e,t);!function JM(t,e,n){t.setValue(e,n)}(t[zt],r,n)}function iz(t,e){const n=Bi(e,t),r=n[et];!function oz(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Jn];null!==i&&null===n[Ui]&&(n[Ui]=Ap(i,n[Qr])),Xw(r,n,n[Un])}function Xw(t,e,n){up(e);try{var r;const i=t.viewQuery;null!==i&&Yw(1,i,n);const o=t.template;null!==o&&_P(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),null===(r=e[yo])||void 0===r||r.finishViewCreation(t),t.staticContentQueries&&DP(t,e),t.staticViewQueries&&Yw(2,t.viewQuery,n);const s=t.components;null!==s&&function sz(t,e){for(let n=0;n<e.length;n++)iz(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Ft]&=-5,hp()}}function th(t,e){return!e||null===e.firstChild||bd(t)}function eg(t,e,n,r=!0){const i=e[et];if(function b3(t,e,n,r){const i=dr+r,o=n.length;r>0&&(n[i-1][mi]=e),r<o-dr?(e[mi]=n[i],yd(n,dr+r,e)):(n.push(e),e[mi]=null),e[Sr]=n;const s=e[al];null!==s&&n!==s&&function D3(t,e){const n=t[ga];e[ir]!==e[Sr][Sr][ir]&&(t[Ft]|=cd.HasTransplantedViews),null===n?t[ga]=[e]:n.push(e)}(s,e);const a=e[yo];null!==a&&a.insertView(t),rp(e),e[Ft]|=128}(i,e,t,n),r){const s=$w(n,t),a=e[zt],l=Yv(a,t[eo]);null!==l&&function w3(t,e,n,r,i,o){r[Jn]=i,r[_i]=e,Zv(t,r,n,1,i,o)}(i,t[_i],a,e,l,s)}const o=e[Ui];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function tg(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(Rn(o)),vi(o)&&MP(o,r);const s=n.type;if(8&s)tg(t,e,n.child,r);else if(32&s){const a=Ow(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=cP(e,n);if(Array.isArray(a))r.push(...a);else{const l=hs(e[ir]);tg(l[et],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MP(t,e){for(let n=dr;n<t.length;n++){const r=t[n],i=r[et].firstChild;null!==i&&tg(r[et],r,i,e)}t[eo]!==t[Jn]&&e.push(t[eo])}let PP=[];const uz={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pd(t.lView)},consumerOnSignalRead(){this.lView[Ss]=this}};function xP(t){return OP(t[Ac])}function NP(t){return OP(t[mi])}function OP(t){for(;null!==t&&!vi(t);)t=t[mi];return t}function ny(t,e=!0,n=0){const r=t[xr],i=r.rendererFactory;var s;null===(s=i.begin)||void 0===s||s.call(i);try{!function fz(t,e){Jw(t,e);let n=0;for(;np(t);){if(100===n)throw new Ce(103,!1);n++,Jw(t,1)}}(t,n)}catch(u){throw e&&ty(t,u),u}finally{var a,l;null===(a=i.end)||void 0===a||a.call(i),null===(l=r.inlineEffectRunner)||void 0===l||l.flush()}}function pz(t,e,n,r){var i;const o=e[Ft];if(256==(256&o))return;null===(i=e[xr].inlineEffectRunner)||void 0===i||i.flush(),up(e);let a=null,l=null;(function gz(t){return 2!==t.type})(t)&&(l=function az(t){var e;return null!==(e=t[Ss])&&void 0!==e?e:function lz(t){var e;const n=null!==(e=PP.pop())&&void 0!==e?e:Object.create(uz);return n.lView=t,n}(t)}(e),a=function z(t){return t&&(t.nextProducerIndex=0),Z(t)}(l));try{V_(e),function fs(t){return Ht.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_P(t,e,n,2,r);const u=3==(3&o);if(u){const m=t.preOrderCheckHooks;null!==m&&Wn(e,m,null)}else{const m=t.preOrderHooks;null!==m&&zi(e,m,0,null),Nl(e,0)}if(function mz(t){for(let e=xP(t);null!==e;e=NP(e)){if(!(e[Ft]&cd.HasTransplantedViews))continue;const n=e[ga];for(let r=0;r<n.length;r++){D0(n[r])}}}(e),FP(e,0),null!==t.contentQueries&&DP(t,e),u){const m=t.contentCheckHooks;null!==m&&Wn(e,m)}else{const m=t.contentHooks;null!==m&&zi(e,m,1),Nl(e,1)}!function O3(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)gs(~i);else{const o=i,s=n[++r],a=n[++r];Nr(s,o),a(2,e[o])}}}finally{gs(-1)}}(t,e);const h=t.components;null!==h&&VP(e,h,0);const g=t.viewQuery;if(null!==g&&Yw(2,g,r),u){const m=t.viewCheckHooks;null!==m&&Wn(e,m)}else{const m=t.viewHooks;null!==m&&zi(e,m,2),Nl(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[fa]){for(const m of e[fa])m();e[fa]=null}e[Ft]&=-73}catch(u){throw pd(e),u}finally{null!==l&&(function Y(t,e){if(Z(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ze(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Me(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,a),function cz(t){t.lView[Ss]!==t&&(t.lView=null,PP.push(t))}(l)),hp()}}function FP(t,e){for(let n=xP(t);null!==n;n=NP(n))for(let r=dr;r<n.length;r++)LP(n[r],e)}function _z(t,e,n){LP(Bi(e,t),n)}function LP(t,e){tp(t)&&Jw(t,e)}function Jw(t,e){const r=t[et],i=t[Ft],o=t[Ss];let s=!!(0===e&&16&i);if(s||(s=!!(64&i&&0===e)),s||(s=!!(1024&i)),s||(s=!(null==o||!o.dirty||!Pe(o))),o&&(o.dirty=!1),t[Ft]&=-9217,s)pz(r,t,r.template,t[Un]);else if(8192&i){FP(t,1);const a=r.components;null!==a&&VP(t,a,1)}}function VP(t,e,n){for(let r=0;r<e.length;r++)_z(t,e[r],n)}function ng(t){var e;for(null===(e=t[xr].changeDetectionScheduler)||void 0===e||e.notify();t;){t[Ft]|=64;const n=hs(t);if(Rc(t)&&!n)return t;t=n}return null}class rg{get rootNodes(){const e=this._lView,n=e[et];return tg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Un]}set context(e){this._lView[Un]=e}get destroyed(){return 256==(256&this._lView[Ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Sr];if(vi(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Qp(e,r),Id(n,r))}this._attachedToViewContainer=!1}Kv(this._lView[et],this._lView)}onDestroy(e){ip(this._lView,e)}markForCheck(){ng(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){rp(this._lView),this._lView[Ft]|=128}detectChanges(){this._lView[Ft]|=1024,ny(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,eP(this._lView[et],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=e,rp(this._lView)}}let vs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Iz,e})();const vz=vs,yz=class extends vz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return(null===(e=this._declarationTContainer.tView)||void 0===e?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Jp(t,e,n,r){var i,o;const s=e.tView,u=Jv(t,s,n,4096&t[Ft]?4096:16,null,e,null,null,null,null!==(i=null==r?void 0:r.injector)&&void 0!==i?i:null,null!==(o=null==r?void 0:r.dehydratedView)&&void 0!==o?o:null);u[al]=t[e.index];const g=t[yo];return null!==g&&(u[yo]=g.createEmbeddedView(s)),Xw(s,u,n),u}(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new rg(i)}};function Iz(){return function ry(t,e){return 4&t.type?new yz(e,t,pl(t,e)):null}(An(),we())}class GP{}class jz{}class qP{}class zz{resolveComponentFactory(e){throw function Hz(t){const e=Error(`No component factory found for ${rr(t)}.`);return e.ngComponent=t,e}(e)}}let ly=(()=>{class e{}return e.NULL=new zz,e})();class KP{}let Na=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function Gz(){const t=we(),n=Bi(An().index,t);return(Xr(n)?n:t)[zt]}(),e})(),qz=(()=>{var t;class e{}return(t=e).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>null}),e})();const oC={};function XP(t){const e=Z(null);try{return t()}finally{Z(e)}}function cy(t){return!!function sC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class ZP{constructor(){}supports(e){return cy(e)}create(e){return new Zz(e)}}const Xz=(t,e)=>e;class Zz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Xz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<ex(r,i,o)?n:r,a=ex(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,h=l-i;if(u!=h){for(let m=0;m<u;m++){const v=m<o.length?o[m]:o[m]=0,b=v+m;h<=b&&b<u&&(o[m]=v+1)}o[s.previousIndex]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!cy(e))throw new Ce(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Qz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jz(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new JP),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JP),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Jz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eG{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class JP{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new eG,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ex(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nx(){return new aC([new ZP])}let aC=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||nx()),deps:[[e,new Rl,new nu]]}}find(r){const i=this.factories.find(o=>o.supports(r));if(null!=i)return i;throw new Ce(901,!1)}}return(t=e).\u0275prov=Dt({token:t,providedIn:"root",factory:nx}),e})(),it=(()=>{class e{}return e.__NG_ELEMENT_ID__=iG,e})();function iG(t){return function oG(t,e,n){if(ma(t)&&!n){const r=Bi(t.index,e);return new rg(r,r)}return 47&t.type?new rg(e[ir],e):null}(An(),we(),16==(16&t))}let dy=(()=>{var t;class e{}return(t=e).__NG_ELEMENT_ID__=cG,t.__NG_ENV_ID__=n=>n,e})();class lG extends dy{constructor(e){super(),this._lView=e}onDestroy(e){return ip(this._lView,e),()=>function U_(t,e){if(null===t[Mo])return;const n=t[Mo].indexOf(e);-1!==n&&t[Mo].splice(n,1)}(this._lView,e)}}function cG(){return new lG(we())}const ix=new Set;function lu(t){var e,n;ix.has(t)||(ix.add(t),null===(e=performance)||void 0===e||null===(n=e.mark)||void 0===n||n.call(e,"mark_feature_usage",{detail:{feature:t}}))}function ox(...t){}class Te{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new st(!1),this.onMicrotaskEmpty=new st(!1),this.onStable=new st(!1),this.onError=new st(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gG(){const t="function"==typeof pe.requestAnimationFrame;let e=pe[t?"requestAnimationFrame":"setTimeout"],n=pe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function vG(t){const e=()=>{!function _G(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cC(t),t.isCheckStableRunning=!0,lC(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cC(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function yG(t){var e;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(e=t[0].data)||void 0===e?void 0:e.__ignore_ng_zone__)}(a))return n.invokeTask(i,o,s,a);try{return sx(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ax(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return sx(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ax(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,cC(t),lC(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Te.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(Te.isInAngularZone())throw new Ce(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mG,ox,ox);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const mG={};function lC(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cC(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function sx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ax(t){t._nesting--,lC(t)}class lx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new st,this.onMicrotaskEmpty=new st,this.onStable=new st,this.onError=new st}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}var cu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(cu||{});const cx={destroy(){}};function dx(t,e){var n,r,i;!e&&function Vp(t){if(!nv()&&!function K0(){return yl}())throw new Ce(-203,!1)}();const o=null!==(n=null==e?void 0:e.injector)&&void 0!==n?n:Be(fr);if(!function Fl(t){return"browser"===(null!=t?t:Be(fr)).get(Oo)}(o))return cx;lu("NgAfterNextRender");const s=o.get(lg),a=null!==(r=s.handler)&&void 0!==r?r:s.handler=new fx,l=null!==(i=null==e?void 0:e.phase)&&void 0!==i?i:cu.MixedReadWrite,u=()=>{a.unregister(g),h()},h=o.get(dy).onDestroy(u),g=new hx(o,l,()=>{u(),t()});return a.register(g),{destroy:u}}class hx{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(Te),this.errorHandler=e.get(Ma,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){var e;null===(e=this.errorHandler)||void 0===e||e.handleError(n)}}}class fx{constructor(){this.executingCallbacks=!1,this.buckets={[cu.EarlyRead]:new Set,[cu.Write]:new Set,[cu.MixedReadWrite]:new Set,[cu.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const n of e)n.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let lg=(()=>{var t;class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){var r;const i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const o of i)o();null===(r=this.handler)||void 0===r||r.execute()}ngOnDestroy(){var r;null===(r=this.handler)||void 0===r||r.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=e).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>new t}),e})();function fy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ar(i,a):2==o&&(r=Ar(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}class mx extends ly{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=rn(e);return new dg(n,this.ngModule)}}function _x(t){const e=[];for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}class DG{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Od(r);const i=this.injector.get(e,oC,r);return i!==oC||n===oC?i:this.parentInjector.get(e,n,r)}}class dg extends qP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=_x(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _x(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Ko(t){return t.map(y0).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){var s;let a=(i=i||this.ngModule)instanceof si?i:null===(s=i)||void 0===s?void 0:s.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const l=a?new DG(e,a):e,u=l.get(KP,null);if(null===u)throw new Ce(407,!1);const v={rendererFactory:u,sanitizer:l.get(qz,null),inlineEffectRunner:null,afterRenderEventManager:l.get(lg,null),changeDetectionScheduler:l.get(GP,null)},b=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?function F3(t,e,n,r){const o=r.get(TM,!1)||n===K.ShadowDom,s=t.selectRootElement(e,o);return function L3(t){yP(t)}(s),s}(b,r,this.componentDef.encapsulation,l):Wv(b,A,function bG(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(A));let H=512;this.componentDef.signals?H|=4096:this.componentDef.onPush||(H|=16);let U=null;null!==R&&(U=Ap(R,l,!0));const de=Gw(0,null,null,1,0,null,null,null,null,null,null),ge=Jv(null,de,null,H,null,null,v,b,l,null,U);let Qe,yt;up(ge);try{const _n=this.componentDef;let nr,el=null;_n.findHostDirectiveDefs?(nr=[],el=new Map,_n.findHostDirectiveDefs(_n,nr,el),nr.push(_n)):nr=[_n];const g0=function AG(t,e){const n=t[et],r=Gt;return t[r]=e,eh(n,r,2,"#host",null)}(ge,R),oue=function SG(t,e,n,r,i,o,s){const a=i[et];!function RG(t,e,n,r){for(const i of t)e.mergedAttrs=Dc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(fy(e,e.mergedAttrs,!0),null!==n&&fP(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Ap(e,i[Qr]));const u=o.rendererFactory.createRenderer(e,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const g=Jv(i,vP(n),null,h,i[t.index],t,o,u,null,null,l);return a.firstCreatePass&&Ww(a,t,r.length-1),ey(i,g),i[t.index]=g}(g0,R,_n,nr,ge,v,b);yt=xc(de,Gt),R&&function PG(t,e,n,r){if(r)Wo(t,n,["ng-version","17.2.2"]);else{const{attrs:i,classes:o}=function I0(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ji(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Wo(t,n,i),o&&o.length>0&&hP(t,n,o.join(" "))}}(b,_n,R,r),void 0!==n&&function xG(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(yt,this.ngContentSelectors,n),Qe=function MG(t,e,n,r,i,o){const s=An(),a=i[et],l=Ai(s,i);wP(a,i,s,n,null,r);for(let h=0;h<n.length;h++)Gi(su(i,a,s.directiveStart+h,s),i);CP(a,i,s),l&&Gi(l,i);const u=su(i,a,s.directiveStart+s.componentOffset,s);if(t[Un]=i[Un]=u,null!==o)for(const h of o)h(u,e);return jw(a,s,i),u}(oue,_n,nr,el,ge,[NG]),Xw(de,ge,null)}finally{hp()}return new TG(this.componentType,Qe,pl(yt,ge),ge,yt)}}class TG extends jz{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new rg(i,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){var o;if(null!==(o=this.previousInputValues)&&void 0!==o||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Qw(s[et],s,i,e,n),this.previousInputValues.set(e,n),ng(Bi(this._tNode.index,s))}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function NG(){const t=An();Et(we()[et],t)}let Jo=(()=>{class e{}return e.__NG_ELEMENT_ID__=OG,e})();function OG(){return function Ix(t,e){let n;const r=e[t.index];return vi(r)?n=r:(n=bP(r,e,null,t),e[t.index]=n,ey(e,n)),Ex(n,e,t,r),new vx(n,t,e)}(An(),we())}const kG=Jo,vx=class extends kG{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const e=Lv(this._hostTNode,this._hostLView);if(fw(e)){const n=Gp(e,this._hostLView),r=zp(e);return new ai(n[et].data[r+8],n)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=yx(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-dr}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,th(this._hostTNode,null)),a}createComponent(e,n,r,i,o){var s,l;const u=e&&!function iu(t){return"function"==typeof t}(e);let h;if(u)h=n;else{const H=n||{};h=H.index,r=H.injector,i=H.projectableNodes,o=H.environmentInjector||H.ngModuleRef}const g=u?e:new dg(rn(e)),m=r||this.parentInjector;if(!o&&null==g.ngModule){const U=(u?m:this.parentInjector).get(si,null);U&&(o=U)}const v=rn(null!==(s=g.componentType)&&void 0!==s?s:{}),b=(null==v?void 0:v.id,null),A=null!==(l=null==b?void 0:b.firstChild)&&void 0!==l?l:null,R=g.create(m,i,A,o);return this.insertImpl(R.hostView,h,th(this._hostTNode,b)),R}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const i=e._lView;if(function hl(t){return vi(t[Sr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Sr],u=new vx(l,l[_i],l[Sr]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;return eg(s,i,o,r),e.attachToViewContainerRef(),yd(hC(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=yx(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Qp(this._lContainer,n);r&&(Id(hC(this._lContainer),n),Kv(r[et],r))}detach(e){const n=this._adjustIndex(e,-1),r=Qp(this._lContainer,n);return r&&null!=Id(hC(this._lContainer),n)?new rg(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function yx(t){return t[8]}function hC(t){return t[8]||(t[8]=[])}let Ex=function Cx(t,e,n,r){if(t[eo])return;let i;i=8&n.type?Rn(r):function FG(t,e){const n=t[zt],r=n.createComment(""),i=Ai(e,t);return au(n,Yv(n,i),r,function R3(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[eo]=i},fC=()=>!1;function nn(t){let e=function Bx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ce(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=gy(t.inputs),s.inputTransforms=gy(t.inputTransforms),s.declaredInputs=gy(t.declaredInputs),s.outputs=gy(t.outputs);const a=i.hostBindings;a&&o6(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&r6(t,l),u&&i6(t,u),t6(t,i),St(t.outputs,i.outputs),Ti(i)&&i.data.animation){const h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===nn&&(n=!1)}}e=Object.getPrototypeOf(e)}!function n6(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Dc(i.hostAttrs,n=Dc(n,i.hostAttrs))}}(r)}function t6(t,e){for(const r in e.inputs){if(!e.inputs.hasOwnProperty(r)||t.inputs.hasOwnProperty(r))continue;const i=e.inputs[r];if(void 0!==i&&(t.inputs[r]=i,t.declaredInputs[r]=e.declaredInputs[r],null!==e.inputTransforms)){var n;const o=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(o))continue;null!==(n=t.inputTransforms)&&void 0!==n||(t.inputTransforms={}),t.inputTransforms[o]=e.inputTransforms[o]}}}function gy(t){return t===Oe?{}:t===Se?[]:t}function r6(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function i6(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function o6(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Gx(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}class uu{}class qx{}class wC extends uu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mx(this);const i=Pr(e);this._bootstrapComponents=ko(i.bootstrap),this._r3Injector=wM(e,n,[{provide:uu,useValue:this},{provide:ly,useValue:this.componentFactoryResolver},...r],rr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class CC extends qx{constructor(e){super(),this.moduleType=e}create(e){return new wC(this.moduleType,e,[])}}class Wx extends uu{constructor(e){super(),this.componentFactoryResolver=new mx(this),this.instance=null;const n=new Jr([...e.providers,{provide:uu,useValue:this},{provide:ly,useValue:this.componentFactoryResolver}],e.parent||Pl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function bC(t,e,n=null){return new Wx({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let fg=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new q(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function $r(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ul(t,e,n,r,i,o,s,a){const l=we(),u=fn(),h=t+Gt,g=u.firstCreatePass?function p6(t,e,n,r,i,o,s,a,l){const u=e.consts,h=eh(e,t,4,s||null,Po(u,a));qw(e,n,h,Po(u,l)),Et(e,h);const g=h.tView=Gw(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),g.queries=e.queries.embeddedTView(h)),h}(h,u,l,e,n,r,i,o,s):u.data[h];to(g,!1);const m=Kx(u,l,g,t);vd()&&Qv(u,l,m,g),Gi(m,l);const v=bP(m,l,m,g);return l[h]=v,ey(l,v),function wx(t,e,n){return fC(t,e,n)}(v,g,l),ul(g)&&Hw(u,l,g),null!=s&&zw(l,g,a),Ul}let Kx=function Yx(t,e,n,r){return Ms(!0),e[zt].createComment("")};function ns(t,e,n,r){const i=we();return $r(i,xo(),e)&&(fn(),Ls(qn(),i,t,e,n,r)),ns}function dh(t,e,n,r){return $r(t,xo(),n)?e+qt(n)+r:tn}function pu(t,e,n){const r=we();return $r(r,xo(),e)&&Eo(fn(),qn(),r,t,e,r[zt],n,!1),pu}function LC(t,e,n,r,i){const s=i?"class":"style";Qw(t,n,e.inputs[s],s,r)}function Ct(t,e,n,r){const i=we(),o=fn(),s=Gt+t,a=i[zt],l=o.firstCreatePass?function Lq(t,e,n,r,i,o){const s=e.consts,l=eh(e,t,2,r,Po(s,i));return qw(e,n,l,Po(s,o)),null!==l.attrs&&fy(l,l.attrs,!1),null!==l.mergedAttrs&&fy(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],u=HN(o,i,l,a,e,t);i[s]=u;const h=ul(l);return to(l,!0),fP(a,u,l),32!=(32&l.flags)&&vd()&&Qv(o,i,u,l),0===function qR(){return Ht.lFrame.elementDepthCount}()&&Gi(u,i),function WR(){Ht.lFrame.elementDepthCount++}(),h&&(Hw(o,i,l),jw(o,l,i)),null!==r&&zw(i,l),Ct}function on(){let t=An();md()?ap():(t=t.parent,to(t,!1));const e=t;(function op(t){return Ht.skipHydrationRootTNode===t})(e)&&function S0(){Ht.skipHydrationRootTNode=null}(),function KR(){Ht.lFrame.elementDepthCount--}();const n=fn();return n.firstCreatePass&&(Et(n,t),Sc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Nv(t){return 0!=(8&t.flags)}(e)&&LC(n,e,we(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hw(t){return 0!=(16&t.flags)}(e)&&LC(n,e,we(),e.stylesWithoutHost,!1),on}function dn(t,e,n,r){return Ct(t,e,n,r),on(),dn}let HN=(t,e,n,r,i,o)=>(Ms(!0),Wv(r,i,function L0(){return Ht.lFrame.currentNamespace}()));const Eh="en-US";let YN=Eh;function Dn(t,e,n,r){const i=we(),o=fn(),s=An();return function WC(t,e,n,r,i,o,s){const a=ul(r),u=t.firstCreatePass&&function AP(t){return t.cleanup||(t.cleanup=[])}(t),h=e[Un],g=function TP(t){return t[da]||(t[da]=[])}(e);let m=!0;if(3&r.type||s){const A=Ai(r,e),R=s?s(A):A,H=g.length,U=s?ge=>s(Rn(ge[r.index])):r.index;let de=null;if(!s&&a&&(de=function UW(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[da],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==de)(de.__ngLastListenerFn__||de).__ngNextListenerFn__=o,de.__ngLastListenerFn__=o,m=!1;else{o=w1(r,e,h,o,!1);const ge=n.listen(R,i,o);g.push(o,ge),u&&u.push(i,U,H,H+1)}}else o=w1(r,e,h,o,!1);const v=r.outputs;let b;if(m&&null!==v&&(b=v[i])){const A=b.length;if(A)for(let R=0;R<A;R+=2){const Qe=e[b[R]][b[R+1]].subscribe(o),yt=g.length;g.push(o,Qe),u&&u.push(i,r.index,yt,"function"==typeof Qe?yt+1:-(yt+1))}}}(o,i,i[zt],s,t,e,r),Dn}function E1(t,e,n,r){try{return nt(6,e,n),!1!==n(r)}catch(i){return ty(t,i),!1}finally{nt(7,e,n)}}function w1(t,e,n,r,i){return function o(s){if(s===Function)return r;ng(t.componentOffset>-1?Bi(t.index,e):e);let l=E1(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)l=E1(e,n,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function BW(t,e){let n=null;const r=function v0(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?nd(t,o,!0):us(r,o))return i}else n=i}return n}function ut(t){const e=we()[ir][_i];if(!e.projection){const r=e.projection=function Ed(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?BW(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function ct(t,e=0,n){const r=we(),i=fn(),o=eh(i,Gt+t,16,null,n||null);null===o.projection&&(o.projection=e),ap(),(!r[Ui]||Nc())&&32!=(32&o.flags)&&function M3(t,e,n){dP(e[zt],0,e,n,Lw(t,n,e),oP(n.parent||e[_i],n,e))}(i,r,o)}function YC(t,e,n){return QC(t,"",e,"",n),YC}function QC(t,e,n,r,i){const o=we(),s=dh(o,e,n,r);return s!==tn&&Eo(fn(),qn(),o,t,s,o[zt],i,!1),QC}function er(t,e=""){const n=we(),r=fn(),i=t+Gt,o=r.firstCreatePass?eh(r,i,1,e,null):r.data[i],s=U1(r,n,o,e,t);n[i]=s,vd()&&Qv(r,n,s,o),to(o,!1)}let U1=(t,e,n,r,i)=>(Ms(!0),function qv(t,e){return t.createText(e)}(e[zt],r));function Py(t){return ZC("",t,""),Py}function ZC(t,e,n){const r=we(),i=dh(r,t,e,n);return i!==tn&&xa(r,oi(),i),ZC}function JC(t,e,n,r,i){if(t=Bt(t),Array.isArray(t))for(let o=0;o<t.length;o++)JC(t[o],e,n,r,i);else{const o=fn(),s=we(),a=An();let l=Ta(t)?t:Bt(t.provide);const u=jd(t),h=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Ta(t)||!t.multi){const v=new Ra(u,i,E),b=tb(l,e,i?h:h+m,g);-1===b?(mw(Fv(a,s),o,l),eb(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[b]=v,s[b]=v)}else{const v=tb(l,e,h+m,g),b=tb(l,e,h,h+m),R=b>=0&&n[b];if(i&&!R||!i&&!(v>=0&&n[v])){mw(Fv(a,s),o,l);const H=function l5(t,e,n,r,i){const o=new Ra(t,n,E);return o.multi=[],o.index=e,o.componentProviders=0,X1(o,i,r&&!n),o}(i?a5:s5,n.length,i,r,u);!i&&R&&(n[b].providerFactory=H),eb(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else eb(o,t,v>-1?v:b,X1(n[i?b:v],u,!i&&r));!i&&r&&R&&n[b].componentProviders++}}}function eb(t,e,n,r){const i=Ta(e),o=function Cv(t){return!!t.useClass}(e);if(i||o){const l=(o?Bt(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(n);-1===h?u.push(n,[r,l]):u[h+1].push(r,l)}else u.push(n,l)}}}function X1(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function s5(t,e,n,r){return nb(this.multi,[])}function a5(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=su(n,n[et],this.providerFactory.index,r);o=a.slice(0,s),nb(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],nb(i,o);return o}function nb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>function o5(t,e,n){const r=fn();if(r.firstCreatePass){const i=Ti(t);JC(n,r.data,r.blueprint,i,!0),JC(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}let c5=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=vv(0,r.type),o=i.length>0?bC([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=Dt({token:t,providedIn:"environment",factory:()=>new t(Ye(si))}),e})();function Z1(t){lu("NgStandalone"),t.getStandaloneInjector=e=>e.get(c5).getOrCreateStandaloneInjector(t)}function aO(t,e,n,r,i,o){const s=e+n;return $r(t,s,i)?function Vs(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function bg(t,e){const n=t[e];return n===tn?void 0:n}(t,s+1)}function fO(t,e,n){const r=t+Gt,i=we(),o=function dl(t,e){return t[e]}(i,r);return function Dg(t,e){return t[et].data[e].pure}(i,r)?aO(i,function Zr(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,o):o.transform(n)}class Dh{constructor(e){this.full=e;const n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const n9=new Dh("17.2.2");let RO=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const NO=new rt(""),ky=new rt("");let hb,ub=(()=>{var t;class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,hb||(function S9(t){hb=t}(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Te),Ye(db),Ye(ky))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})(),db=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){var o,s;return null!==(o=null===(s=hb)||void 0===s?void 0:s.findTestabilityInTree(this,r,i))&&void 0!==o?o:null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function Sg(t){return!!t&&"function"==typeof t.then}function OO(t){return!!t&&"function"==typeof t.subscribe}const Fy=new rt("");let fb=(()=>{var t;class e{constructor(){var r;this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o}),this.appInits=null!==(r=Be(Fy,{optional:!0}))&&void 0!==r?r:[]}runInitializers(){if(this.initialized)return;const r=[];for(const o of this.appInits){const s=o();if(Sg(s))r.push(s);else if(OO(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const pb=new rt("");function LO(t,e){return Array.isArray(e)?e.reduce(LO,t):{...t,...e}}let Gl=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Be(bM),this.afterRenderEffectManager=Be(lg),this.componentTypes=[],this.components=[],this.isStable=Be(fg).hasPendingTasks.pipe(wt(r=>!r)),this._injector=Be(si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const o=r instanceof qP;if(!this._injector.get(fb).done)throw!o&&function As(t){const e=rn(t)||Zn(t)||ii(t);return null!==e&&e.standalone}(r),new Ce(405,!1);let a;a=o?r:this._injector.get(ly).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const l=function R9(t){return t.isBoundToModule}(a)?void 0:this._injector.get(uu),h=a.create(fr.NULL,[],i||a.selector,l),g=h.location.nativeElement,m=h.injector.get(NO,null);return null==m||m.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Ly(this.components,h),null==m||m.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(100===r)throw new Ce(103,!1);const i=0===r;for(let{_lView:o,notifyErrorHandler:s}of this._views)!i&&!VO(o)||this.detectChangesInView(o,s,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>VO(i)))}detectChangesInView(r,i,o){let s;o?(s=0,r[Ft]|=1024):s=64&r[Ft]?0:1,ny(r,i,s)}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;Ly(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(pb,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ly(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ce(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ly(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function VO(t){return np(t)}class P9{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let $O=(()=>{var t;class e{compileModuleSync(r){return new CC(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),s=ko(Pr(r).declarations).reduce((a,l)=>{const u=rn(l);return u&&a.push(new dg(u)),a},[]);return new P9(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),O9=(()=>{var t;class e{constructor(){this.zone=Be(Te),this.applicationRef=Be(Gl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;null===(r=this._onMicrotaskEmptySubscription)||void 0===r||r.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function k9(){const t=Be(Te),e=Be(Ma);return n=>t.runOutsideAngular(()=>e.handleError(n))}let L9=(()=>{var t;class e{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=Be(Te),this.pendingTasks=Be(fg)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var i;Te.assertInAngularZone(),null!==(i=r)&&void 0!==i||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Oa=new rt("",{providedIn:"root",factory:()=>Be(Oa,jt.Optional|jt.SkipSelf)||function V9(){return typeof $localize<"u"&&$localize.locale||Eh}()}),gb=new rt("");let HO=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const o=function IG(t="zone.js",e){return"noop"===t?new lx:"zone.js"===t?new Te(e):t}(null==i?void 0:i.ngZone,function jO(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(e=null==t?void 0:t.eventCoalescing)&&void 0!==e&&e,shouldCoalesceRunChangeDetection:null!==(n=null==t?void 0:t.runCoalescing)&&void 0!==n&&n}}({eventCoalescing:null==i?void 0:i.ngZoneEventCoalescing,runCoalescing:null==i?void 0:i.ngZoneRunCoalescing}));return o.run(()=>{const s=function f6(t,e,n){return new wC(t,e,n)}(r.moduleType,this.injector,function BO(t){return[{provide:Te,useFactory:t},{provide:Xo,multi:!0,useFactory:()=>{const e=Be(O9,{optional:!0});return()=>e.initialize()}},{provide:Xo,multi:!0,useFactory:()=>{const e=Be(L9);return()=>{e.initialize()}}},{provide:bM,useFactory:k9}]}(()=>o)),a=s.injector.get(Ma,null);return o.runOutsideAngular(()=>{const l=o.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Ly(this._modules,s),l.unsubscribe()})}),function FO(t,e,n){try{const r=n();return Sg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,o,()=>{const l=s.injector.get(fb);return l.runInitializers(),l.donePromise.then(()=>(function QN(t){"string"==typeof t&&(YN=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Oa,Eh)||Eh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(r,i=[]){const o=LO({},i);return function N9(t,e,n){const r=new CC(n);return Promise.resolve(r)}(0,0,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){const i=r.injector.get(Gl);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!r.instance.ngDoBootstrap)throw new Ce(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(gb,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(fr))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),ql=null;const zO=new rt("");function GO(t,e,n=[]){const r=`Platform: ${e}`,i=new rt(r);return(o=[])=>{let s=mb();if(!s||s.injector.get(zO,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function B9(t){if(ql&&!ql.get(zO,!1))throw new Ce(400,!1);(function kO(){!function Ee(t){It=t}(()=>{throw new Ce(600,!1)})})(),ql=t;const e=t.get(HO);(function WO(t){const e=t.get(W_,null);null==e||e.forEach(n=>n())})(t)}(function qO(t=[],e){return fr.create({name:e,providers:[{provide:ru,useValue:"platform"},{provide:gb,useValue:new Set([()=>ql=null])},...t]})}(a,r))}return function j9(t){const e=mb();if(!e)throw new Ce(401,!1);return e}()}}function mb(){var t,e;return null!==(t=null===(e=ql)||void 0===e?void 0:e.get(HO))&&void 0!==t?t:null}const W9=GO(null,"core",[]);let K9=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Gl))},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({}),e})();function Ah(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function yk(t){const e=rn(t);if(!e)return null;const n=new dg(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}let Cb=null;function Wl(){return Cb}class b8{}const Co=new rt("");let bb=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(T8),providedIn:"platform"}),e})();const D8=new rt("");let T8=(()=>{var t;class e extends bb{constructor(){super(),this._doc=Be(Co),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wl().getBaseHref(this._doc)}onPopState(r){const i=Wl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Wl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>new t,providedIn:"platform"}),e})();function Db(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ik(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ka(t){return t&&"?"!==t[0]?"?"+t:t}let Fa=(()=>{var t;class e{historyGo(r){throw new Error("")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(wk),providedIn:"root"}),e})();const Ek=new rt("");let wk=(()=>{var t;class e extends Fa{constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=null!==(o=null!==(s=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(a=Be(Co).location)||void 0===a?void 0:a.origin)&&void 0!==o?o:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Db(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ka(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){const a=this.prepareExternalUrl(o+ka(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){const a=this.prepareExternalUrl(o+ka(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(bb),Ye(Ek,8))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),A8=(()=>{var t;class e extends Fa{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var i;const o=null!==(i=this._platformLocation.hash)&&void 0!==i?i:"#";return o.length>0?o.substring(1):o}prepareExternalUrl(r){const i=Db(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ka(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ka(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;null===(i=(o=this._platformLocation).historyGo)||void 0===i||i.call(o,r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(bb),Ye(Ek,8))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})(),Kl=(()=>{var t;class e{constructor(r){this._subject=new st,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function M8(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Ik(Ck(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ka(i))}normalize(r){return e.stripTrailingSlash(function R8(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Ck(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ka(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ka(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;null===(i=(o=this._locationStrategy).historyGo)||void 0===i||i.call(o,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),null!==(i=this._urlChangeSubscription)&&void 0!==i||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(r);var s;this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(null===(s=this._urlChangeSubscription)||void 0===s||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}}return(t=e).normalizeQueryParams=ka,t.joinWithSlash=Db,t.stripTrailingSlash=Ik,t.\u0275fac=function(r){return new(r||t)(Ye(Fa))},t.\u0275prov=Dt({token:t,factory:()=>function S8(){return new Kl(Ye(Fa))}(),providedIn:"root"}),e})();function Ck(t){return t.replace(/\/index.html$/,"")}class _7{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ok=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new _7(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),kk(l,o)}});for(let o=0,s=i.length;o<s;o++){const l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{kk(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Jo),E(vs),E(aC))},t.\u0275dir=Pt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function kk(t,e){t.context.$implicit=e.item}class b7{createSubscription(e,n){return XP(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){XP(()=>e.unsubscribe())}}class D7{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const T7=new D7,A7=new b7;let Vk=(()=>{var t;class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Sg(r))return T7;if(OO(r))return A7;throw function ws(t,e){return new Ce(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(it,16))},t.\u0275pipe=$i({name:"async",type:t,pure:!1,standalone:!0}),e})(),Uk=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({}),e})();const Bk="browser";function tI(t){return"server"===t}let Y7=(()=>{var t;class e{}return(t=e).\u0275prov=Dt({token:t,providedIn:"root",factory:()=>function K7(t){return t===Bk}(Be(Oo))?new Q7(Be(Co),window):new Z7}),e})();class Q7{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const n=function X7(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class Z7{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class AK extends b8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hb extends AK{static makeCurrent(){!function C8(t){var e;null!==(e=Cb)&&void 0!==e||(Cb=t)}(new Hb)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function SK(){return Fg=Fg||document.querySelector("base"),Fg?Fg.getAttribute("href"):null}();return null==n?null:function RK(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){Fg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function p7(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Fg=null,PK=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();const zb=new rt("");let Qk=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new Ce(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(zb),Ye(Te))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();class Xk{constructor(e){this._doc=e}}const Gb="ng-app-id";let Zk=(()=>{var t;class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=tI(s),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){var i;const o=this.styleRef;null===(i=o.get(r))||void 0===i||null===(i=i.elements)||void 0===i||i.forEach(s=>s.remove()),o.delete(r)}collectServerRenderedStyles(){var r;const i=null===(r=this.doc.head)||void 0===r?void 0:r.querySelectorAll(`style[${Gb}="${this.appId}"]`);if(null!=i&&i.length){const o=new Map;return i.forEach(s=>{null!=s.textContent&&o.set(s.textContent,s)}),o}return null}changeUsageCount(r,i){const o=this.styleRef;if(o.has(r)){const s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const o=this.styleNodesInDOM,s=null==o?void 0:o.get(i);if((null==s?void 0:s.parentNode)===r)return o.delete(i),s.removeAttribute(Gb),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Gb,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){var o;const s=this.getStyleElement(r,i),a=this.styleRef,l=null===(o=a.get(i))||void 0===o?void 0:o.elements;l?l.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Co),Ye(Td),Ye(Ad,8),Ye(Oo))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();const qb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wb=/%COMP%/g,kK=new rt("",{providedIn:"root",factory:()=>!0});function eF(t,e){return e.map(n=>n.replace(Wb,t))}let tF=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=tI(l),this.defaultRenderer=new Kb(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===K.ShadowDom&&(i={...i,encapsulation:K.Emulated});const o=this.getOrCreateRenderer(r,i);return o instanceof rF?o.applyToHost(r):o instanceof Yb&&o.applyStyles(),o}getOrCreateRenderer(r,i){const o=this.rendererByCompId;let s=o.get(i.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case K.Emulated:s=new rF(u,h,i,this.appId,g,a,l,m);break;case K.ShadowDom:return new $K(u,h,r,i,a,l,this.nonce,m);default:s=new Yb(u,h,i,g,a,l,m)}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Qk),Ye(Zk),Ye(Td),Ye(kK),Ye(Co),Ye(Oo),Ye(Te),Ye(Ad))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();class Kb{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(qb[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(nF(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(nF(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Ce(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=qb[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=qb[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ll.DashCase|Ll.Important)?e.style.setProperty(n,r,i&Ll.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ll.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Wl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function nF(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class $K extends Kb{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=eF(i.id,i.styles);for(const h of u){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=h,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yb extends Kb{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?eF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class rF extends Yb{constructor(e,n,r,i,o,s,a,l){const u=i+"-"+r.id;super(e,n,r,o,s,a,l,u),this.contentAttr=function FK(t){return"_ngcontent-%COMP%".replace(Wb,t)}(u),this.hostAttr=function LK(t){return"_nghost-%COMP%".replace(Wb,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let UK=(()=>{var t;class e extends Xk{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Co))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();const iF=["alt","control","meta","shift"],BK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jK={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let HK=(()=>{var t;class e extends Xk{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,o){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wl().onAndCancel(r,s.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const s=e._normalizeKey(i.pop());let a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),iF.forEach(h=>{const g=i.indexOf(h);g>-1&&(i.splice(g,1),a+=h+".")}),a+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=BK[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),iF.forEach(a=>{a!==o&&(0,jK[a])(r)&&(s+=a+".")}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Co))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();const sF=[{provide:Oo,useValue:Bk},{provide:W_,useValue:function zK(){Hb.makeCurrent()},multi:!0},{provide:Co,useFactory:function qK(){return function Ea(t){Ia=t}(document),document},deps:[]}],WK=GO(W9,"browser",sF),KK=new rt(""),aF=[{provide:ky,useClass:class MK{addToWindow(e){pe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Ce(5103,!1);return o},pe.getAllAngularTestabilities=()=>e.getAllTestabilities(),pe.getAllAngularRootElements=()=>e.getAllRootElements(),pe.frameworkStabilizers||(pe.frameworkStabilizers=[]),pe.frameworkStabilizers.push(r=>{const i=pe.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Wl().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:NO,useClass:ub,deps:[Te,db,ky]},{provide:ub,useClass:ub,deps:[Te,db,ky]}],lF=[{provide:ru,useValue:"root"},{provide:Ma,useFactory:function GK(){return new Ma},deps:[]},{provide:zb,useClass:UK,multi:!0,deps:[Co,Te,Oo]},{provide:zb,useClass:HK,multi:!0,deps:[Co]},tF,Zk,Qk,{provide:KP,useExisting:tF},{provide:class J7{},useClass:PK,deps:[]},[]];let YK=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Td,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(KK,12))},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({providers:[...lF,...aF],imports:[Uk,K9]}),e})(),QK=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Co))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var ot=oe(1316);const Qb=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function hF(t){return gt(null==t?void 0:t.then)}function fF(t){return gt(t[gi])}function pF(t){return Symbol.asyncIterator&&gt(null==t?void 0:t[Symbol.asyncIterator])}function gF(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const mF=function tY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _F(t){return gt(null==t?void 0:t[mF])}function vF(t){return(0,ot.o7)(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield(0,ot.U1)(n.read());if(i)return yield(0,ot.U1)(void 0);yield yield(0,ot.U1)(r)}}finally{n.releaseLock()}})}function yF(t){return gt(null==t?void 0:t.getReader)}function bo(t){if(t instanceof Sn)return t;if(null!=t){if(fF(t))return function nY(t){return new Sn(e=>{const n=t[gi]();if(gt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Qb(t))return function rY(t){return new Sn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(hF(t))return function iY(t){return new Sn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zn)})}(t);if(pF(t))return IF(t);if(_F(t))return function oY(t){return new Sn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(yF(t))return function sY(t){return IF(vF(t))}(t)}throw gF(t)}function IF(t){return new Sn(e=>{(function aY(t,e){var n,r,i,o;return(0,ot.kH)(this,void 0,void 0,function*(){try{for(n=(0,ot.mA)(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $a(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Yl(t,e=0){return _t((n,r)=>{n.subscribe(xt(r,i=>$a(r,t,()=>r.next(i),e),()=>$a(r,t,()=>r.complete(),e),i=>$a(r,t,()=>r.error(i),e)))})}function Rh(t,e=0){return _t((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function EF(t,e){if(!t)throw new Error("Iterable cannot be null");return new Sn(n=>{$a(n,e,()=>{const r=t[Symbol.asyncIterator]();$a(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Bn(t,e){return e?function fY(t,e){if(null!=t){if(fF(t))return function lY(t,e){return bo(t).pipe(Rh(e),Yl(e))}(t,e);if(Qb(t))return function uY(t,e){return new Sn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(hF(t))return function cY(t,e){return bo(t).pipe(Rh(e),Yl(e))}(t,e);if(pF(t))return EF(t,e);if(_F(t))return function dY(t,e){return new Sn(n=>{let r;return $a(n,e,()=>{r=t[mF](),$a(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>gt(null==r?void 0:r.return)&&r.return()})}(t,e);if(yF(t))return function hY(t,e){return EF(vF(t),e)}(t,e)}throw gF(t)}(t,e):bo(t)}function Xb(t){return t[t.length-1]}function Vg(t){return function pY(t){return t&&gt(t.schedule)}(Xb(t))?t.pop():void 0}function Vt(...t){return Bn(t,Vg(t))}const{isArray:mY}=Array,{getPrototypeOf:_Y,prototype:vY,keys:yY}=Object;const{isArray:EY}=Array;function Zb(t){return wt(e=>function wY(t,e){return EY(e)?t(...e):t(e)}(t,e))}function iI(...t){const e=Vg(t),n=function wF(t){return gt(Xb(t))?t.pop():void 0}(t),{args:r,keys:i}=function CF(t){if(1===t.length){const e=t[0];if(mY(e))return{args:e,keys:null};if(function IY(t){return t&&"object"==typeof t&&_Y(t)===vY}(e)){const n=yY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return Bn([],e);const o=new Sn(function CY(t,e,n=ur){return r=>{DF(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)DF(e,()=>{const u=Bn(t[l],e);let h=!1;u.subscribe(xt(r,g=>{o[l]=g,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>function bF(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,s):ur));return n?o.pipe(Zb(n)):o}function DF(t,e,n){t?$a(n,t,e):e()}const oI=Ae(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Si(t,e,n=1/0){return gt(e)?Si((r,i)=>wt((o,s)=>e(r,o,i,s))(bo(t(r,i))),n):("number"==typeof e&&(n=e),_t((r,i)=>function bY(t,e,n,r,i,o,s,a){const l=[];let u=0,h=0,g=!1;const m=()=>{g&&!l.length&&!u&&e.complete()},v=A=>u<r?b(A):l.push(A),b=A=>{o&&e.next(A),u++;let R=!1;bo(n(A,h++)).subscribe(xt(e,H=>{null==i||i(H),o?v(H):e.next(H)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){const H=l.shift();s?$a(e,s,()=>b(H)):b(H)}m()}catch(H){e.error(H)}}))};return t.subscribe(xt(e,v,()=>{g=!0,m()})),()=>{null==a||a()}}(r,i,t,n)))}function Mh(t=1/0){return Si(ur,t)}function Jb(...t){return function DY(){return Mh(1)}()(Bn(t,Vg(t)))}function TF(t){return new Sn(e=>{bo(t()).subscribe(e)})}function sI(t,e){const n=gt(t)?t:()=>t,r=i=>i.error(n());return new Sn(e?i=>e.schedule(r,0,i):r)}const Bs=new Sn(t=>t.complete());function eD(){return _t((t,e)=>{let n=null;t._refCount++;const r=xt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class AF extends Sn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,at(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;const n=this.getSubject();e.add(this.source.subscribe(xt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return eD()(this)}}function Rr(t,e){return _t((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(xt(r,l=>{null==i||i.unsubscribe();let u=0;const h=o++;bo(t(l,h)).subscribe(i=xt(r,g=>r.next(e?e(l,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ph(t){return t<=0?()=>Bs:_t((e,n)=>{let r=0;e.subscribe(xt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function aI(...t){const e=Vg(t);return _t((n,r)=>{(e?Jb(t,n,e):Jb(t,n)).subscribe(r)})}function Lo(t,e){return _t((n,r)=>{let i=0;n.subscribe(xt(r,o=>t.call(e,o,i++)&&r.next(o)))})}function lI(t){return _t((e,n)=>{let r=!1;e.subscribe(xt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function SF(t=AY){return _t((e,n)=>{let r=!1;e.subscribe(xt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function AY(){return new oI}function Ql(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lo((i,o)=>t(i,o,r)):ur,Ph(1),n?lI(e):SF(()=>new oI))}function $g(t,e){return gt(e)?Si(t,e,1):Si(t,1)}function Ri(t,e,n){const r=gt(t)||e||n?{next:t,error:e,complete:n}:t;return r?_t((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(xt(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ur}function _u(t){return _t((e,n)=>{let o,r=null,i=!1;r=e.subscribe(xt(n,void 0,void 0,s=>{o=bo(t(s,_u(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cI(t,e){return _t(function SY(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(xt(s,h=>{const g=u++;l=a?t(l,h,g):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}function tD(t){return t<=0?()=>Bs:_t((e,n)=>{let r=[];e.subscribe(xt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function nD(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const sn="primary",Ug=Symbol("RouteTitle");class xY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xh(t){return new xY(t)}function NY(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function js(t,e){const n=t?rD(t):void 0,r=e?rD(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RF(t[i],e[i]))return!1;return!0}function rD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function RF(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function MF(t){return t.length>0?t[t.length-1]:null}function Xl(t){return function eY(t){return!!t&&(t instanceof Sn||gt(t.lift)&&gt(t.subscribe))}(t)?t:Sg(t)?Bn(Promise.resolve(t)):Vt(t)}const kY={exact:function NF(t,e,n){if(!vu(t.segments,e.segments)||!uI(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!NF(t.children[r],e.children[r],n))return!1;return!0},subset:OF},PF={exact:function FY(t,e){return js(t,e)},subset:function LY(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RF(t[n],e[n]))},ignored:()=>!0};function xF(t,e,n){return kY[n.paths](t.root,e.root,n.matrixParams)&&PF[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function OF(t,e,n){return kF(t,e,e.segments,n)}function kF(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!vu(i,n)||e.hasChildren()||!uI(i,n,r))}if(t.segments.length===n.length){if(!vu(t.segments,n)||!uI(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!OF(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(vu(t.segments,i)&&uI(t.segments,i,r)&&t.children[sn])&&kF(t.children[sn],e,o,r)}}function uI(t,e,n){return e.every((r,i)=>PF[n](t[i].parameters,r.parameters))}class Nh{constructor(e=new Kn([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=xh(this.queryParams)),this._queryParamMap}toString(){return UY.serialize(this)}}class Kn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dI(this)}}class Bg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return null!==(e=this._parameterMap)&&void 0!==e||(this._parameterMap=xh(this.parameters)),this._parameterMap}toString(){return VF(this)}}function vu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let yu=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>new iD,providedIn:"root"}),e})();class iD{parse(e){const n=new XY(e);return new Nh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${jg(e.root,!0)}`,r=function HY(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hI(n)}=${hI(i)}`).join("&"):`${hI(n)}=${hI(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function BY(t){return encodeURI(t)}(e.fragment)}`:""}`}}const UY=new iD;function dI(t){return t.segments.map(e=>VF(e)).join("/")}function jg(t,e){if(!t.hasChildren())return dI(t);if(e){const n=t.children[sn]?jg(t.children[sn],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==sn&&r.push(`${i}:${jg(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $Y(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===sn&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==sn&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===sn?[jg(t.children[sn],!1)]:[`${i}:${jg(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[sn]?`${dI(t)}/${n[0]}`:`${dI(t)}/(${n.join("//")})`}}function FF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hI(t){return FF(t).replace(/%3B/gi,";")}function oD(t){return FF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fI(t){return decodeURIComponent(t)}function LF(t){return fI(t.replace(/\+/g,"%20"))}function VF(t){return`${oD(t.path)}${function jY(t){return Object.entries(t).map(([e,n])=>`;${oD(e)}=${oD(n)}`).join("")}(t.parameters)}`}const zY=/^[^\/()?;#]+/;function sD(t){const e=t.match(zY);return e?e[0]:""}const GY=/^[^\/()?;=#]+/,WY=/^[^=?&#]+/,YY=/^[^&#]+/;class XY{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[sn]=new Kn(e,n)),r}parseSegment(){const e=sD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ce(4009,!1);return this.capture(e),new Bg(fI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function qY(t){const e=t.match(GY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=sD(this.remaining);i&&(r=i,this.capture(r))}e[fI(n)]=fI(r)}parseQueryParam(e){const n=function KY(t){const e=t.match(WY);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function QY(t){const e=t.match(YY);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=LF(n),o=LF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=sD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ce(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=sn);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[sn]:new Kn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ce(4011,!1)}}function $F(t){return t.segments.length>0?new Kn([],{[sn]:t}):t}function UF(t){const e={};for(const[r,i]of Object.entries(t.children)){const o=UF(i);if(r===sn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function ZY(t){if(1===t.numberOfChildren&&t.children[sn]){const e=t.children[sn];return new Kn(t.segments.concat(e.segments),e.children)}return t}(new Kn(t.segments,e))}function Oh(t){return t instanceof Nh}function BF(t){var e;let n;const o=$F(function r(s){const a={};for(const u of s.children){const h=r(u);a[u.outlet]=h}const l=new Kn(s.url,a);return s===t&&(n=l),l}(t.root));return null!==(e=n)&&void 0!==e?e:o}function jF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return aD(i,i,i,n,r);const o=function eQ(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zF(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new zF(n,e,r)}(e);if(o.toRoot())return aD(i,i,new Kn([],{}),n,r);const s=function tQ(t,e,n){if(t.isAbsolute)return new gI(e,!0,0);if(!n)return new gI(e,!1,NaN);if(null===n.parent)return new gI(n,!0,0);const r=pI(t.commands[0])?0:1;return function nQ(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ce(4005,!1);i=r.segments.length}return new gI(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?zg(s.segmentGroup,s.index,o.commands):GF(s.segmentGroup,s.index,o.commands);return aD(i,s.segmentGroup,a,n,r)}function pI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hg(t){return"object"==typeof t&&null!=t&&t.outlets}function aD(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=t===e?n:HF(t,e,n);const a=$F(UF(s));return new Nh(a,o,i)}function HF(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:HF(o,e,n)}),new Kn(t.segments,r)}class zF{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pI(r[0]))throw new Ce(4003,!1);const i=r.find(Hg);if(i&&i!==MF(r))throw new Ce(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gI{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function GF(t,e,n){var r;if(null!==(r=t)&&void 0!==r||(t=new Kn([],{})),0===t.segments.length&&t.hasChildren())return zg(t,e,n);const i=function iQ(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(Hg(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!WF(l,u,s))return o;r+=2}else{if(!WF(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),o=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Kn(t.segments.slice(0,i.pathIndex),{});return s.children[sn]=new Kn(t.segments.slice(i.pathIndex),t.children),zg(s,0,o)}return i.match&&0===o.length?new Kn(t.segments,{}):i.match&&!t.hasChildren()?lD(t,e,n):i.match?zg(t,0,o):lD(t,e,n)}function zg(t,e,n){if(0===n.length)return new Kn(t.segments,{});{const r=function rQ(t){return Hg(t[0])?t[0].outlets:{[sn]:t}}(n),i={};if(Object.keys(r).some(o=>o!==sn)&&t.children[sn]&&1===t.numberOfChildren&&0===t.children[sn].segments.length){const o=zg(t.children[sn],e,n);return new Kn(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=GF(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Kn(t.segments,i)}}function lD(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Hg(o)){const l=oQ(o.outlets);return new Kn(r,l)}if(0===i&&pI(n[0])){r.push(new Bg(t.segments[e].path,qF(n[0]))),i++;continue}const s=Hg(o)?o.outlets[sn]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pI(a)?(r.push(new Bg(s,qF(a))),i+=2):(r.push(new Bg(s,{})),i++)}return new Kn(r,{})}function oQ(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=lD(new Kn([],{}),0,r))}),e}function qF(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function WF(t,e,n){return t==n.path&&js(e,n.parameters)}const Gg="imperative";var wn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(wn||{});class Hs{constructor(e,n){this.id=e,this.url=n}}class qg extends Hs{constructor(e,n,r="imperative",i=null){super(e,n),this.type=wn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ua extends Hs{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=wn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var os=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(os||{}),mI=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(mI||{});class kh extends Hs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fh extends Hs{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=wn.NavigationSkipped}}class _I extends Hs{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=wn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KF extends Hs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sQ extends Hs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aQ extends Hs{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=wn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lQ extends Hs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cQ extends Hs{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=wn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uQ{constructor(e){this.route=e,this.type=wn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dQ{constructor(e){this.route=e,this.type=wn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hQ{constructor(e){this.snapshot=e,this.type=wn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fQ{constructor(e){this.snapshot=e,this.type=wn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pQ{constructor(e){this.snapshot=e,this.type=wn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gQ{constructor(e){this.snapshot=e,this.type=wn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YF{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=wn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cD{}class uD{constructor(e){this.url=e}}class mQ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Iu,this.attachRef=null}}let Iu=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mQ,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class QF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=dD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=dD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=hD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hD(e,this._root).map(n=>n.value)}}function dD(t,e){if(t===e.value)return e;for(const n of e.children){const r=dD(t,n);if(r)return r}return null}function hD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hD(t,n);if(r.length)return r.unshift(e),r}return[]}class Cs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Lh(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class XF extends QF{constructor(e,n){super(e),this.snapshot=n,gD(this,e)}toString(){return this.snapshot.toString()}}function ZF(t){const e=function _Q(t){const o=new pD([],{},{},"",{},sn,t,null,{});return new JF("",new Cs(o,[]))}(t),n=new q([new Bg("",{})]),r=new q({}),i=new q({}),o=new q({}),s=new q(""),a=new zs(n,r,o,s,i,sn,t,e.root);return a.snapshot=e.root,new XF(new Cs(a,[]),e)}class zs{constructor(e,n,r,i,o,s,a,l){var u,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=null!==(u=null===(h=this.dataSubject)||void 0===h?void 0:h.pipe(wt(g=>g[Ug])))&&void 0!==u?u:Vt(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=this.params.pipe(wt(n=>xh(n)))),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=this.queryParams.pipe(wt(n=>xh(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fD(t,e,n="emptyOnly"){var r;let i;const{routeConfig:o}=t;var s;return i=null===e||"always"!==n&&""!==(null==o?void 0:o.path)&&(e.component||null!==(r=e.routeConfig)&&void 0!==r&&r.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...null!==(s=t._resolvedData)&&void 0!==s?s:{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...null==o?void 0:o.data,...t._resolvedData}},o&&tL(o)&&(i.resolve[Ug]=o.title),i}class pD{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Ug]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return null!==(e=this._paramMap)&&void 0!==e||(this._paramMap=xh(this.params)),this._paramMap}get queryParamMap(){var e;return null!==(e=this._queryParamMap)&&void 0!==e||(this._queryParamMap=xh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JF extends QF{constructor(e,n){super(n),this.url=e,gD(this,n)}toString(){return eL(this._root)}}function gD(t,e){e.value._routerState=t,e.children.forEach(n=>gD(t,n))}function eL(t){const e=t.children.length>0?` { ${t.children.map(eL).join(", ")} } `:"";return`${t.value}${e}`}function mD(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,js(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),js(e.params,n.params)||t.paramsSubject.next(n.params),function OY(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!js(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),js(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _D(t,e){const n=js(t.params,e.params)&&function VY(t,e){return vu(t,e)&&t.every((n,r)=>js(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_D(t.parent,e.parent))}function tL(t){return"string"==typeof t.title||null===t.title}let nL=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new st,this.deactivateEvents=new st,this.attachEvents=new st,this.detachEvents=new st,this.parentContexts=Be(Iu),this.location=Be(Jo),this.changeDetector=Be(it),this.environmentInjector=Be(si),this.inputBinder=Be(vI,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(r=this.inputBinder)||void 0===r||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return(null===(i=this.parentContexts.getContext(r))||void 0===i?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);null!=r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ce(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var o;if(this.isActivated)throw new Ce(4013,!1);this._activatedRoute=r;const s=this.location,l=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,h=new vQ(r,u,s.injector);this.activated=s.createComponent(l,{index:s.length,injector:h,environmentInjector:null!=i?i:this.environmentInjector}),this.changeDetector.markForCheck(),null===(o=this.inputBinder)||void 0===o||o.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Pt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f]}),e})();class vQ{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zs?this.route:e===Iu?this.childContexts:this.parent.get(e,n)}}const vI=new rt("");let rL=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;null===(i=this.outletDataSubscriptions.get(r))||void 0===i||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,o=iI([i.queryParams,i.params,i.data]).pipe(Rr(([s,a,l],u)=>(l={...s,...a,...l},0===u?Vt(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=yk(i.component);if(a)for(const{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();function Wg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function IQ(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wg(t,r,i);return Wg(t,r)})}(t,e,n);return new Cs(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Wg(t,a)),s}}const r=function EQ(t){return new zs(new q(t.url),new q(t.params),new q(t.queryParams),new q(t.fragment),new q(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Wg(t,o));return new Cs(r,i)}}const iL="ngNavigationCancelingError";function oL(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Oh(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sL(!1,os.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sL(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[iL]=!0,n.cancellationCode=e,n}function aL(t){return!!t&&t[iL]}let lL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ge({type:t,selectors:[["ng-component"]],standalone:!0,features:[Z1],decls:1,vars:0,template:function(r,i){1&r&&dn(0,"router-outlet")},dependencies:[nL],encapsulation:2}),e})();function vD(t){const e=t.children&&t.children.map(vD),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==sn&&(n.component=lL),n}function Gs(t){return t.outlet||sn}function Kg(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class RQ{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Lh(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lh(e);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Lh(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gQ(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fQ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(mD(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mD(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Kg(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class cL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yI{constructor(e,n){this.component=e,this.route=n}}function MQ(t,e,n){const r=t._root;return Yg(r,e?e._root:null,n,[r.value])}function Vh(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function z_(t){return null!==_l(t)}(t)?e.get(t):t:r}function Yg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lh(e);return t.children.forEach(s=>{(function xQ(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function NQ(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vu(t.url,e.url)||!js(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_D(t,e)||!js(t.queryParams,e.queryParams);default:return!_D(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cL(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Yg(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yI(a.outlet.component,s))}else s&&Qg(e,a,i),i.canActivateChecks.push(new cL(r)),Yg(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qg(a,n.getContext(s),i)),i}function Qg(t,e,n){const r=Lh(t),i=t.value;Object.entries(r).forEach(([o,s])=>{Qg(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new yI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xg(t){return"function"==typeof t}function uL(t){return t instanceof oI||"EmptyError"===(null==t?void 0:t.name)}const II=Symbol("INITIAL_VALUE");function $h(){return Rr(t=>iI(t.map(e=>e.pipe(Ph(1),aI(II)))).pipe(wt(e=>{for(const n of e)if(!0!==n){if(n===II)return II;if(!1===n||n instanceof Nh)return n}return!0}),Lo(e=>e!==II),Ph(1)))}function dL(t){return function mo(...t){return _o(t)}(Ri(e=>{if(Oh(e))throw oL(0,e)}),wt(e=>!0===e))}class yD{constructor(e){this.segmentGroup=e||null}}class ID extends Error{constructor(e){super(),this.urlTree=e}}function Uh(t){return sI(new yD(t))}class ZQ{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Vt(r);if(i.numberOfChildren>1||!i.children[sn])return sI(new Ce(4e3,!1));i=i.children[sn]}}applyRedirectCommands(e,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ID(i);return i}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Nh(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Kn(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Ce(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ED={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JQ(t,e,n,r,i){const o=wD(t,e,n);return o.matched?(r=function CQ(t,e){var n;return t.providers&&!t._injector&&(t._injector=bC(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}(e,r),function YQ(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Vt(i.map(s=>{const a=Vh(s,t);return Xl(function $Q(t){return t&&Xg(t.canMatch)}(a)?a.canMatch(e,n):ks(t,()=>a(e,n)))})).pipe($h(),dL()):Vt(!0)}(r,e,n).pipe(wt(s=>!0===s?o:{...ED}))):Vt(o)}function wD(t,e,n){var r,i;if("**"===e.path)return function eX(t){return{matched:!0,parameters:t.length>0?MF(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ED}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||NY)(n,t,e);if(!s)return{...ED};const a={};Object.entries(null!==(r=s.posParams)&&void 0!==r?r:{}).forEach(([u,h])=>{a[u]=h.path});const l=s.consumed.length>0?{...a,...s.consumed[s.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function hL(t,e,n,r){return n.length>0&&function rX(t,e,n){return n.some(r=>EI(t,e,r)&&Gs(r)!==sn)}(t,n,r)?{segmentGroup:new Kn(e,nX(r,new Kn(n,t.children))),slicedSegments:[]}:0===n.length&&function iX(t,e,n){return n.some(r=>EI(t,e,r))}(t,n,r)?{segmentGroup:new Kn(t.segments,tX(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Kn(t.segments,t.children),slicedSegments:n}}function tX(t,e,n,r){const i={};for(const o of n)if(EI(t,e,o)&&!r[Gs(o)]){const s=new Kn([],{});i[Gs(o)]=s}return{...r,...i}}function nX(t,e){const n={};n[sn]=e;for(const r of t)if(""===r.path&&Gs(r)!==sn){const i=new Kn([],{});n[Gs(r)]=i}return n}function EI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class aX{}class uX{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ZQ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ce(4002,`'${e.segmentGroup}'`)}recognize(){const e=hL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(wt(n=>{const r=new pD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,{}),i=new Cs(r,n),o=new JF("",i),s=function JY(t,e,n=null,r=null){return jF(BF(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,sn).pipe(_u(r=>{if(r instanceof ID)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yD?this.noMatchError(r):r}))}inheritParamsAndData(e,n){const r=e.value,i=fD(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(wt(o=>o instanceof Cs?[o]:[]))}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Bn(i).pipe($g(o=>{const s=r.children[o],a=function AQ(t,e){const n=t.filter(r=>Gs(r)===e);return n.push(...t.filter(r=>Gs(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),cI((o,s)=>(o.push(...s),o)),lI(null),function RY(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Lo((i,o)=>t(i,o,r)):ur,tD(1),n?lI(e):SF(()=>new oI))}(),Si(o=>{if(null===o)return Uh(r);const s=fL(o);return function dX(t){t.sort((e,n)=>e.value.outlet===sn?-1:n.value.outlet===sn?1:e.value.outlet.localeCompare(n.value.outlet))}(s),Vt(s)}))}processSegment(e,n,r,i,o,s){return Bn(n).pipe($g(a=>{var l;return this.processSegmentAgainstRoute(null!==(l=a._injector)&&void 0!==l?l:e,n,a,r,i,o,s).pipe(_u(u=>{if(u instanceof yD)return Vt(null);throw u}))}),Ql(a=>!!a),_u(a=>{if(uL(a))return function sX(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?Vt(new aX):Uh(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function oX(t,e,n,r){return!!(Gs(t)===r||r!==sn&&EI(e,n,t))&&wD(e,t,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Uh(i):Uh(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=wD(n,i,o);if(!a)return Uh(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,g).pipe(Si(m=>this.processSegment(e,r,n,m.concat(h),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){const s=JQ(n,r,i,e);return"**"===r.path&&(n.children={}),s.pipe(Rr(a=>{var l;return a.matched?(e=null!==(l=r._injector)&&void 0!==l?l:e,this.getChildConfig(e,r,i).pipe(Rr(({routes:u})=>{var h,g,m;const v=null!==(h=r._loadedInjector)&&void 0!==h?h:e,{consumedSegments:b,remainingSegments:A,parameters:R}=a,H=new pD(b,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function fX(t){return t.data||{}}(r),Gs(r),null!==(g=null!==(m=r.component)&&void 0!==m?m:r._loadedComponent)&&void 0!==g?g:null,r,function pX(t){return t.resolve||{}}(r)),{segmentGroup:U,slicedSegments:de}=hL(n,b,A,u);if(0===de.length&&U.hasChildren())return this.processChildren(v,u,U).pipe(wt(Qe=>null===Qe?null:new Cs(H,Qe)));if(0===u.length&&0===de.length)return Vt(new Cs(H,[]));const ge=Gs(r)===o;return this.processSegment(v,u,U,de,ge?sn:o,!0).pipe(wt(Qe=>new Cs(H,Qe instanceof Cs?[Qe]:[])))}))):Uh(n)}))}getChildConfig(e,n,r){return n.children?Vt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Vt({routes:n._loadedRoutes,injector:n._loadedInjector}):function KQ(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Vt(!0):Vt(i.map(s=>{const a=Vh(s,t);return Xl(function kQ(t){return t&&Xg(t.canLoad)}(a)?a.canLoad(e,n):ks(t,()=>a(e,n)))})).pipe($h(),dL())}(e,n,r).pipe(Si(i=>i?this.configLoader.loadChildren(e,n).pipe(Ri(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function XQ(t){return sI(sL(!1,os.GuardRejected))}())):Vt({routes:[],injector:e})}}function hX(t){const e=t.value.routeConfig;return e&&""===e.path}function fL(t){const e=[],n=new Set;for(const r of t){if(!hX(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=fL(r.children);e.push(new Cs(r.value,i))}return e.filter(r=>!n.has(r))}function pL(t){const e=t.children.map(n=>pL(n)).flat();return[t,...e]}function CD(t){return Rr(e=>{const n=t(e);return n?Bn(n).pipe(wt(()=>e)):Vt(e)})}let gL=(()=>{var t;class e{buildTitle(r){let i,o=r.root;for(;void 0!==o;){var s;i=null!==(s=this.getResolvedTitleForRoute(o))&&void 0!==s?s:i,o=o.children.find(a=>a.outlet===sn)}return i}getResolvedTitleForRoute(r){return r.data[Ug]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(IX),providedIn:"root"}),e})(),IX=(()=>{var t;class e extends gL{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(QK))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Bh=new rt("",{providedIn:"root",factory:()=>({})}),jh=new rt("");let bD=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Be($O)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Vt(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Xl(r.loadComponent()).pipe(wt(mL),Ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),nD(()=>{this.componentLoaders.delete(r)})),o=new AF(i,()=>new L).pipe(eD());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Vt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function EX(t,e,n,r){return Xl(t.loadChildren()).pipe(wt(mL),Si(i=>i instanceof qx||Array.isArray(i)?Vt(i):Bn(e.compileModuleAsync(i))),wt(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(jh,[],{optional:!0,self:!0}).flat()),{routes:s.map(vD),injector:o}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(nD(()=>{this.childrenLoaders.delete(i)})),a=new AF(s,()=>new L).pipe(eD());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function mL(t){return function wX(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let DD=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(CX),providedIn:"root"}),e})(),CX=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const _L=new rt(""),vL=new rt("");function bX(t,e,n){const r=t.get(vL),i=t.get(Co);return t.get(Te).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function DX(t){return new Promise(e=>{dx(e,{injector:t})})}(t))),{onViewTransitionCreated:l}=r;return l&&ks(t,()=>l({transition:a,from:e,to:n})),s})}let wI=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new L,this.transitionAbortSubject=new L,this.configLoader=Be(bD),this.environmentInjector=Be(si),this.urlSerializer=Be(yu),this.rootContexts=Be(Iu),this.location=Be(Kl),this.inputBindingEnabled=null!==Be(vI,{optional:!0}),this.titleStrategy=Be(gL),this.options=Be(Bh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Be(DD),this.createViewTransition=Be(_L,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dQ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new uQ(o))}complete(){var r;null===(r=this.transitions)||void 0===r||r.complete()}handleNavigationRequest(r){var i;const o=++this.navigationId;null===(i=this.transitions)||void 0===i||i.next({...this.transitions.value,...r,id:o})}setupNavigations(r,i,o){return this.transitions=new q({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gg,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lo(s=>0!==s.id),wt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Rr(s=>{this.currentTransition=s;let a=!1,l=!1;return Vt(s).pipe(Ri(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Rr(u=>{var h;const g=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=null!==(h=u.extras.onSameUrlNavigation)&&void 0!==h?h:r.onSameUrlNavigation;if(!g&&"reload"!==m){const v="";return this.events.next(new Fh(u.id,this.urlSerializer.serialize(u.rawUrl),v,mI.IgnoredSameUrlNavigation)),u.resolve(null),Bs}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Vt(u).pipe(Rr(v=>{var b,A;const R=null===(b=this.transitions)||void 0===b?void 0:b.getValue();return this.events.next(new qg(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),R!==(null===(A=this.transitions)||void 0===A?void 0:A.getValue())?Bs:Promise.resolve(v)}),function gX(t,e,n,r,i,o){return Si(s=>function lX(t,e,n,r,i,o,s="emptyOnly"){return new uX(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(wt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ri(v=>{s.targetSnapshot=v.targetSnapshot,s.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects};const b=new KF(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}));if(g&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:v,extractedUrl:b,source:A,restoredState:R,extras:H}=u,U=new qg(v,this.urlSerializer.serialize(b),A,R);this.events.next(U);const de=ZF(this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:de,urlAfterRedirects:b,extras:{...H,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Vt(s)}{const v="";return this.events.next(new Fh(u.id,this.urlSerializer.serialize(u.extractedUrl),v,mI.IgnoredByUrlHandlingStrategy)),u.resolve(null),Bs}}),Ri(u=>{const h=new sQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),wt(u=>(this.currentTransition=s={...u,guards:MQ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function UQ(t,e){return Si(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Vt({...n,guardsResult:!0}):function BQ(t,e,n,r){return Bn(t).pipe(Si(i=>function WQ(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Vt(o.map(a=>{var l;const u=null!==(l=Kg(e))&&void 0!==l?l:i,h=Vh(a,u);return Xl(function VQ(t){return t&&Xg(t.canDeactivate)}(h)?h.canDeactivate(t,e,n,r):ks(u,()=>h(t,e,n,r))).pipe(Ql())})).pipe($h()):Vt(!0)}(i.component,i.route,n,e,r)),Ql(i=>!0!==i,!0))}(s,r,i,t).pipe(Si(a=>a&&function OQ(t){return"boolean"==typeof t}(a)?function jQ(t,e,n,r){return Bn(e).pipe($g(i=>Jb(function zQ(t,e){return null!==t&&e&&e(new hQ(t)),Vt(!0)}(i.route.parent,r),function HQ(t,e){return null!==t&&e&&e(new pQ(t)),Vt(!0)}(i.route,r),function qQ(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function PQ(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>TF(()=>Vt(s.guards.map(l=>{var u;const h=null!==(u=Kg(s.node))&&void 0!==u?u:n,g=Vh(l,h);return Xl(function LQ(t){return t&&Xg(t.canActivateChild)}(g)?g.canActivateChild(r,t):ks(h,()=>g(r,t))).pipe(Ql())})).pipe($h())));return Vt(o).pipe($h())}(t,i.path,n),function GQ(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Vt(!0);const i=r.map(o=>TF(()=>{var s;const a=null!==(s=Kg(e))&&void 0!==s?s:n,l=Vh(o,a);return Xl(function FQ(t){return t&&Xg(t.canActivate)}(l)?l.canActivate(e,t):ks(a,()=>l(e,t))).pipe(Ql())}));return Vt(i).pipe($h())}(t,i.route,n))),Ql(i=>!0!==i,!0))}(r,o,t,e):Vt(a)),wt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ri(u=>{if(s.guardsResult=u.guardsResult,Oh(u.guardsResult))throw oL(0,u.guardsResult);const h=new aQ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Lo(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",os.GuardRejected),!1)),CD(u=>{if(u.guards.canActivateChecks.length)return Vt(u).pipe(Ri(h=>{const g=new lQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Rr(h=>{let g=!1;return Vt(h).pipe(function mX(t,e){return Si(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Vt(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const u of pL(l))s.add(u);let a=0;return Bn(s).pipe($g(l=>o.has(l)?function _X(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==(null==i?void 0:i.title)&&!tL(i)&&(o[Ug]=i.title),function vX(t,e,n,r){const i=rD(t);if(0===i.length)return Vt({});const o={};return Bn(i).pipe(Si(s=>function yX(t,e,n,r){var i;const o=null!==(i=Kg(e))&&void 0!==i?i:r,s=Vh(t,o);return Xl(s.resolve?s.resolve(e,n):ks(o,()=>s(e,n)))}(t[s],e,n,r).pipe(Ql(),Ri(a=>{o[s]=a}))),tD(1),function MY(t){return wt(()=>t)}(o),_u(s=>uL(s)?Bs:sI(s)))}(o,t,e,r).pipe(wt(s=>(t._resolvedData=s,t.data=fD(t,t.parent,n).resolve,null)))}(l,r,t,e):(l.data=fD(l,l.parent,t).resolve,Vt(void 0))),Ri(()=>a++),tD(1),Si(l=>a===s.size?Vt(n):Bs))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ri({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(h,"",os.NoDataFromResolver)}}))}),Ri(h=>{const g=new cQ(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),CD(u=>{const h=g=>{var m;const v=[];null!==(m=g.routeConfig)&&void 0!==m&&m.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ri(b=>{g.component=b}),wt(()=>{})));for(const b of g.children)v.push(...h(b));return v};return iI(h(u.targetSnapshot.root)).pipe(lI(null),Ph(1))}),CD(()=>this.afterPreactivation()),Rr(()=>{var u;const{currentSnapshot:h,targetSnapshot:g}=s,m=null===(u=this.createViewTransition)||void 0===u?void 0:u.call(this,this.environmentInjector,h.root,g.root);return m?Bn(m).pipe(wt(()=>s)):Vt(s)}),wt(u=>{const h=function yQ(t,e,n){const r=Wg(t,e._root,n?n._root:void 0);return new XF(r,e)}(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,s}),Ri(()=>{this.events.next(new cD)}),((t,e,n,r)=>wt(i=>(new RQ(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ph(1),Ri({next:u=>{var h;a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ua(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),null===(h=this.titleStrategy)||void 0===h||h.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),function PY(t){return _t((e,n)=>{bo(t).subscribe(xt(n,()=>n.complete(),un)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(Ri(u=>{throw u}))),nD(()=>{var u;!a&&!l&&this.cancelNavigationTransition(s,"",os.SupersededByNewNavigation),(null===(u=this.currentTransition)||void 0===u?void 0:u.id)===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_u(u=>{if(l=!0,aL(u))this.events.next(new kh(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function wQ(t){return aL(t)&&Oh(t.url)}(u)?this.events.next(new uD(u.url)):s.resolve(!1);else{var h;this.events.next(new _I(s.id,this.urlSerializer.serialize(s.extractedUrl),u,null!==(h=s.targetSnapshot)&&void 0!==h?h:void 0));try{s.resolve(r.errorHandler(u))}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Bs}))}))}cancelNavigationTransition(r,i,o){const s=new kh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())!==(null===(i=this.currentTransition)||void 0===i?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var r,i;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(r=this.currentTransition)||void 0===r?void 0:r.extractedUrl.toString())&&!(null!==(i=this.currentTransition)&&void 0!==i&&i.extras.skipLocationChange)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function TX(t){return t!==Gg}let AX=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(RX),providedIn:"root"}),e})();class SX{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let RX=(()=>{var t;class e extends SX{}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),yL=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:()=>Be(MX),providedIn:"root"}),e})(),MX=(()=>{var t;class e extends yL{constructor(){super(...arguments),this.location=Be(Kl),this.urlSerializer=Be(yu),this.options=Be(Bh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Be(DD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Nh,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZF(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var r,i;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(r=null===(i=this.restoredState())||void 0===i?void 0:i.\u0275routerPageId)&&void 0!==r?r:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{"popstate"===i.type&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof qg)this.stateMemento=this.createStateMemento();else if(r instanceof Fh)this.rawUrlTree=i.initialUrl;else if(r instanceof KF){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof cD?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof kh&&(r.code===os.GuardRejected||r.code===os.NoDataFromResolver)?this.restoreHistory(i):r instanceof _I?this.restoreHistory(i,!0):r instanceof Ua&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){const o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",s)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&0===s&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){var i;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(i=r.finalUrl)&&void 0!==i?i:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Zg=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Zg||{});function IL(t,e){t.events.pipe(Lo(n=>n instanceof Ua||n instanceof kh||n instanceof _I||n instanceof Fh),wt(n=>n instanceof Ua||n instanceof Fh?Zg.COMPLETE:n instanceof kh&&(n.code===os.Redirect||n.code===os.SupersededByNewNavigation)?Zg.REDIRECTING:Zg.FAILED),Lo(n=>n!==Zg.REDIRECTING),Ph(1)).subscribe(()=>{e()})}function PX(t){throw t}const xX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},NX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{var t;class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var r,i;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Be(RO),this.stateManager=Be(yL),this.options=Be(Bh,{optional:!0})||{},this.pendingTasks=Be(fg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Be(wI),this.urlSerializer=Be(yu),this.location=Be(Kl),this.urlHandlingStrategy=Be(DD),this._events=new L,this.errorHandler=this.options.errorHandler||PX,this.navigated=!1,this.routeReuseStrategy=Be(AX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(r=null===(i=Be(jh,{optional:!0}))||void 0===i?void 0:i.flat())&&void 0!==r?r:[],this.componentInputBindingEnabled=!!Be(vI,{optional:!0}),this.eventsSubscription=new ze,this.isNgZoneEnabled=Be(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==o&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof kh&&i.code!==os.Redirect&&i.code!==os.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ua)this.navigated=!0;else if(i instanceof uD){const a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TX(o.source)};this.scheduleNavigation(a,Gg,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function kX(t){return!(t instanceof cD||t instanceof uD)})(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gg,this.stateManager.restoredState())}setUpLocationChangeListener(){var r;null!==(r=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==r||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",o)},0)}))}navigateToSyncWithBrowser(r,i,o){const s={replaceUrl:!0},a=null!=o&&o.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(vD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=i,h=u?this.currentUrlTree.fragment:a;let m,g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{m=BF(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),m=this.currentUrlTree.root}return jF(m,r,g,null!=h?h:null)}navigateByUrl(r,i={skipLocationChange:!1}){const o=Oh(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Gg,null,i)}navigate(r,i={skipLocationChange:!1}){return function OX(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Ce(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(o=!0===i?{...xX}:!1===i?{...NX}:i,Oh(r))return xF(this.currentUrlTree,r,o);const s=this.parseUrl(r);return xF(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(null!=s&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((m,v)=>{l=m,u=v});const g=this.pendingTasks.add();return IL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Eu=(()=>{var t;class e{constructor(r,i,o,s,a,l){var u;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new L,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const h=null===(u=a.nativeElement.tagName)||void 0===u?void 0:u.toLowerCase();this.isAnchorElement="a"===h||"area"===h,this.isAnchorElement?this.subscription=r.events.subscribe(g=>{g instanceof Ua&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==r||i||o||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var r;null===(r=this.subscription)||void 0===r||r.unsubscribe()}updateHref(){var r;const i=this.urlTree;this.href=null!==i&&this.locationStrategy?null===(r=this.locationStrategy)||void 0===r?void 0:r.prepareExternalUrl(this.router.serializeUrl(i)):null;const o=null===this.href?null:function VM(t,e,n){return function QH(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?LM:Tw}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",o)}applyAttributeValue(r,i){const o=this.renderer,s=this.el.nativeElement;null!==i?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Or),E(zs),Ol("tabindex"),E(Na),E(Fe),E(Fa))},t.\u0275dir=Pt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Dn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ns("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Cn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ah],skipLocationChange:[Cn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ah],replaceUrl:[Cn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ah],routerLink:"routerLink"},standalone:!0,features:[Gx,f]}),e})();class EL{}let VX=(()=>{var t;class e{preload(r,i){return i().pipe(_u(()=>Vt(null)))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),$X=(()=>{var t;class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Lo(r=>r instanceof Ua),$g(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const o=[];for(const u of i){var s,a;u.providers&&!u._injector&&(u._injector=bC(u.providers,r,`Route: ${u.path}`));const h=null!==(s=u._injector)&&void 0!==s?s:r,g=null!==(a=u._loadedInjector)&&void 0!==a?a:h;var l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,null!==(l=u.children)&&void 0!==l?l:u._loadedRoutes))}return Bn(o).pipe(Mh())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):Vt(null);const s=o.pipe(Si(a=>{var l;return null===a?Vt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(null!==(l=a.injector)&&void 0!==l?l:r,a.routes))}));return i.loadComponent&&!i._loadedComponent?Bn([s,this.loader.loadComponent(i)]).pipe(Mh()):s})}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(Or),Ye($O),Ye(si),Ye(EL),Ye(bD))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const TD=new rt("");let wL=(()=>{var t;class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof qg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ua?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Fh&&r.code===mI.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof YF&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new YF(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;null===(r=this.routerEventsSubscription)||void 0===r||r.unsubscribe(),null===(i=this.scrollEventsSubscription)||void 0===i||i.unsubscribe()}}return(t=e).\u0275fac=function(r){!function gP(){throw new Error("invalid")}()},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),e})();function qs(t,e){return{\u0275kind:t,\u0275providers:e}}function bL(){const t=Be(fr);return e=>{var n,r;const i=t.get(Gl);if(e!==i.components[0])return;const o=t.get(Or),s=t.get(DL);1===t.get(AD)&&o.initialNavigation(),null===(n=t.get(TL,null,jt.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(TD,null,jt.Optional))||void 0===r||r.init(),o.resetRootComponentType(i.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const DL=new rt("",{factory:()=>new L}),AD=new rt("",{providedIn:"root",factory:()=>1}),TL=new rt("");function HX(t){return qs(0,[{provide:TL,useExisting:$X},{provide:EL,useExisting:t}])}function GX(t){return qs(9,[{provide:_L,useValue:bX},{provide:vL,useValue:{skipNextTransition:!(null==t||!t.skipInitialTransition),...t}}])}const AL=new rt("ROUTER_FORROOT_GUARD"),qX=[Kl,{provide:yu,useClass:iD},Or,Iu,{provide:zs,useFactory:function CL(t){return t.routerState.root},deps:[Or]},bD,[]];let SD=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[qX,[],{provide:jh,multi:!0,useValue:r},{provide:AL,useFactory:QX,deps:[[Or,new nu,new Rl]]},{provide:Bh,useValue:i||{}},null!=i&&i.useHash?{provide:Fa,useClass:A8}:{provide:Fa,useClass:wk},{provide:TD,useFactory:()=>{const t=Be(Y7),e=Be(Te),n=Be(Bh),r=Be(wI),i=Be(yu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new wL(i,r,t,e,n)}},null!=i&&i.preloadingStrategy?HX(i.preloadingStrategy).\u0275providers:[],null!=i&&i.initialNavigation?XX(i):[],null!=i&&i.bindToComponentInputs?qs(8,[rL,{provide:vI,useExisting:rL}]).\u0275providers:[],null!=i&&i.enableViewTransitions?GX().\u0275providers:[],[{provide:SL,useFactory:bL},{provide:pb,multi:!0,useExisting:SL}]]}}static forChild(r){return{ngModule:e,providers:[{provide:jh,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Ye(AL,8))},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({}),e})();function QX(t){return"guarded"}function XX(t){return["disabled"===t.initialNavigation?qs(3,[{provide:Fy,multi:!0,useFactory:()=>{const e=Be(Or);return()=>{e.setUpLocationChangeListener()}}},{provide:AD,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?qs(2,[{provide:AD,useValue:0},{provide:Fy,multi:!0,deps:[fr],useFactory:e=>{const n=e.get(D8,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Or),o=e.get(DL);IL(i,()=>{r(!0)}),e.get(wI).afterPreactivation=()=>(r(!0),o.closed?Vt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const SL=new rt("");function Jg(t){return(Jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gn(t,e,n){return(e=function eZ(t){var e=function JX(t,e){if("object"!=Jg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jg(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ws=oe(9360);(0,Ws.registerVersion)("firebase","10.8.0","app");class rZ extends ze{constructor(e,n){super()}schedule(e,n=0){return this}}const CI={setInterval(t,e,...n){const{delegate:r}=CI;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=CI;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class RL extends rZ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return CI.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&CI.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fe(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const RD={now:()=>(RD.delegate||Date).now(),delegate:void 0};class em{constructor(e,n=em.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}em.now=RD.now;class ML extends em{constructor(e,n=em.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const sZ=new class oZ extends ML{}(class iZ extends RL{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),MD=new ML(RL),PD=new Dh("ANGULARFIRE2_VERSION");class xD{constructor(){return((t,e)=>{const n=(0,Ws.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(lZ)}}const lZ="app-check";function Hh(){}class PL{constructor(e,n=sZ){gn(this,"zone",void 0),gn(this,"delegate",void 0),this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class cZ{constructor(e){gn(this,"zone",void 0),gn(this,"task",null),this.zone=e}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hh,{},Hh,Hh)),n.pipe(Ri({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ND=(()=>{var t;class e{constructor(r){gn(this,"ngZone",void 0),gn(this,"outsideAngular",void 0),gn(this,"insideAngular",void 0),this.ngZone=r,this.outsideAngular=r.runOutsideAngular(()=>new PL(Zone.current)),this.insideAngular=r.run(()=>new PL(Zone.current,MD)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)(Ye(Te))}),gn(e,"\u0275prov",Dt({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();function zh(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function xL(t){return t.pipe(Yl(zh().outsideAngular))}function so(t){return function dZ(t){return function(n){return(n=n.lift(new cZ(t.ngZone))).pipe(Rh(t.outsideAngular),Yl(t.insideAngular))}}(zh())(t)}var Ks=oe(8368);Ks.c.registerVersion("firebase","10.8.0","app-compat");const gZ=["ngOnDestroy"];class NL{constructor(e){return e}}const tm=new rt("angularfire2.app.options"),nm=new rt("angularfire2.app.name");function bI(t,e,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=Ks.c.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Ks.c.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){const a=!!module.hot;vZ("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new NL(s)}const vZ=(t,...e)=>{},yZ={provide:NL,useFactory:bI,deps:[tm,Te,[new nu,nm]]};let IZ=(()=>{var t;class e{static initializeApp(r,i){return{ngModule:e,providers:[{provide:tm,useValue:r},{provide:nm,useValue:i}]}}constructor(r){Ks.c.registerVersion("angularfire",PD.full,"core"),Ks.c.registerVersion("angularfire",PD.full,"app-compat"),Ks.c.registerVersion("angular",n9.full,r.toString())}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)(Ye(Oo))}),gn(e,"\u0275mod",Yo({type:t})),gn(e,"\u0275inj",No({providers:[yZ]})),e})();function OD(t,e,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return function EZ(t,e){try{return t.toString()===e.toString()}catch{return t===e}}(i,s)||(OL("error",`${e} was already initialized on the ${n} Firebase App with different settings.${wZ?" You may need to reload as Firebase is not HMR aware.":""}`),OL("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}const wZ=typeof module<"u"&&!!module.hot,OL=(t,...e)=>{};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),oe(864);class bZ extends L{constructor(e=1/0,n=1/0,r=RD){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function kD(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Pn({next:()=>{r.unsubscribe(),t()}});return bo(e(...n)).subscribe(r)}function kL(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=null!=t?t:1/0,function DZ(t={}){const{connector:e=(()=>new L),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,u=0,h=!1,g=!1;const m=()=>{null==a||a.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,h=g=!1},b=()=>{const A=s;v(),null==A||A.unsubscribe()};return _t((A,R)=>{u++,!g&&!h&&m();const H=l=null!=l?l:e();R.add(()=>{u--,0===u&&!g&&!h&&(a=kD(b,i))}),H.subscribe(R),!s&&u>0&&(s=new Pn({next:U=>H.next(U),error:U=>{g=!0,m(),a=kD(v,n,U),H.error(U)},complete:()=>{h=!0,m(),a=kD(v,r),H.complete()}}),bo(A).subscribe(s))})(o)}}({connector:()=>new bZ(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function FL(t,e){return gt(e)?Rr(()=>t,e):Rr(()=>t)}const LL=new rt("angularfire2.auth.use-emulator"),VL=new rt("angularfire2.auth.settings"),$L=new rt("angularfire2.auth.tenant-id"),UL=new rt("angularfire2.auth.langugage-code"),BL=new rt("angularfire2.auth.use-device-language"),jL=new rt("angularfire.auth.persistence"),HL=(t,e,n,r,i,o,s,a)=>OD(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[u,h]of Object.entries(s))l.settings[u]=h;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let Zl=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b){gn(this,"authState",void 0),gn(this,"idToken",void 0),gn(this,"user",void 0),gn(this,"idTokenResult",void 0),gn(this,"credential",void 0);const A=new L,R=Vt(void 0).pipe(Yl(a.outsideAngular),Rr(()=>s.runOutsideAngular(()=>Promise.resolve().then(oe.bind(oe,864)))),wt(()=>bI(r,s,i)),wt(H=>HL(H,s,l,h,g,m,u,v)),kL({bufferSize:1,refCount:!1}));if(tI(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Vt(null);else{R.pipe(Ql()).subscribe();const H=R.pipe(Rr(ge=>ge.getRedirectResult().then(Qe=>Qe,()=>null)),so,kL({bufferSize:1,refCount:!1})),U=R.pipe(Rr(ge=>new Sn(Qe=>({unsubscribe:s.runOutsideAngular(()=>ge.onAuthStateChanged(yt=>Qe.next(yt),yt=>Qe.error(yt),()=>Qe.complete()))})))),de=R.pipe(Rr(ge=>new Sn(Qe=>({unsubscribe:s.runOutsideAngular(()=>ge.onIdTokenChanged(yt=>Qe.next(yt),yt=>Qe.error(yt),()=>Qe.complete()))}))));this.authState=H.pipe(FL(U),Rh(a.outsideAngular),Yl(a.insideAngular)),this.user=H.pipe(FL(de),Rh(a.outsideAngular),Yl(a.insideAngular)),this.idToken=this.user.pipe(Rr(ge=>ge?Bn(ge.getIdToken()):Vt(null))),this.idTokenResult=this.user.pipe(Rr(ge=>ge?Bn(ge.getIdTokenResult()):Vt(null))),this.credential=function CZ(...t){const e=Vg(t),n=function gY(t,e){return"number"==typeof Xb(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?bo(r[0]):Mh(n)(Bn(r,e)):Bs}(H,A,this.authState.pipe(Lo(ge=>!ge))).pipe(wt(ge=>null!=ge&&ge.user?ge:null),Rh(a.outsideAngular),Yl(a.insideAngular))}return((t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var s;if(t[o])return null!=r&&null!==(s=r.spy)&&void 0!==s&&s.get&&r.spy.get(o,t[o]),t[o];if(gZ.indexOf(o)>-1)return()=>{};const a=e.toPromise().then(l=>{const u=null==l?void 0:l[o];return"function"==typeof u?u.bind(l):null!=u&&u.then?u.then(h=>n.run(()=>h)):n.run(()=>u)});return new Proxy(()=>{},{get:(l,u)=>a[u],apply:(l,u,h)=>a.then(g=>{var m;const v=null==g?void 0:g(...h);return null!=r&&null!==(m=r.spy)&&void 0!==m&&m.apply&&r.spy.apply(o,h,v),v})})})}))(this,R,s,{spy:{apply:(H,U,de)=>{(H.startsWith("signIn")||H.startsWith("createUser"))&&de.then(ge=>A.next(ge))}}})}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)(Ye(tm),Ye(nm,8),Ye(Oo),Ye(Te),Ye(ND),Ye(LL,8),Ye(VL,8),Ye($L,8),Ye(UL,8),Ye(BL,8),Ye(jL,8),Ye(xD,8))}),gn(e,"\u0275prov",Dt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),AZ=(()=>{var t;class e{constructor(){Ks.c.registerVersion("angularfire",PD.full,"auth-compat")}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)}),gn(e,"\u0275mod",Yo({type:t})),gn(e,"\u0275inj",No({providers:[Zl]})),e})();const zL_firebaseConfig={apiKey:"AIzaSyBK8aB1PhRlX3ls_AAMqxElVLmK5hK9SoA",authDomain:"buildable-4e170.firebaseapp.com",databaseURL:"https://buildable-4e170-default-rtdb.firebaseio.com",projectId:"buildable-4e170",storageBucket:"buildable-4e170.appspot.com",messagingSenderId:"905693761163",appId:"1:905693761163:web:2b9cdad166817b548f8e8e",measurementId:"G-8D1HGCRG4B"};function Jl(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const yi=new rt("");function DI(t){return null}function $V(t){return"number"==typeof t?t:parseFloat(t)}Promise.resolve(),Promise.resolve();let bu=(()=>{var t;class e{constructor(){this._validator=DI}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):DI,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=Pt({type:t,features:[f]}),e})();const _J={provide:yi,useExisting:Nn(()=>rT),multi:!0};let rT=(()=>{var t;class e extends bu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=r=>$V(r),this.createValidator=r=>function YL(t){return e=>{if(Jl(e.value)||Jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=Pt({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ns("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[On([_J]),nn]}),e})();const vJ={provide:yi,useExisting:Nn(()=>iT),multi:!0};let iT=(()=>{var t;class e extends bu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=r=>$V(r),this.createValidator=r=>function KL(t){return e=>{if(Jl(e.value)||Jl(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(r)}}return(t=e).\u0275fac=(()=>{let n;return function(i){return(n||(n=hr(t)))(i||t)}})(),t.\u0275dir=Pt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ns("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[On([vJ]),nn]}),e})();class TJ{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return void 0!==r?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return void 0===r?n:"string"==typeof r?"true"===r:!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?void 0!==n?n:NaN:r}set(e,n){this.m.set(e,n)}}const tc=new TJ,WV=t=>YV(t),YV=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=PJ(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},PJ=t=>{const e=tc.get("platform");return Object.keys(e2).filter(n=>{const r=null==e?void 0:e[n];return"function"==typeof r?r(t):e2[n](t)})},sT=t=>!!(Du(t,/iPad/i)||Du(t,/Macintosh/i)&&OI(t)),QV=t=>Du(t,/android|sink/i),OI=t=>BJ(t,"(any-pointer:coarse)"),XV=t=>ZV(t)||JV(t),ZV=t=>!!(t.cordova||t.phonegap||t.PhoneGap),JV=t=>{const e=t.Capacitor;return!(null==e||!e.isNative)},Du=(t,e)=>e.test(t.navigator.userAgent),BJ=(t,e)=>{var n;return null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,e).matches},e2={ipad:sT,iphone:t=>Du(t,/iPhone/i),ios:t=>Du(t,/iPhone|iPod/i)||sT(t),android:QV,phablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return sT(t)||(t=>QV(t)&&!Du(t,/mobile/i))(t)||r>460&&r<820&&i>780&&i<1400},cordova:ZV,capacitor:JV,electron:t=>Du(t,/electron/i),pwa:t=>{var e;return!!(null!==(e=t.matchMedia)&&void 0!==e&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},mobile:OI,mobileweb:t=>OI(t)&&!XV(t),desktop:t=>!OI(t),hybrid:XV};var lm=oe(1896),jJ=oe(9248);const HJ=["addListener","removeListener"],zJ=["addEventListener","removeEventListener"],GJ=["on","off"];function kI(t,e,n,r){if(gt(n)&&(r=n,n=void 0),r)return kI(t,e,n).pipe(Zb(r));const[i,o]=function KJ(t){return gt(t.addEventListener)&&gt(t.removeEventListener)}(t)?zJ.map(s=>a=>t[s](e,a,n)):function qJ(t){return gt(t.addListener)&&gt(t.removeListener)}(t)?HJ.map(t2(t,e)):function WJ(t){return gt(t.on)&&gt(t.off)}(t)?GJ.map(t2(t,e)):[];if(!i&&Qb(t))return Si(s=>kI(s,e,n))(bo(t));if(!i)throw new TypeError("Invalid event target");return new Sn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function t2(t,e){return n=>r=>t[n](e,r)}function n2(t,e=ur){return t=null!=t?t:YJ,_t((n,r)=>{let i,o=!0;n.subscribe(xt(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function YJ(t,e){return t===e}let XJ=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new L,this.keyboardDidShow=new L,this.keyboardDidHide=new L,this.pause=new L,this.resume=new L,this.resize=new L,r.run(()=>{var i;let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(l=>l.register(s,u=>r.run(()=>a(u))))},Wh(this.pause,n,"pause",r),Wh(this.resume,n,"resume",r),Wh(this.backButton,n,"ionBackButton",r),Wh(this.resize,this.win,"resize",r),Wh(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),Wh(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(s=>{o=s}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((t,e)=>("string"==typeof t&&(e=t,t=void 0),WV(t).includes(e)))(this.win,n)}platforms(){return WV(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return ZJ(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(Ye(Co),Ye(Te))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ZJ=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Wh=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{t.next(null!=i?i.detail:void 0)})})};let Kh=(()=>{class t{constructor(n,r,i,o){this.location=r,this.serializer=i,this.router=o,this.direction=r2,this.animated=i2,this.guessDirection="forward",this.lastNavId=-1,o&&o.events.subscribe(s=>{if(s instanceof qg){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,y.c)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,i,o){this.direction=n,this.animated=JJ(n,r,i),this.animationBuilder=o}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=r2,this.animated=i2,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(Ye(XJ),Ye(Kl),Ye(yu),Ye(Or,8))},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JJ=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},r2="auto",i2=void 0;let aT=(()=>{class t{get(n,r){const i=lT();return i?i.get(n,r):null}getBoolean(n,r){const i=lT();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=lT();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const o2=new rt("USERCONFIG"),lT=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};class s2{constructor(e={}){this.data=e}get(e){return this.data[e]}}let cm=(()=>{class t{constructor(){this.zone=Be(Te),this.applicationRef=Be(Gl)}create(n,r,i){return new eee(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),t})();class eee{constructor(e,n,r,i,o){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),o(tee(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}}const tee=(t,e,n,r,i,o,s,a,l,u,h)=>{const m=function w8(t,e){const n=rn(t),r=e.elementInjector||Pl();return new dg(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:fr.create({providers:ree(l),parent:n})}),v=m.instance,b=m.location.nativeElement;if(l&&(h&&void 0!==v[h]&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),Object.assign(v,l)),u)for(const R of u)b.classList.add(R);const A=a2(t,v,b);return s.appendChild(b),r.attachView(m.hostView),i.set(b,m),o.set(b,A),b},nee=[lm.L,lm.a,lm.b,lm.c,lm.d],a2=(t,e,n)=>t.run(()=>{const r=nee.filter(i=>"function"==typeof e[i]).map(i=>{const o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),l2=new rt("NavParamsToken"),ree=t=>[{provide:l2,useValue:t},{provide:s2,useFactory:iee,deps:[l2]}],iee=t=>new s2(t),c2=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),uT=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},u2=(t,e)=>!e||t.stackId!==e.stackId,mee=(t,e)=>{if(!t)return;const n=d2(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},d2=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),h2=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class _ee{constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?d2(e):void 0}createView(e,n){var r;const i=uT(this.router,n),o=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,s=a2(this.zone,e.instance,o);return{id:this.nextId++,stackId:mee(this.tabsPrefix,i),unlistenEvents:s,element:o,ref:e,url:i}}getExistingView(e){const n=uT(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r;const i=this.navCtrl.consumeTransition();let{direction:o,animation:s,animationBuilder:a}=i;const l=this.activeView,u=u2(e,l);u&&(o="back",s=void 0);const h=this.views.slice();let g;const m=this.router;m.getCurrentNavigation?g=m.getCurrentNavigation():null!==(n=m.navigations)&&void 0!==n&&n.value&&(g=m.navigations.value),null!==(r=g)&&void 0!==r&&null!==(r=r.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const v=this.views.includes(e),b=this.insertView(e,o);v||e.ref.changeDetectorRef.detectChanges();const A=e.animationBuilder;return void 0===a&&"back"===o&&!u&&void 0!==A&&(a=A),l&&(l.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(l&&l.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,l,s,this.canGoBack(1),!1,a).then(()=>vee(e,b,h,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:s,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let o=i.url;const s=i.savedData;if(s){var a;const u=s.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(a=a._routerState)&&void 0!==a&&a.snapshot.url&&(o=u.route._routerState.snapshot.url)}const{animationBuilder:l}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,{...i.savedExtras,animation:l}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&f2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(h2),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?c2(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):c2(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){var n=this;return(0,y.c)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const vee=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(o=>{requestAnimationFrame(()=>{f2(t,e,n,r,i),o()})}):Promise.resolve(),f2=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(h2)),e.forEach(o=>{const a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){const l=o.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})};let p2=(()=>{class t{constructor(n,r,i,o,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new q(null),this.activated=null,this._activatedRoute=null,this.name=sn,this.stackWillChange=new st,this.stackDidChange=new st,this.activateEvents=new st,this.deactivateEvents=new st,this.parentContexts=Be(Iu),this.location=Be(Jo),this.environmentInjector=Be(si),this.inputBinder=Be(g2,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=Be(aT),this.navCtrl=Be(Kh),this.nativeEl=o.nativeElement,this.name=n||sn,this.tabsPrefix="true"===r?uT(s,l):void 0,this.stackCtrl=new _ee(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){var n;this.stackCtrl.destroy(),null===(n=this.inputBinder)||void 0===n||n.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,jJ.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const o=r.route.snapshot;this.activatedView.savedExtras.queryParams=o.queryParams,this.activatedView.savedExtras.fragment=o.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){var i;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,s=this.stackCtrl.getExistingView(n);if(s){o=this.activated=s.ref;const u=s.savedData;u&&(this.getContext().children.contexts=u),this.updateActivatedRouteProxy(o.instance,n)}else{var a;const u=n._futureSnapshot,h=this.parentContexts.getOrCreateContext(this.name).children,g=new q(null),m=this.createActivatedRouteProxy(g,n),v=new yee(m,h,this.location.injector),b=null!==(a=u.routeConfig.component)&&void 0!==a?a:u.component;o=this.activated=this.location.createComponent(b,{index:this.location.length,injector:v,environmentInjector:null!=r?r:this.environmentInjector}),g.next(o.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}null===(i=this.inputBinder)||void 0===i||i.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);const l=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:u2(s,l)}),this.stackCtrl.setActive(s).then(u=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(u)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new zs;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(Lo(i=>!!i),Rr(i=>this.currentActivatedRoute$.pipe(Lo(o=>null!==o&&o.component===i),Rr(o=>o&&o.activatedRoute[r]),n2())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(Ol("name"),Ol("tabs"),E(Kl),E(Fe),E(Or),E(Te),E(zs),E(t,12))},t.\u0275dir=Pt({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yee{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===zs?this.route:e===Iu?this.childContexts:this.parent.get(e,n)}}const g2=new rt("");let Iee=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){var r;null===(r=this.outletDataSubscriptions.get(n))||void 0===r||r.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=iI([r.queryParams,r.params,r.data]).pipe(Rr(([o,s,a],l)=>(a={...o,...s,...a},0===l?Vt(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=yk(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),t})();function wee(t){return null!=t&&t.componentInputBindingEnabled?new Iee:null}let Dee=(()=>{class t{constructor(n,r,i,o,s){this.locationStrategy=n,this.navCtrl=r,this.elementRef=i,this.router=o,this.routerLink=s,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var n;if(null!==(n=this.routerLink)&&void 0!==n&&n.urlTree){const r=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=r}}onClick(n){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),n.preventDefault()}}return t.\u0275fac=function(n){return new(n||t)(E(Fa),E(Kh),E(Fe),E(Or),E(Eu,8))},t.\u0275dir=Pt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Dn("click",function(o){return r.onClick(o)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f]}),t})();const m2=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);class _2{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}oe(388),oe(6256),oe(8512),oe(6556),oe(2528);var Nee=oe(8523),Oee=oe(9637),v2=(oe(3452),oe(3816)),kee=(oe(4829),oe(2992));oe(6560),oe(2784);const Lee=Nee.i,Vee=function(){var t=(0,y.c)(function*(e,n){if(!(typeof window>"u"))return yield Lee(),(0,kee.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"],"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),n)});return function(n,r){return t.apply(this,arguments)}}(),ft=["*"],Yee=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},Qee=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Ln=(t,e,n)=>{n.forEach(r=>t[r]=kI(e,r))};function mt(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:o}=t;return void 0!==r&&r(),i&&Yee(n,i),o&&Qee(n,o),n}}let y2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Ln(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(n){return new(n||t)(E(it),E(Fe),E(Te))},t.\u0275cmp=Ge({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(ut(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,ot.UN)([mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),I2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(it),E(Fe),E(Te))},t.\u0275cmp=Ge({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(ut(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,ot.UN)([mt({inputs:["collapse"]})],t),t})(),E2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Ln(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return t.\u0275fac=function(n){return new(n||t)(E(it),E(Fe),E(Te))},t.\u0275cmp=Ge({type:t,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(ut(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,ot.UN)([mt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t),t})(),w2=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(E(it),E(Fe),E(Te))},t.\u0275cmp=Ge({type:t,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:ft,decls:1,vars:0,template:function(n,r){1&n&&(ut(),ct(0))},encapsulation:2,changeDetection:0}),t=(0,ot.UN)([mt({inputs:["autoHide","menu"]})],t),t})(),dm=(()=>{class t extends p2{constructor(n,r,i,o,s,a,l,u){super(n,r,i,o,s,a,l,u),this.parentOutlet=u}}return t.\u0275fac=function(n){return new(n||t)(Ol("name"),Ol("tabs"),E(Kl),E(Fe),E(Or),E(Te),E(zs),E(t,12))},t.\u0275dir=Pt({type:t,selectors:[["ion-router-outlet"]],features:[nn]}),t})(),fT=(()=>{class t extends Dee{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=Pt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],features:[nn]}),t})();const Ene={provide:yi,useExisting:Nn(()=>C2),multi:!0};let C2=(()=>{class t extends rT{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=Pt({type:t,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ns("max",r._enabled?r.max:null)},features:[On([Ene]),nn]}),t})();const wne={provide:yi,useExisting:Nn(()=>b2),multi:!0};let b2=(()=>{class t extends iT{}return t.\u0275fac=(()=>{let e;return function(r){return(e||(e=hr(t)))(r||t)}})(),t.\u0275dir=Pt({type:t,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&ns("min",r._enabled?r.min:null)},features:[On([wne]),nn]}),t})(),Cne=(()=>{class t extends _2{constructor(){super(v2.m),this.angularDelegate=Be(cm),this.injector=Be(fr),this.environmentInjector=Be(si)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Dt({token:t,factory:t.\u0275fac}),t})();class bne extends _2{constructor(){super(v2.c),this.angularDelegate=Be(cm),this.injector=Be(fr),this.environmentInjector=Be(si)}create(e){return super.create({...e,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Dne=(t,e,n)=>()=>{const r=e.defaultView;if(r&&typeof window<"u"){(0,Oee.s)({...t,_zoneGate:o=>n.run(o)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function Fee(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(oe.e(4448).then(oe.t.bind(oe,812,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(oe.e(488).then(oe.t.bind(oe,6304,23)))}return Promise.all(t)}().then(()=>Vee(r,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:m2,jmp:o=>n.runOutsideAngular(o),ael(o,s,a,l){o[i](s,a,l)},rel(o,s,a,l){o.removeEventListener(s,a,l)}}))}};let Tne=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:o2,useValue:n},{provide:Fy,useFactory:Dne,multi:!0,deps:[o2,Co,Te]},{provide:g2,useFactory:wee,deps:[Or]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({providers:[cm,Cne,bne],imports:[Uk]}),t})(),Ane=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}login(){const i=document.getElementById("login-email").value,s=document.getElementById("login-password").value;return this.afAuth.signInWithEmailAndPassword(i,s).then(()=>{alert("Login riuscito!"),this.router.navigate(["/home"])}).catch(a=>{alert("Errore durante il login: "+a.message)})}toRegister(){this.router.navigate(["/register"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Zl),E(Or))},t.\u0275cmp=Ge({type:t,selectors:[["app-login"]],decls:18,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["type","email","id","login-email","placeholder","Email",1,"field1"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["type","password","id","login-password","placeholder","Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center","height","2.5rem",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(Ct(0,"body"),dn(1,"img",0),Ct(2,"div",1)(3,"div",2),dn(4,"img",3)(5,"input",4),on(),Ct(6,"div",2),dn(7,"img",5)(8,"input",6),on(),Ct(9,"button",7),Dn("click",function(){return i.login()}),Ct(10,"div",8),dn(11,"img",9),Ct(12,"p",10),er(13,"Login"),on()()()(),Ct(14,"p",11),er(15,"Non possiedi un account?"),Ct(16,"strong",12),Dn("click",function(){return i.toRegister()}),er(17,"Registrati"),on()()())}}),e})();function pT(){return _t((t,e)=>{let n,r=!1;t.subscribe(xt(e,i=>{const o=n;n=i,r&&e.next([o,i]),r=!0}))})}var vt,LI=oe(4920),Ys=oe(5976),cn=oe(7144),Sne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bs={},gT=gT||{},Zt=Sne||self;function VI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function hm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mT="closure_uid_"+(1e9*Math.random()>>>0),Mne=0;function Pne(t,e,n){return t.call.apply(t.bind,arguments)}function xne(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qi(t,e,n){return(qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pne:xne).apply(null,arguments)}function $I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ii(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function nc(){this.s=this.s,this.o=this.o}nc.prototype.s=!1,nc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Rne(t){Object.prototype.hasOwnProperty.call(t,mT)&&t[mT]||(t[mT]=++Mne)}(this)},nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const D2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _T(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(VI(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Wi(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wi.prototype.h=function(){this.defaultPrevented=!0};var One=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Zt.addEventListener("test",n,e),Zt.removeEventListener("test",n,e)}catch{}return t}();function fm(t){return/^[\s\xa0]*$/.test(t)}function UI(){var t=Zt.navigator;return t&&(t=t.userAgent)?t:""}function Qs(t){return-1!=UI().indexOf(t)}function vT(t){return vT[" "](t),t}vT[" "]=function(){};var IT,t,Fne=Qs("Opera"),Qh=Qs("Trident")||Qs("MSIE"),A2=Qs("Edge"),yT=A2||Qh,S2=Qs("Gecko")&&!(-1!=UI().toLowerCase().indexOf("webkit")&&!Qs("Edge"))&&!(Qs("Trident")||Qs("MSIE"))&&!Qs("Edge"),Lne=-1!=UI().toLowerCase().indexOf("webkit")&&!Qs("Edge");function R2(){var t=Zt.document;return t?t.documentMode:void 0}e:{var ET="",wT=(t=UI(),S2?/rv:([^\);]+)(\)|;)/.exec(t):A2?/Edge\/([\d\.]+)/.exec(t):Qh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Lne?/WebKit\/(\S+)/.exec(t):Fne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(wT&&(ET=wT?wT[1]:""),Qh){var CT=R2();if(null!=CT&&CT>parseFloat(ET)){IT=String(CT);break e}}IT=ET}var Vne=Zt.document&&Qh&&(R2()||parseInt(IT,10))||void 0;function pm(t,e){if(Wi.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(S2){e:{try{vT(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$ne[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pm.$.h.call(this)}}Ii(pm,Wi);var $ne={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gm="closure_listenable_"+(1e6*Math.random()|0),Une=0;function Bne(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Une,this.fa=this.ia=!1}function BI(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function DT(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function P2(t){const e={};for(const n in t)e[n]=t[n];return e}const x2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N2(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<x2.length;o++)n=x2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jI(t){this.src=t,this.g={},this.h=0}function TT(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=D2(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(BI(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function AT(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}jI.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=AT(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Bne(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var ST="closure_lm_"+(1e6*Math.random()|0),RT={};function O2(t,e,n,r,i){if(r&&r.once)return F2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)O2(t,e[o],n,r,i);return null}return n=NT(n),t&&t[gm]?t.O(e,n,hm(r)?!!r.capture:!!r,i):k2(t,e,n,!1,r,i)}function k2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=hm(i)?!!i.capture:!!i,a=PT(t);if(a||(t[ST]=a=new jI(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function Hne(){const e=zne;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)One||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(V2(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function F2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)F2(t,e[o],n,r,i);return null}return n=NT(n),t&&t[gm]?t.P(e,n,hm(r)?!!r.capture:!!r,i):k2(t,e,n,!0,r,i)}function L2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)L2(t,e[o],n,r,i);else r=hm(r)?!!r.capture:!!r,n=NT(n),t&&t[gm]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=AT(o=t.g[e],n,r,i))&&(BI(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=PT(t))&&(e=t.g[e.toString()],t=-1,e&&(t=AT(e,n,r,i)),(n=-1<t?e[t]:null)&&MT(n))}function MT(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[gm])TT(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(V2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=PT(e))?(TT(n,t),0==n.h&&(n.src=null,e[ST]=null)):BI(t)}}}function V2(t){return t in RT?RT[t]:RT[t]="on"+t}function zne(t,e){if(t.fa)t=!0;else{e=new pm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&MT(t),t=n.call(r,e)}return t}function PT(t){return(t=t[ST])instanceof jI?t:null}var xT="__closure_events_fn_"+(1e9*Math.random()>>>0);function NT(t){return"function"==typeof t?t:(t[xT]||(t[xT]=function(e){return t.handleEvent(e)}),t[xT])}function Ei(){nc.call(this),this.i=new jI(this),this.S=this,this.J=null}function Mi(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Wi(e,t);else if(e instanceof Wi)e.target=e.target||t;else{var i=e;N2(e=new Wi(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=HI(s,r,!0,e)&&i}if(i=HI(s=e.g=t,r,!0,e)&&i,i=HI(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=HI(s=e.g=n[o],r,!1,e)&&i}function HI(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&TT(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ii(Ei,nc),Ei.prototype[gm]=!0,Ei.prototype.removeEventListener=function(t,e,n,r){L2(this,t,e,n,r)},Ei.prototype.N=function(){if(Ei.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)BI(n[r]);delete t.g[e],t.h--}}this.J=null},Ei.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ei.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var OT=Zt.JSON.stringify;function qne(){var t=kT;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $2=new class Gne{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Kne,t=>t.reset());class Kne{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Yne(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Qne(t){Zt.setTimeout(()=>{throw t},0)}let mm,_m=!1,kT=new class Wne{constructor(){this.h=this.g=null}add(e,n){const r=$2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},U2=()=>{const t=Zt.Promise.resolve(void 0);mm=()=>{t.then(Xne)}};var Xne=()=>{for(var t;t=qne();){try{t.h.call(t.g)}catch(n){Qne(n)}var e=$2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_m=!1};function zI(t,e){Ei.call(this),this.h=t||1,this.g=e||Zt,this.j=qi(this.qb,this),this.l=Date.now()}function FT(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function LT(t,e,n){if("function"==typeof t)n&&(t=qi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=qi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zt.setTimeout(t,e||0)}function B2(t){t.g=LT(()=>{t.g=null,t.i&&(t.i=!1,B2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ii(zI,Ei),(vt=zI.prototype).ga=!1,vt.T=null,vt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mi(this,"tick"),this.ga&&(FT(this),this.start()))}},vt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vt.N=function(){zI.$.N.call(this),FT(this),delete this.g};class Zne extends nc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:B2(this)}N(){super.N(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vm(t){nc.call(this),this.h=t,this.g={}}Ii(vm,nc);var j2=[];function H2(t,e,n,r){Array.isArray(n)||(n&&(j2[0]=n.toString()),n=j2);for(var i=0;i<n.length;i++){var o=O2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function z2(t){DT(t.g,function(e,n){this.g.hasOwnProperty(n)&&MT(e)},t),t.g={}}function GI(){this.g=!0}function Xh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function nre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return OT(n)}catch{return e}}(t,n)+(r?" "+r:"")})}vm.prototype.N=function(){vm.$.N.call(this),z2(this)},vm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},GI.prototype.Ea=function(){this.g=!1},GI.prototype.info=function(){};var Tu={},G2=null;function qI(){return G2=G2||new Ei}function q2(t){Wi.call(this,Tu.Ta,t)}function ym(t){const e=qI();Mi(e,new q2(e))}function W2(t,e){Wi.call(this,Tu.STAT_EVENT,t),this.stat=e}function co(t){const e=qI();Mi(e,new W2(e,t))}function K2(t,e){Wi.call(this,Tu.Ua,t),this.size=e}function Im(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){t()},e)}Tu.Ta="serverreachability",Ii(q2,Wi),Tu.STAT_EVENT="statevent",Ii(W2,Wi),Tu.Ua="timingevent",Ii(K2,Wi);var WI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Y2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VT(){}function X2(){}VT.prototype.h=null;var BT,Em={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $T(){Wi.call(this,"d")}function UT(){Wi.call(this,"c")}function KI(){}function wm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vm(this),this.P=rre,this.V=new zI(t=yT?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Z2}function Z2(){this.i=null,this.g="",this.h=!1}Ii($T,Wi),Ii(UT,Wi),Ii(KI,VT),KI.prototype.g=function(){return new XMLHttpRequest},KI.prototype.i=function(){return{}},BT=new KI;var rre=45e3,J2={},jT={};function HT(t,e,n){t.L=1,t.A=ZI(ja(e)),t.u=n,t.S=!0,e$(t,null)}function e$(t,e){t.G=Date.now(),Cm(t),t.B=ja(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),u$(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Z2,t.g=O$(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Zne(qi(t.Pa,t,t.g),t.O)),H2(t.U,t.g,"readystatechange",t.nb),e=t.I?P2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ym(),function Jne(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var g=h.split("_");s=2<=g.length&&"type"==g[1]?s+(h+"=")+u+"&":s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.v,t.B,t.m,t.W,t.u)}function t$(t){return!!t.g&&"GET"==t.v&&2!=t.L&&t.l.Ha}function n$(t,e,n){let i,r=!0;for(;!t.J&&t.o<n.length;){if(i=ire(t,n),i==jT){4==e&&(t.s=4,co(14),r=!1),Xh(t.j,t.m,null,"[Incomplete Response]");break}if(i==J2){t.s=4,co(15),Xh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Xh(t.j,t.m,i,null),zT(t,i)}t$(t)&&0!=t.o&&(t.h.g=t.h.g.slice(t.o),t.o=0),4!=e||0!=n.length||t.h.h||(t.s=1,co(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),XT(e),e.M=!0,co(11))):(Xh(t.j,t.m,n,"[Invalid Chunked Response]"),Au(t),bm(t))}function ire(t,e){var n=t.o,r=e.indexOf("\n",n);return-1==r?jT:(n=Number(e.substring(n,r)),isNaN(n)?J2:(r+=1)+n>e.length?jT:(e=e.slice(r,r+n),t.o=r+n,e))}function Cm(t){t.Y=Date.now()+t.P,r$(t,t.P)}function r$(t,e){if(null!=t.C)throw Error("WatchDog timer not null");t.C=Im(qi(t.lb,t),e)}function YI(t){t.C&&(Zt.clearTimeout(t.C),t.C=null)}function bm(t){0==t.l.H||t.J||M$(t.l,t)}function Au(t){YI(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,FT(t.V),z2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zT(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||GT(n.i,t)))if(!t.K&&GT(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;iE(n),nE(n)}QT(n),co(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Im(qi(n.ib,n),6e3));if(1>=f$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ru(n,11)}else if((t.K||n.g==t)&&iE(n),!fm(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const h=u[3];null!=h&&(n.ra=h,n.l.info("VER="+n.ra));const g=u[4];null!=g&&(n.Ga=g,n.l.info("SVER="+n.Ga));const m=u[5];null!=m&&"number"==typeof m&&0<m&&(n.L=r=1.5*m,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const b=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(qT(o,o.h),o.h=null))}if(r.F){const A=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(r.Da=A,pr(r.I,r.F,A))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=N$(r,r.J?r.pa:null,r.Y),s.K){p$(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(YI(a),Cm(a)),r.g=s}else S$(r);0<n.j.length&&rE(n)}else"stop"!=u[0]&&"close"!=u[0]||Ru(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ru(n,7):YT(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}ym()}catch{}}function i$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(VI(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function sre(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(VI(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function ore(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(VI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(vt=wm.prototype).setTimeout=function(t){this.P=t},vt.nb=function(t){t=t.target;const e=this.M;e&&3==Xs(t)?e.l():this.Pa(t)},vt.Pa=function(t){try{if(t==this.g)e:{const h=Xs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||yT||this.g&&(this.h.h||this.g.ja()||w$(this.g)))){this.J||4!=h||7==e||ym(),YI(this);var n=this.g.da();this.ca=n;t:if(t$(this)){var r=w$(this.g);t="";var i=r.length,o=4==Xs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Au(this),bm(this);var s="";break t}this.h.i=new Zt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function ere(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fm(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.s=3,co(12),Au(this),bm(this);break e}Xh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zT(this,n)}this.S?(n$(this,h,s),yT&&this.i&&3==h&&(H2(this.U,this.V,"tick",this.mb),this.V.start())):(Xh(this.j,this.m,s,null),zT(this,s)),4==h&&Au(this),this.i&&!this.J&&(4==h?M$(this.l,this):(this.i=!1,Cm(this)))}else(function bre(t){const e={};t=(t.g&&2<=Xs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(fm(t[r]))continue;var n=Yne(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function jne(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,co(12)):(this.s=0,co(13)),Au(this),bm(this)}}}catch{}},vt.mb=function(){if(this.g){var t=Xs(this.g),e=this.g.ja();this.o<e.length&&(YI(this),n$(this,t,e),this.i&&4!=t&&Cm(this))}},vt.cancel=function(){this.J=!0,Au(this)},vt.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(function tre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(ym(),co(17)),Au(this),this.s=2,bm(this)):r$(this,this.Y-t)};var o$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Su(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Su){this.h=t.h,QI(this,t.j),this.s=t.s,this.g=t.g,XI(this,t.m),this.l=t.l;var e=t.i,n=new Am;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),s$(this,n),this.o=t.o}else t&&(e=String(t).match(o$))?(this.h=!1,QI(this,e[1]||"",!0),this.s=Dm(e[2]||""),this.g=Dm(e[3]||"",!0),XI(this,e[4]),this.l=Dm(e[5]||"",!0),s$(this,e[6]||"",!0),this.o=Dm(e[7]||"")):(this.h=!1,this.i=new Am(null,this.h))}function ja(t){return new Su(t)}function QI(t,e,n){t.j=n?Dm(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function XI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function s$(t,e,n){e instanceof Am?(t.i=e,function fre(t,e){e&&!t.j&&(rc(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l$(this,r),u$(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Tm(e,dre)),t.i=new Am(e,t.h))}function pr(t,e,n){t.i.set(e,n)}function ZI(t){return pr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dm(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,lre),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lre(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Su.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tm(e,a$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Tm(e,a$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Tm(n,"/"==n.charAt(0)?ure:cre,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tm(n,hre)),t.join("")};var a$=/[#\/\?@]/g,cre=/[#\?:]/g,ure=/[#\?]/g,dre=/[#\?@]/g,hre=/#/g;function Am(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rc(t){t.g||(t.g=new Map,t.h=0,t.i&&function are(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function l$(t,e){rc(t),e=Zh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function c$(t,e){return rc(t),e=Zh(t,e),t.g.has(e)}function u$(t,e,n){l$(t,e),0<n.length&&(t.i=null,t.g.set(Zh(t,e),_T(n)),t.h+=n.length)}function Zh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(vt=Am.prototype).add=function(t,e){rc(this),this.i=null,t=Zh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},vt.forEach=function(t,e){rc(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},vt.ta=function(){rc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},vt.Z=function(t){rc(this);let e=[];if("string"==typeof t)c$(this,t)&&(e=e.concat(this.g.get(Zh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},vt.set=function(t,e){return rc(this),this.i=null,c$(this,t=Zh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},vt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var pre=class{constructor(t,e){this.g=t,this.map=e}};function d$(t){this.l=t||gre,t=Zt.PerformanceNavigationTiming?0<(t=Zt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ka&&Zt.g.Ka()&&Zt.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gre=10;function h$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function f$(t){return t.h?1:t.g?t.g.size:0}function GT(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function qT(t,e){t.g?t.g.add(e):t.h=e}function p$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function g$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _T(t.i)}d$.prototype.cancel=function(){if(this.i=g$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var mre=class{stringify(t){return Zt.JSON.stringify(t,void 0)}parse(t){return Zt.JSON.parse(t,void 0)}};function _re(){this.g=new mre}function vre(t,e,n){const r=n||"";try{i$(t,function(i,o){let s=i;hm(i)&&(s=OT(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function JI(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sm(t){this.l=t.ec||null,this.j=t.ob||!1}function eE(t,e){Ei.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=WT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ii(Sm,VT),Sm.prototype.g=function(){return new eE(this.l,this.j)},Sm.prototype.i=function(t){return function(){return t}}({}),Ii(eE,Ei);var WT=0;function m$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Rm(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Mm(t)}function Mm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(vt=eE.prototype).open=function(t,e){if(this.readyState!=WT)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Mm(this)},vt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rm(this)),this.readyState=WT},vt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Mm(this)),this.g&&(this.readyState=3,Mm(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},vt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rm(this):Mm(this),3==this.readyState&&m$(this)}},vt.Za=function(t){this.g&&(this.response=this.responseText=t,Rm(this))},vt.Ya=function(t){this.g&&(this.response=t,Rm(this))},vt.ka=function(){this.g&&Rm(this)},vt.setRequestHeader=function(t,e){this.v.append(t,e)},vt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},vt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(eE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ire=Zt.JSON.parse;function kr(t){Ei.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_$,this.L=this.M=!1}Ii(kr,Ei);var _$="",Ere=/^https?$/i,wre=["POST","PUT"];function v$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,y$(t),tE(t)}function y$(t){t.F||(t.F=!0,Mi(t,"complete"),Mi(t,"error"))}function I$(t){if(t.h&&typeof gT<"u"&&(!t.C[1]||4!=Xs(t)||2!=t.da()))if(t.v&&4==Xs(t))LT(t.La,0,t);else if(Mi(t,"readystatechange"),4==Xs(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(o$)[1]||null;!i&&Zt.self&&Zt.self.location&&(i=Zt.self.location.protocol.slice(0,-1)),r=!Ere.test(i?i.toLowerCase():"")}n=r}if(n)Mi(t,"complete"),Mi(t,"success");else{t.m=6;try{var o=2<Xs(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",y$(t)}}finally{tE(t)}}}function tE(t,e){if(t.g){E$(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mi(t,"ready");try{n.onreadystatechange=r}catch{}}}function E$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Zt.clearTimeout(t.A),t.A=null)}function Xs(t){return t.g?t.g.readyState:0}function w$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C$(t){let e="";return DT(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function KT(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pr(t,e,n))}function Pm(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function b$(t){this.Ga=0,this.j=[],this.l=new GI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Pm("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Pm("baseRetryDelayMs",5e3,t),this.hb=Pm("retryDelaySeedMs",1e4,t),this.eb=Pm("forwardChannelMaxRetries",2,t),this.xa=Pm("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new d$(t&&t.concurrentRequestLimit),this.Ja=new _re,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function YT(t){if(D$(t),3==t.H){var e=t.W++,n=ja(t.I);if(pr(n,"SID",t.K),pr(n,"RID",e),pr(n,"TYPE","terminate"),xm(t,n),(e=new wm(t,t.l,e)).L=2,e.A=ZI(ja(n)),n=!1,Zt.navigator&&Zt.navigator.sendBeacon)try{n=Zt.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Zt.Image&&((new Image).src=e.A,n=!0),n||(e.g=O$(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cm(e)}x$(t)}function nE(t){t.g&&(XT(t),t.g.cancel(),t.g=null)}function D$(t){nE(t),t.u&&(Zt.clearTimeout(t.u),t.u=null),iE(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zt.clearTimeout(t.m),t.m=null)}function rE(t){if(!h$(t.i)&&!t.m){t.m=!0;var e=t.Na;mm||U2(),_m||(mm(),_m=!0),kT.add(e,t),t.C=0}}function T$(t,e){var n;n=e?e.m:t.W++;const r=ja(t.I);pr(r,"SID",t.K),pr(r,"RID",n),pr(r,"AID",t.V),xm(t,r),t.o&&t.s&&KT(r,t.o,t.s),n=new wm(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=A$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),qT(t.i,n),HT(n,r,e)}function xm(t,e){t.na&&DT(t.na,function(n,r){pr(e,r,n)}),t.h&&i$({},function(n,r){pr(e,r,n)})}function A$(t,e,n){n=Math.min(t.j.length,n);var r=t.h?qi(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{vre(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function S$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;mm||U2(),_m||(mm(),_m=!0),kT.add(e,t),t.A=0}}function QT(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Im(qi(t.Ma,t),P$(t,t.A)),t.A++,0))}function XT(t){null!=t.B&&(Zt.clearTimeout(t.B),t.B=null)}function R$(t){t.g=new wm(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ja(t.wa);pr(e,"RID","rpc"),pr(e,"SID",t.K),pr(e,"AID",t.V),pr(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pr(e,"TO",t.qa),pr(e,"TYPE","xmlhttp"),xm(t,e),t.o&&t.s&&KT(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ZI(ja(e)),n.u=null,n.S=!0,e$(n,t)}function iE(t){null!=t.v&&(Zt.clearTimeout(t.v),t.v=null)}function M$(t,e){var n=null;if(t.g==e){iE(t),XT(t),t.g=null;var r=2}else{if(!GT(t.i,e))return;n=e.F,p$(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;Mi(r=qI(),new K2(r,n)),rE(t)}else S$(t);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function Dre(t,e){return!(f$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Im(qi(t.Na,t,e),P$(t,t.C)),t.C++,0)))}(t,e)||2==r&&QT(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ru(t,5);break;case 4:Ru(t,10);break;case 3:Ru(t,6);break;default:Ru(t,2)}}function P$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ru(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=qi(t.pb,t);n||(n=new Su("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||QI(n,"https"),ZI(n)),function yre(t,e){const n=new GI;if(Zt.Image){const r=new Image;r.onload=$I(JI,n,r,"TestLoadImage: loaded",!0,e),r.onerror=$I(JI,n,r,"TestLoadImage: error",!1,e),r.onabort=$I(JI,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=$I(JI,n,r,"TestLoadImage: timeout",!1,e),Zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else co(2);t.H=0,t.h&&t.h.za(e),x$(t),D$(t)}function x$(t){if(t.H=0,t.ma=[],t.h){const e=g$(t.i);(0!=e.length||0!=t.j.length)&&(T2(t.ma,e),T2(t.ma,t.j),t.i.i.length=0,_T(t.j),t.j.length=0),t.h.ya()}}function N$(t,e,n){var r=n instanceof Su?ja(n):new Su(n);if(""!=r.g)e&&(r.g=e+"."+r.g),XI(r,r.m);else{var i=Zt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Su(null);r&&QI(o,r),e&&(o.g=e),i&&XI(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&pr(r,n,e),pr(r,"VER",t.ra),xm(t,r),r}function O$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kr(t.Ha&&!t.va?new Sm({ob:n}):t.va)).Oa(t.J),e}function k$(){}function oE(){if(Qh&&!(10<=Number(Vne)))throw Error("Environmental error: no available transport.")}function Vo(t,e){Ei.call(this),this.g=new b$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fm(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fm(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Jh(this)}function F$(t){$T.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function L$(){UT.call(this),this.status=1}function Jh(t){this.g=t}function Ds(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ZT(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function jn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(vt=kr.prototype).Oa=function(t){this.M=t},vt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():BT.g(),this.C=function Q2(t){return t.h||(t.h=t.i())}(this.u?this.u:BT),this.g.onreadystatechange=qi(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void v$(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=Zt.FormData&&t instanceof Zt.FormData,!(0<=D2(wre,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{E$(this),0<this.B&&((this.L=function Cre(t){return Qh&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qi(this.ua,this)):this.A=LT(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){v$(this,o)}},vt.ua=function(){typeof gT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mi(this,"timeout"),this.abort(8))},vt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mi(this,"complete"),Mi(this,"abort"),tE(this))},vt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tE(this,!0)),kr.$.N.call(this)},vt.La=function(){this.s||(this.G||this.v||this.l?I$(this):this.kb())},vt.kb=function(){I$(this)},vt.isActive=function(){return!!this.g},vt.da=function(){try{return 2<Xs(this)?this.g.status:-1}catch{return-1}},vt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},vt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ire(e)}},vt.Ia=function(){return this.m},vt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(vt=b$.prototype).ra=8,vt.H=1,vt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new wm(this,this.l,t);let o=this.s;if(this.U&&(o?(o=P2(o),N2(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=A$(this,i,e),pr(n=ja(this.I),"RID",t),pr(n,"CVER",22),this.F&&pr(n,"X-HTTP-Session-Id",this.F),xm(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(C$(o)))+"&"+e:this.o&&KT(n,this.o,o)),qT(this.i,i),this.bb&&pr(n,"TYPE","init"),this.P?(pr(n,"$req",e),pr(n,"SID","null"),i.aa=!0,HT(i,n,null)):HT(i,n,e),this.H=2}}else 3==this.H&&(t?T$(this,t):0==this.j.length||h$(this.i)||T$(this))},vt.Ma=function(){if(this.u=null,R$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Im(qi(this.jb,this),t)}},vt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,co(10),nE(this),R$(this))},vt.ib=function(){null!=this.v&&(this.v=null,nE(this),QT(this),co(19))},vt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),co(2)):(this.l.info("Failed to ping google.com"),co(1))},vt.isActive=function(){return!!this.h&&this.h.isActive(this)},(vt=k$.prototype).Ba=function(){},vt.Aa=function(){},vt.za=function(){},vt.ya=function(){},vt.isActive=function(){return!0},vt.Va=function(){},oE.prototype.g=function(t,e){return new Vo(t,e)},Ii(Vo,Ei),Vo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;co(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=N$(t,null,t.Y),rE(t)},Vo.prototype.close=function(){YT(this.g)},Vo.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=OT(t),t=n);e.j.push(new pre(e.fb++,t)),3==e.H&&rE(e)},Vo.prototype.N=function(){this.g.h=null,delete this.j,YT(this.g),delete this.g,Vo.$.N.call(this)},Ii(F$,$T),Ii(L$,UT),Ii(Jh,k$),Jh.prototype.Ba=function(){Mi(this.g,"a")},Jh.prototype.Aa=function(t){Mi(this.g,new F$(t))},Jh.prototype.za=function(t){Mi(this.g,new L$)},Jh.prototype.ya=function(){Mi(this.g,"b")},Ii(Ds,function Tre(){this.blockSize=-1}),Ds.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ds.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)ZT(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ZT(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ZT(this,r),i=0;break}}this.h=i,this.i+=e},Ds.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Are={};function JT(t){return-128<=t&&128>t?function kne(t,e){var n=Are;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new jn([0|e],0>e?-1:0)}):new jn([0|t],0>t?-1:0)}function Zs(t){if(isNaN(t)||!isFinite(t))return ef;if(0>t)return Pi(Zs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eA;return new jn(e,0)}var eA=4294967296,ef=JT(0),tA=JT(1),$$=JT(16777216);function Ha(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ss(t){return-1==t.h}function Pi(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new jn(n,~t.h).add(tA)}function sE(t,e){return t.add(Pi(e))}function aE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Nm(t,e){this.g=t,this.h=e}function lE(t,e){if(Ha(e))throw Error("division by zero");if(Ha(t))return new Nm(ef,ef);if(ss(t))return e=lE(Pi(t),e),new Nm(Pi(e.g),Pi(e.h));if(ss(e))return e=lE(t,Pi(e)),new Nm(Pi(e.g),e.h);if(30<t.g.length){if(ss(t)||ss(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tA,r=e;0>=r.X(t);)n=U$(n),r=U$(r);var i=tf(n,1),o=tf(r,1);for(r=tf(r,2),n=tf(n,2);!Ha(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=tf(r,1),n=tf(n,1)}return e=sE(t,i.R(e)),new Nm(i,e)}for(i=ef;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Zs(n)).R(e);ss(s)||0<s.X(t);)s=(o=Zs(n-=r)).R(e);Ha(o)&&(o=tA),i=i.add(o),t=sE(t,s)}return new Nm(i,t)}function U$(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new jn(n,t.h)}function tf(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new jn(i,t.h)}(vt=jn.prototype).ea=function(){if(ss(this))return-Pi(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eA+r)*e,e*=eA}return t},vt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Ha(this))return"0";if(ss(this))return"-"+Pi(this).toString(t);for(var e=Zs(Math.pow(t,6)),n=this,r="";;){var i=lE(n,e).g,o=((0<(n=sE(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Ha(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},vt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},vt.X=function(t){return ss(t=sE(this,t))?-1:Ha(t)?0:1},vt.abs=function(){return ss(this)?Pi(this):this},vt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new jn(n,-2147483648&n[n.length-1]?-1:0)},vt.R=function(t){if(Ha(this)||Ha(t))return ef;if(ss(this))return ss(t)?Pi(this).R(Pi(t)):Pi(Pi(this).R(t));if(ss(t))return Pi(this.R(Pi(t)));if(0>this.X($$)&&0>t.X($$))return Zs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,l=65535&t.D(i);n[2*r+2*i]+=s*l,aE(n,2*r+2*i),n[2*r+2*i+1]+=o*l,aE(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,aE(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,aE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new jn(n,0)},vt.gb=function(t){return lE(this,t).h},vt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new jn(n,this.h&t.h)},vt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new jn(n,this.h|t.h)},vt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new jn(n,this.h^t.h)},oE.prototype.createWebChannel=oE.prototype.g,Vo.prototype.send=Vo.prototype.u,Vo.prototype.open=Vo.prototype.m,Vo.prototype.close=Vo.prototype.close,WI.NO_ERROR=0,WI.TIMEOUT=8,WI.HTTP_ERROR=6,Y2.COMPLETE="complete",X2.EventType=Em,Em.OPEN="a",Em.CLOSE="b",Em.ERROR="c",Em.MESSAGE="d",Ei.prototype.listen=Ei.prototype.O,kr.prototype.listenOnce=kr.prototype.P,kr.prototype.getLastError=kr.prototype.Sa,kr.prototype.getLastErrorCode=kr.prototype.Ia,kr.prototype.getStatus=kr.prototype.da,kr.prototype.getResponseJson=kr.prototype.Wa,kr.prototype.getResponseText=kr.prototype.ja,kr.prototype.send=kr.prototype.ha,kr.prototype.setWithCredentials=kr.prototype.Oa,Ds.prototype.digest=Ds.prototype.l,Ds.prototype.reset=Ds.prototype.reset,Ds.prototype.update=Ds.prototype.j,jn.prototype.add=jn.prototype.add,jn.prototype.multiply=jn.prototype.R,jn.prototype.modulo=jn.prototype.gb,jn.prototype.compare=jn.prototype.X,jn.prototype.toNumber=jn.prototype.ea,jn.prototype.toString=jn.prototype.toString,jn.prototype.getBits=jn.prototype.D,jn.fromNumber=Zs,jn.fromString=function V$(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Pi(V$(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zs(Math.pow(e,8)),r=ef,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Zs(Math.pow(e,o)),r=r.R(o).add(Zs(s))):r=(r=r.R(n)).add(Zs(s))}return r};var Sre=bs.createWebChannelTransport=function(){return new oE},Rre=bs.getStatEventTarget=function(){return qI()},nA=bs.ErrorCode=WI,Mre=bs.EventType=Y2,Pre=bs.Event=Tu,B$=bs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},cE=(bs.FetchXmlHttpFactory=Sm,bs.WebChannel=X2),xre=bs.XhrIo=kr,Nre=bs.Md5=Ds,nf=bs.Integer=jn;const j$="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let rf="10.8.0";const ic=new Ys.YJ("@firebase/firestore");function sf(){return ic.logLevel}function $e(t,...e){if(ic.logLevel<=Ys.Ge.DEBUG){const n=e.map(rA);ic.debug(`Firestore (${rf}): ${t}`,...n)}}function jr(t,...e){if(ic.logLevel<=Ys.Ge.ERROR){const n=e.map(rA);ic.error(`Firestore (${rf}): ${t}`,...n)}}function Do(t,...e){if(ic.logLevel<=Ys.Ge.WARN){const n=e.map(rA);ic.warn(`Firestore (${rf}): ${t}`,...n)}}function rA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Rt(t="Unexpected state"){const e=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Nt(t,e){t||Rt()}function ht(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends cn.kx{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class H${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wi.UNAUTHENTICATED))}shutdown(){}}class Lre{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vre{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ui,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable((0,y.c)(function*(){yield u.promise,yield o(r.currentUser)}))},l=u=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ui)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new H$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new wi(e)}}class $re{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ure{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $re(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bre{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{null!=o.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,$e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nt("string"==typeof n.token),this.R=n.token,new z$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function jre(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class G${static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=jre(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function af(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function q$(t){return t+"\0"}class Cr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Cr.fromMillis(Date.now())}static fromDate(e){return Cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Cr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new Cr(0,0))}static max(){return new Lt(new Cr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Om{constructor(e,n,r){void 0===n?n=0:n>e.length&&Rt(),void 0===r?r=e.length-n:r>e.length-n&&Rt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Om.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Om?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vn extends Om{construct(e,n,r){return new vn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vn(n)}static emptyPath(){return new vn([])}}const Hre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Om{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return Hre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}class pt{constructor(e){this.path=e}static fromPath(e){return new pt(vn.fromString(e))}static fromName(e){return new pt(vn.fromString(e).popFirst(5))}static empty(){return new pt(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return vn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new vn(e.slice()))}}class lf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function iA(t){return t.fields.find(e=>2===e.kind)}function Mu(t){return t.fields.filter(e=>2!==e.kind)}lf.UNKNOWN_ID=-1;class Pu{constructor(e,n){this.fieldPath=e,this.kind=n}}class cf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new cf(0,$o.min())}}function W$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Lt.fromTimestamp(1e9===r?new Cr(n+1,0):new Cr(n,r));return new $o(i,pt.empty(),e)}function K$(t){return new $o(t.readTime,t.key,-1)}class $o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $o(Lt.min(),pt.empty(),-1)}static max(){return new $o(Lt.max(),pt.empty(),-1)}}function oA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=pt.comparator(t.documentKey,e.documentKey),0!==n?n:Yt(t.largestBatchId,e.largestBatchId))}const Y$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oc(t){return sA.apply(this,arguments)}function sA(){return sA=(0,y.c)(function*(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==Y$)throw t;$e("LocalStore","Unexpectedly lost primary lease")}),sA.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,r)=>{n(e)})}static reject(e){return new ne((n,r)=>{r(e)})}static waitFor(e){return new ne((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next(i=>i?ne.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ne((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new ne((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}class uE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ui,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new km(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=aA(r.target.error);this.V.reject(new km(e,i))}}static open(e,n,r,i){try{return new uE(n,e.transaction(i,r))}catch(o){throw new km(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Wre(n)}}class as{constructor(e,n,r){this.name=e,this.version=n,this.p=r,12.2===as.S((0,cn.Su)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),xu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cn.yy)())return!1;if(as.C())return!0;const e=(0,cn.Su)(),n=as.S(e),r=0<n&&n<10,i=as.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var n=this;return(0,y.c)(function*(){return n.db||($e("SimpleDb","Opening database:",n.name),n.db=yield new Promise((r,i)=>{const o=indexedDB.open(n.name,n.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new km(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new ke(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new ke(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new km(e,a))},o.onupgradeneeded=s=>{$e("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',s.oldVersion),n.p.N(s.target.result,o.transaction,s.oldVersion,n.version).next(()=>{$e("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=r=>n.B(r)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){var o=this;return(0,y.c)(function*(){const s="readonly"===n;let a=0;for(;;){++a;try{o.db=yield o.O(e);const l=uE.open(o.db,e,s?"readonly":"readwrite",r),u=i(l).next(h=>(l.g(),h)).catch(h=>(l.abort(h),ne.reject(h))).toPromise();return u.catch(()=>{}),yield l.m,u}catch(l){const u=l,h="FirebaseError"!==u.name&&a<3;if($e("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),o.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qre{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return xu(this.k.delete())}}class km extends ke{constructor(e,n){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function sc(t){return"IndexedDbTransactionError"===t.name}class Wre{constructor(e){this.store=e}put(e,n){let r;return void 0!==n?($e("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xu(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),xu(this.store.add(e))}get(e){return xu(this.store.get(e)).next(n=>(void 0===n&&(n=null),$e("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),xu(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),xu(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const o=i.getAll(r.range);return new ne((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,null===n?void 0:n);return new ne((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ne((r,i)=>{n.onerror=o=>{const s=aA(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new ne((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new qre(a),u=n(a.primaryKey,a.value,l);if(u instanceof ne){const h=u.catch(g=>(l.done(),ne.reject(g)));r.push(h)}l.isDone?i():null===l.$?a.continue():a.continue(l.$)}}).next(()=>ne.waitFor(r))}options(e,n){let r;return void 0!==e&&("string"==typeof e?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xu(t){return new ne((e,n)=>{t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{const i=aA(r.target.error);n(i)}})}let X$=!1;function aA(t){const e=as.S((0,cn.Su)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return X$||(X$=!0,setTimeout(()=>{throw r},0)),r}}return t}class Kre{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var n=this;$e("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,y.c)(function*(){n.task=null;try{$e("IndexBackfiller",`Documents written: ${yield n.X.te()}`)}catch(r){sc(r)?$e("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield oc(r)}yield n.ee(6e4)}))}}class Yre{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){var n=this;return(0,y.c)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>n.ne(r,e))})()}ne(e,n){const r=new Set;let i=n,o=!0;return ne.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return $e("IndexBackfiller",`Processing collection: ${s}`),this.re(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(i,o)).next(a=>($e("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=K$(o);oA(s,r)>0&&(r=s)}),new $o(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Uo=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Fm(t){return null==t}function Lm(t){return 0===t&&1/t==-1/0}function Z$(t){return"number"==typeof t&&Number.isInteger(t)&&!Lm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ki(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=J$(e)),e=Qre(t.get(n),e);return J$(e)}function Qre(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function J$(t){return t+"\x01\x01"}function Js(t){const e=t.length;if(Nt(e>=2),2===e)return Nt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),vn.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("\x01",o);switch((s<0||s>n)&&Rt(),t.charAt(s+1)){case"\x01":const a=t.substring(o,s);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Rt()}o=s+2}return new vn(r)}const eU=["userId","batchId"];function dE(t,e){return[t,Ki(e)]}function tU(t,e,n){return[t,Ki(e),n]}const Xre={},Zre=["prefixPath","collectionGroup","readTime","documentId"],Jre=["prefixPath","collectionGroup","documentId"],eie=["collectionGroup","readTime","prefixPath","documentId"],tie=["canonicalId","targetId"],nie=["targetId","path"],rie=["path","targetId"],iie=["collectionId","parent"],oie=["indexId","uid"],sie=["uid","sequenceNumber"],aie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lie=["indexId","uid","orderedDocumentKey"],cie=["userId","collectionPath","documentId"],uie=["userId","collectionPath","largestBatchId"],die=["userId","collectionGroup","largestBatchId"],nU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hie=[...nU,"documentOverlays"],rU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iU=rU,fie=[...iU,"indexConfiguration","indexState","indexEntries"];class lA extends Q${constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function Ci(t,e){const n=ht(t);return as.M(n.ae,e)}function oU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class lr{constructor(e,n){this.comparator=e,this.root=n||xi.EMPTY}insert(e,n){return new lr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hE(this.root,e,this.comparator,!1)}getReverseIterator(){return new hE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hE(this.root,e,this.comparator,!0)}}class hE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:xi.RED,this.left=null!=i?i:xi.EMPTY,this.right=null!=o?o:xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new xi(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1,xi.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new xi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aU(this.data.getIterator())}getIteratorFrom(e){return new aU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yn(this.comparator);return n.data=e,n}}class aU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function uf(t){return t.hasNext()?t.getNext():void 0}class To{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new To([])}unionWith(e){let n=new Yn(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new To(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class lU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lU("Invalid base64 string: "+o):o}}(e);return new di(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const gie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(t){if(Nt(!!t),"string"==typeof t){let e=0;const n=gie.exec(t);if(Nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fr(t.seconds),nanos:Fr(t.nanos)}}function Fr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function za(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}function fE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pE(t){const e=t.mapValue.fields.__previous_value__;return fE(e)?pE(e):e}function Vm(t){const e=lc(t.mapValue.fields.__local_write_time__.timestampValue);return new Cr(e.seconds,e.nanos)}class mie{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gE={nullValue:"NULL_VALUE"};function dc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fE(t)?4:hU(t)?9007199254740991:10:Rt()}function ea(t,e){if(t===e)return!0;const n=dc(t);if(n!==dc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vm(t).isEqual(Vm(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=lc(i.timestampValue),a=lc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return o=e,za(t.bytesValue).isEqual(za(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fr(i.geoPointValue.latitude)===Fr(o.geoPointValue.latitude)&&Fr(i.geoPointValue.longitude)===Fr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fr(i.integerValue)===Fr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Fr(i.doubleValue),a=Fr(o.doubleValue);return s===a?Lm(s)===Lm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return af(t.arrayValue.values||[],e.arrayValue.values||[],ea);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oU(s)!==oU(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ea(s[l],a[l])))return!1;return!0}(t,e);default:return Rt()}var o}function $m(t,e){return void 0!==(t.values||[]).find(n=>ea(n,e))}function hc(t,e){if(t===e)return 0;const n=dc(t),r=dc(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Fr(o.integerValue||o.doubleValue),l=Fr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return cU(t.timestampValue,e.timestampValue);case 4:return cU(Vm(t),Vm(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=za(o),l=za(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Yt(a[u],l[u]);if(0!==h)return h}return Yt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Yt(Fr(o.latitude),Fr(s.latitude));return 0!==a?a:Yt(Fr(o.longitude),Fr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=hc(a[u],l[u]);if(h)return h}return Yt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===uc.mapValue&&s===uc.mapValue)return 0;if(o===uc.mapValue)return 1;if(s===uc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){const m=Yt(l[g],h[g]);if(0!==m)return m;const v=hc(a[l[g]],u[h[g]]);if(0!==v)return v}return Yt(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Rt()}}function cU(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yt(t,e);const n=lc(t),r=lc(e),i=Yt(n.seconds,r.seconds);return 0!==i?i:Yt(n.nanos,r.nanos)}function df(t){return cA(t)}function cA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?za(t.bytesValue).toBase64():"referenceValue"in t?pt.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=cA(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${cA(n.fields[s])}`;return i+"}"}(t.mapValue):Rt()}function Nu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uA(t){return!!t&&"integerValue"in t}function Um(t){return!!t&&"arrayValue"in t}function uU(t){return!!t&&"nullValue"in t}function dU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _E(t){return!!t&&"mapValue"in t}function Bm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ac(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bm(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hU(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function _ie(t){return"nullValue"in t?gE:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Nu(cc.empty(),pt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Rt()}function vie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Nu(cc.empty(),pt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?uc:Rt()}function fU(t,e){const n=hc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pU(t,e){const n=hc(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_E(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bm(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Bm(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_E(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ea(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_E(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ac(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ni(Bm(this.value))}}function gU(t){const e=[];return ac(t.fields,(n,r)=>{const i=new gr([n]);if(_E(r)){const o=gU(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new To(e)}class mr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mr(e,0,Lt.min(),Lt.min(),Lt.min(),Ni.empty(),0)}static newFoundDocument(e,n,r,i){return new mr(e,1,n,Lt.min(),r,i,0)}static newNoDocument(e,n){return new mr(e,2,n,Lt.min(),Lt.min(),Ni.empty(),0)}static newUnknownDocument(e,n){return new mr(e,3,n,Lt.min(),Lt.min(),Ni.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Lt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,n){this.position=e,this.inclusive=n}}function mU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?pt.comparator(pt.fromName(s.referenceValue),n.key):hc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function _U(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ea(t.position[n],e.position[n]))return!1;return!0}class jm{constructor(e,n="asc"){this.field=e,this.dir=n}}function yie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vU{}class yn extends vU{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Iie(e,n,r):"array-contains"===n?new Cie(e,r):"in"===n?new bU(e,r):"not-in"===n?new bie(e,r):"array-contains-any"===n?new Die(e,r):new yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Eie(e,r):new wie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(hc(n,this.value)):null!==n&&dc(this.value)===dc(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends vU{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Hn(e,n)}matches(e){return hf(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function hf(t){return"and"===t.op}function dA(t){return"or"===t.op}function hA(t){return yU(t)&&hf(t)}function yU(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function fA(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+df(t.value);if(hA(t))return t.filters.map(e=>fA(e)).join(",");{const e=t.filters.map(n=>fA(n)).join(",");return`${t.op}(${e})`}}function IU(t,e){return t instanceof yn?(r=t,(i=e)instanceof yn&&r.op===i.op&&r.field.isEqual(i.field)&&ea(r.value,i.value)):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&IU(s,i.filters[a]),!0)}(t,e):void Rt();var r,i}function EU(t,e){const n=t.filters.concat(e);return Hn.create(n,t.op)}function wU(t){return t instanceof yn?`${(n=t).field.canonicalString()} ${n.op} ${df(n.value)}`:t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(wU).join(" ,")+"}"}(t):"Filter";var n}class Iie extends yn{constructor(e,n,r){super(e,n,r),this.key=pt.fromName(r.referenceValue)}matches(e){const n=pt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Eie extends yn{constructor(e,n){super(e,"in",n),this.keys=CU(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wie extends yn{constructor(e,n){super(e,"not-in",n),this.keys=CU(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CU(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>pt.fromName(r.referenceValue))}class Cie extends yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&$m(n.arrayValue,this.value)}}class bU extends yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&$m(this.value.arrayValue,n)}}class bie extends yn{constructor(e,n){super(e,"not-in",n)}matches(e){if($m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!$m(this.value.arrayValue,n)}}class Die extends yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$m(this.value.arrayValue,r))}}class Tie{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function pA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Tie(t,e,n,r,i,o,s)}function Ou(t){const e=ht(t);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>df(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>df(r)).join(",")),e.ce=n}return e.ce}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IU(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_U(t.startAt,e.startAt)&&_U(t.endAt,e.endAt)}function vE(t){return pt.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function yE(t,e){return t.filters.filter(n=>n instanceof yn&&n.field.isEqual(e))}function DU(t,e,n){let r=gE,i=!0;for(const o of yE(t,e)){let s=gE,a=!0;switch(o.op){case"<":case"<=":s=_ie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=gE}fU({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];fU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}function TU(t,e,n){let r=uc,i=!0;for(const o of yE(t,e)){let s=uc,a=!0;switch(o.op){case">=":case">":s=vie(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=uc}pU({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==n)for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];pU({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}return{value:r,inclusive:i}}class Ga{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function AU(t,e,n,r,i,o,s,a){return new Ga(t,e,n,r,i,o,s,a)}function ff(t){return new Ga(t)}function SU(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function gA(t){return null!==t.collectionGroup}function pf(t){const e=ht(t);if(null===e.le){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Yn(gr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new jm(o,r))}),n.has(gr.keyField().canonicalString())||e.le.push(new jm(gr.keyField(),r))}return e.le}function uo(t){const e=ht(t);return e.he||(e.he=function RU(t,e){if("F"===t.limitType)return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new jm(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new fc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fc(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,pf(t))),e.he}function mA(t,e){const n=t.filters.concat([e]);return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function IE(t,e,n){return new Ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zm(t,e){return Hm(uo(t),uo(e))&&t.limitType===e.limitType}function MU(t){return`${Ou(uo(t))}|lt:${t.limitType}`}function gf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wU(i)).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>df(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>df(i)).join(",")),`Target(${r})`}(uo(t))}; limitType=${t.limitType})`}function Gm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):pt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of pf(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(s,a,l){const u=mU(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,pf(r),i)||r.endAt&&!function(s,a,l){const u=mU(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,pf(r),i)));var r,i}function PU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xU(t){return(e,n)=>{let r=!1;for(const i of pf(t)){const o=Aie(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Aie(t,e,n){const r=t.field.isKeyField()?pt.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return null!==l&&null!==u?hc(l,u):Rt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Rt()}}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sU(this.inner)}size(){return this.innerSize}}const Sie=new lr(pt.comparator);function Ao(){return Sie}const NU=new lr(pt.comparator);function qm(...t){let e=NU;for(const n of t)e=e.insert(n.key,n);return e}function OU(t){let e=NU;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ta(){return Wm()}function kU(){return Wm()}function Wm(){return new qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Rie=new lr(pt.comparator),Mie=new Yn(pt.comparator);function an(...t){let e=Mie;for(const n of t)e=e.add(n);return e}const Pie=new Yn(Yt);function _A(){return Pie}function FU(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(e)?"-0":e}}function LU(t){return{integerValue:""+t}}function VU(t,e){return Z$(e)?LU(e):FU(t,e)}class EE{constructor(){this._=void 0}}function xie(t,e,n){return t instanceof mf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fE(o)&&(o=pE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ku?UU(t,e):t instanceof Fu?BU(t,e):function(i,o){const s=$U(i,o),a=jU(s)+jU(i.Ie);return uA(s)&&uA(i.Ie)?LU(a):FU(i.serializer,a)}(t,e)}function Nie(t,e,n){return t instanceof ku?UU(t,e):t instanceof Fu?BU(t,e):n}function $U(t,e){return t instanceof _f?uA(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class mf extends EE{}class ku extends EE{constructor(e){super(),this.elements=e}}function UU(t,e){const n=HU(e);for(const r of t.elements)n.some(i=>ea(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fu extends EE{constructor(e){super(),this.elements=e}}function BU(t,e){let n=HU(e);for(const r of t.elements)n=n.filter(i=>!ea(i,r));return{arrayValue:{values:n}}}class _f extends EE{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function jU(t){return Fr(t.integerValue||t.doubleValue)}function HU(t){return Um(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Km{constructor(e,n){this.field=e,this.transform=n}}class kie{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wE(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class CE{}function zU(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new yf(t.key,br.none()):new vf(t.key,t.data,br.none());{const n=t.data,r=Ni.empty();let i=new Yn(gr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Wa(t.key,r,new To(i.toArray()),br.none())}}function Fie(t,e,n){t instanceof vf?function(i,o,s){const a=i.value.clone(),l=WU(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wa?function(i,o,s){if(!wE(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=WU(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qU(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ym(t,e,n,r){return t instanceof vf?function(o,s,a,l){if(!wE(o.precondition,s))return a;const u=o.value.clone(),h=KU(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wa?function(o,s,a,l){if(!wE(o.precondition,s))return a;const u=KU(o.fieldTransforms,l,s),h=s.data;return h.setAll(qU(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):(a=n,wE(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Lie(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=$U(r.transform,i||null);null!=o&&(null===n&&(n=Ni.empty()),n.set(r.field,o))}return n||null}function GU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&af(r,i,(o,s)=>function Oie(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof ku&&i instanceof ku||r instanceof Fu&&i instanceof Fu?af(r.elements,i.elements,ea):r instanceof _f&&i instanceof _f?ea(r.Ie,i.Ie):r instanceof mf&&i instanceof mf);var r,i}(o,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class vf extends CE{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wa extends CE{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qU(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WU(t,e,n){const r=new Map;Nt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Nie(s,a,n[i]))}return r}function KU(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,xie(o,s,e))}return r}class yf extends CE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends CE{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Fie(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ym(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ym(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kU();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=zU(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Lt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),an())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,(n,r)=>GU(n,r))&&af(this.baseMutations,e.baseMutations,(n,r)=>GU(n,r))}}class IA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Nt(e.mutations.length===r.length);let i=function(){return Rie}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new IA(e,n,r,i)}}class EA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $ie{constructor(e,n){this.count=e,this.unchangedNames=n}}var ni,Tn;function YU(t){switch(t){default:return Rt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function QU(t){if(void 0===t)return jr("GRPC error has no .code"),he.UNKNOWN;switch(t){case ni.OK:return he.OK;case ni.CANCELLED:return he.CANCELLED;case ni.UNKNOWN:return he.UNKNOWN;case ni.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case ni.INTERNAL:return he.INTERNAL;case ni.UNAVAILABLE:return he.UNAVAILABLE;case ni.UNAUTHENTICATED:return he.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case ni.NOT_FOUND:return he.NOT_FOUND;case ni.ALREADY_EXISTS:return he.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return he.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case ni.ABORTED:return he.ABORTED;case ni.OUT_OF_RANGE:return he.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return he.UNIMPLEMENTED;case ni.DATA_LOSS:return he.DATA_LOSS;default:return Rt()}}(Tn=ni||(ni={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";function XU(){return new TextEncoder}const Uie=new nf([4294967295,4294967295],0);function ZU(t){const e=XU().encode(t),n=new Nre;return n.update(e),new Uint8Array(n.digest())}function JU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new nf([n,r],0),new nf([i,o],0)]}class wA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qm(`Invalid padding: ${n}`);if(r<0)throw new Qm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qm(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Qm(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=nf.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(nf.fromNumber(r)));return 1===i.compare(Uie)&&(i=new nf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=ZU(e),[r,i]=JU(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const n=ZU(e),[r,i]=JU(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Lt.min(),i,new lr(Yt),Ao(),an())}}class Zm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zm(r,n,an(),an(),an())}}class DE{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class eB{constructor(e,n){this.targetId=e,this.fe=n}}class tB{constructor(e,n,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nB{constructor(){this.ge=0,this.pe=iB(),this.ye=di.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=an(),n=an(),r=an();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Rt()}}),new Zm(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=iB()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Nt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Bie{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ao(),this.Qe=rB(),this.Ke=new lr(Yt)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Rt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(vE(o))if(0===r){const s=new pt(o.path);this.We(n,s,mr.newNoDocument(s,Lt.min()))}else Nt(1===r);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(n),this.Ke=this.Ke.insert(n,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=za(r).toUint8Array()}catch(l){if(l instanceof lU)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wA(s,i,o)}catch(l){return Do(l instanceof Qm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&vE(a.target)){const l=new pt(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,mr.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=an();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Xm(e,n,this.Ke,this.qe,r);return this.qe=Ao(),this.Qe=rB(),this.Ke=new lr(Yt),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new nB,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Yn(Yt),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||$e("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new nB),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function rB(){return new lr(pt.comparator)}function iB(){return new lr(pt.comparator)}const jie={asc:"ASCENDING",desc:"DESCENDING"},Hie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zie={and:"AND",or:"OR"};class Gie{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CA(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oB(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qie(t,e){return If(t,e.toTimestamp())}function Hr(t){return Nt(!!t),Lt.fromTimestamp(function(n){const r=lc(n);return new Cr(r.seconds,r.nanos)}(t))}function bA(t,e){return DA(t,e).canonicalString()}function DA(t,e){const n=(i=t,new vn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?n:n.child(e)}function sB(t){const e=vn.fromString(t);return Nt(mB(e)),e}function Jm(t,e){return bA(t.databaseId,e.path)}function na(t,e){const n=sB(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pt(cB(n))}function aB(t,e){return bA(t.databaseId,e)}function lB(t){const e=sB(t);return 4===e.length?vn.emptyPath():cB(e)}function TA(t){return new vn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cB(t){return Nt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function uB(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function dB(t,e,n){const r=na(t,e.name),i=Hr(e.updateTime),o=e.createTime?Hr(e.createTime):Lt.min(),s=new Ni({mapValue:{fields:e.fields}}),a=mr.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function e_(t,e){let n;if(e instanceof vf)n={update:uB(t,e.key,e.value)};else if(e instanceof yf)n={delete:Jm(t,e.key)};else if(e instanceof Wa)n={update:uB(t,e.key,e.data),updateMask:eoe(e.fieldMask)};else{if(!(e instanceof vA))return Rt();n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof mf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ku)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _f)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw Rt()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:qie(t,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Rt()),n;var o}function AA(t,e){const n=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?br.updateTime(Hr(o.updateTime)):void 0!==o.exists?br.exists(o.exists):br.none():br.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;"setToServerValue"in a?(Nt("REQUEST_TIME"===a.setToServerValue),l=new mf):"appendMissingElements"in a?l=new ku(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Fu(a.removeAllFromArray.values||[]):"increment"in a?l=new _f(s,a.increment):Rt();const u=gr.fromServerFormat(a.fieldPath);return new Km(u,l)}(t,i)):[];var o;if(e.update){const i=na(t,e.update.name),o=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new To((e.updateMask.fieldPaths||[]).map(h=>gr.fromServerFormat(h)));return new Wa(i,o,s,n,r)}return new vf(i,o,n,r)}if(e.delete){const i=na(t,e.delete);return new yf(i,n)}if(e.verify){const i=na(t,e.verify);return new vA(i,n)}return Rt()}function hB(t,e){return{documents:[aB(t,e.path)]}}function SA(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aB(t,i);const o=function(u){if(0!==u.length)return gB(Hn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(0!==u.length)return u.map(h=>{return{field:pc((m=h).field),direction:Xie(m.dir)};var m})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=CA(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i};var u}function fB(t){let e=lB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nt(1===r);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(g){const m=pB(g);return m instanceof Hn&&hA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(m=>{return new jm(Ef((b=m).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;n.limit&&(a=function(g){let m;return m="object"==typeof g?g.value:g,Fm(m)?null:m}(n.limit));let l=null;var g;n.startAt&&(l=new fc((g=n.startAt).values||[],!!g.before));let u=null;return n.endAt&&(u=function(g){return new fc(g.values||[],!g.before)}(n.endAt)),AU(e,i,s,o,a,"F",l,u)}function pB(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ef(n.unaryFilter.field);return yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ef(n.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ef(n.unaryFilter.field);return yn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ef(n.unaryFilter.field);return yn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(t):void 0!==t.fieldFilter?yn.create(Ef((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Hn.create(n.compositeFilter.filters.map(r=>pB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Rt()}}(n.compositeFilter.op))}(t):Rt();var n}function Xie(t){return jie[t]}function Zie(t){return Hie[t]}function Jie(t){return zie[t]}function pc(t){return{fieldPath:t.canonicalString()}}function Ef(t){return gr.fromServerFormat(t.fieldPath)}function gB(t){return t instanceof yn?function(n){if("=="===n.op){if(dU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(uU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(dU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(uU(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:Zie(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>gB(i));return 1===r.length?r[0]:{compositeFilter:{op:Jie(n.op),filters:r}}}(t):Rt()}function eoe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mB(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ka{constructor(e,n,r,i,o=Lt.min(),s=Lt.min(),a=di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _B{constructor(e){this.ct=e}}function vB(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:TE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Jm(o=t.ct,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:If(o,s.version.toTimestamp()),createTime:If(o,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Lu(e.version)};else{if(!e.isUnknownDocument())return Rt();r.unknownDocument={path:n.path.toArray(),version:Lu(e.version)}}var o,s;return r}function TE(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Lu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vu(t){const e=new Cr(t.seconds,t.nanoseconds);return Lt.fromTimestamp(e)}function $u(t,e){const n=(e.baseMutations||[]).map(o=>AA(t.ct,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>AA(t.ct,o)),i=Cr.fromMillis(e.localWriteTimeMs);return new yA(e.batchId,i,n,r)}function t_(t){const e=Vu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Vu(t.lastLimboFreeSnapshotVersion):Lt.min();let r;return r=void 0!==t.query.documents?(Nt(1===(o=t.query).documents.length),uo(ff(lB(o.documents[0])))):function(o){return uo(fB(o))}(t.query),new Ka(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,di.fromBase64String(t.resumeToken));var o}function yB(t,e){const n=Lu(e.snapshotVersion),r=Lu(e.lastLimboFreeSnapshotVersion);let i;i=vE(e.target)?hB(t.ct,e.target):SA(t.ct,e.target).ut;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ou(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function RA(t){const e=fB({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?IE(e,e.limit,"L"):e}function MA(t,e){return new EA(e.largestBatchId,AA(t.ct,e.overlayMutation))}function IB(t,e){const n=e.path.lastSegment();return[t,Ki(e.path.popLast()),n]}function EB(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Lu(r.readTime),documentKey:Ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class noe{getBundleMetadata(e,n){return wB(e).get(n).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Vu(o.createTime),version:o.version};var o})}saveBundleMetadata(e,n){return wB(e).put({bundleId:(i=n).id,createTime:Lu(Hr(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return CB(e).get(n).next(r=>{if(r)return{name:(o=r).name,query:RA(o.bundledQuery),readTime:Vu(o.readTime)};var o})}saveNamedQuery(e,n){return CB(e).put({name:(i=n).name,readTime:Lu(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function wB(t){return Ci(t,"bundles")}function CB(t){return Ci(t,"namedQueries")}class AE{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){return new AE(e,n.uid||"")}getOverlay(e,n){return n_(e).get(IB(this.userId,n)).next(r=>r?MA(this.serializer,r):null)}getOverlays(e,n){const r=ta();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new EA(n,s);i.push(this.ht(e,a))}),ne.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Ki(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(n_(e).H("collectionPathOverlayIndex",a))}),ne.waitFor(o)}getOverlaysForCollection(e,n,r){const i=ta(),o=Ki(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return n_(e).W("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=MA(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=ta();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return n_(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,h)=>{const g=MA(this.serializer,u);o.size()<i||g.largestBatchId===s?(o.set(g.getKey(),g),s=g.largestBatchId):h.done()}).next(()=>o)}ht(e,n){return n_(e).put(function(i,o,s){const[a,l,u]=IB(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:e_(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function n_(t){return Ci(t,"documentOverlays")}class Uu{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Fr(e.integerValue));else if("doubleValue"in e){const r=Fr(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Lm(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Et(n,20),"string"==typeof r?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(za(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?hU(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Rt()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),pt.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}function roe(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function bB(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=roe(255&r[o]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Uu.bt=new Uu;class ioe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\ud800"||"\udbff"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Bt(e){const n=this.Lt(e),r=bB(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Lt(e),r=bB(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;0===n?(this.Kt(0),this.Kt(255)):255===n?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;0===n?(this.Ut(0),this.Ut(255)):255===n?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ooe{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class soe{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class r_{constructor(){this.Gt=new ioe,this.zt=new ooe(this.Gt),this.jt=new soe(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Bu{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Bu(this.indexId,this.documentKey,this.arrayValue,r)}}function gc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=DB(t.arrayValue,e.arrayValue),0!==n?n:(n=DB(t.directionalValue,e.directionalValue),0!==n?n:pt.comparator(t.documentKey,e.documentKey)))}function DB(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(0!==r)return r}return t.length-e.length}class TB{constructor(e){this.Yt=new Yn((n,r)=>gr.comparator(n.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Nt(e.collectionGroup===this.collectionId),this.en)return!1;const n=iA(e);if(void 0!==n&&!this.nn(n))return!1;const r=Mu(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.nn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<r.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],r[o]))return!1;return!0}on(){if(this.en)return null;let e=new Yn(gr.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)n.push(new Pu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Pu(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Pu(r.field,"asc"===r.dir?0:1)));return new lf(lf.UNKNOWN_ID,this.collectionId,n,cf.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function AB(t){var e,n;if(Nt(t instanceof yn||t instanceof Hn),t instanceof yn){if(t instanceof bU){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(o=>yn.create(t.field,"==",o)))||[];return Hn.create(i,"or")}return t}const r=t.filters.map(i=>AB(i));return Hn.create(r,t.op)}function aoe(t){if(0===t.getFilters().length)return[];const e=NA(AB(t));return Nt(SB(e)),PA(e)||xA(e)?[e]:e.getFilters()}function PA(t){return t instanceof yn}function xA(t){return t instanceof Hn&&hA(t)}function SB(t){return PA(t)||xA(t)||function(n){if(n instanceof Hn&&dA(n)){for(const r of n.getFilters())if(!PA(r)&&!xA(r))return!1;return!0}return!1}(t)}function NA(t){if(Nt(t instanceof yn||t instanceof Hn),t instanceof yn)return t;if(1===t.filters.length)return NA(t.filters[0]);const e=t.filters.map(r=>NA(r));let n=Hn.create(e,t.op);return n=SE(n),SB(n)?n:(Nt(n instanceof Hn),Nt(hf(n)),Nt(n.filters.length>1),n.filters.reduce((r,i)=>OA(r,i)))}function OA(t,e){let n;return Nt(t instanceof yn||t instanceof Hn),Nt(e instanceof yn||e instanceof Hn),n=t instanceof yn?e instanceof yn?Hn.create([t,e],"and"):RB(t,e):e instanceof yn?RB(e,t):function(i,o){if(Nt(i.filters.length>0&&o.filters.length>0),hf(i)&&hf(o))return EU(i,o.getFilters());const s=dA(i)?i:o,a=dA(i)?o:i,l=s.filters.map(u=>OA(u,a));return Hn.create(l,"or")}(t,e),SE(n)}function RB(t,e){if(hf(e))return EU(e,t.getFilters());{const n=e.filters.map(r=>OA(t,r));return Hn.create(n,"or")}}function SE(t){if(Nt(t instanceof yn||t instanceof Hn),t instanceof yn)return t;const e=t.getFilters();if(1===e.length)return SE(e[0]);if(yU(t))return t;const n=e.map(i=>SE(i)),r=[];return n.forEach(i=>{i instanceof yn?r.push(i):i instanceof Hn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Hn.create(r,t.op)}class loe{constructor(){this._n=new kA}addToCollectionParentIndex(e,n){return this._n.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve($o.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve($o.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class kA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yn(vn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yn(vn.comparator)).toArray()}}const RE=new Uint8Array(0);class coe{constructor(e,n){this.databaseId=n,this.an=new kA,this.un=new qa(r=>Ou(r),(r,i)=>Hm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const o={collectionId:r,parent:Ki(i)};return MB(e).put(o)}return ne.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[q$(n),""],!1,!0);return MB(e).W(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Js(s.parent))}return r})}addFieldIndex(e,n){const r=i_(e),i={indexId:(a=n).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const o=r.add(i);if(n.indexState){const s=Cf(e);return o.next(a=>{s.put(EB(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=i_(e),i=Cf(e),o=wf(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=i_(e),r=wf(e),i=Cf(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return ne.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const o=new TB(r).on();if(null!=o)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=wf(e);let i=!0;const o=new Map;return ne.forEach(this.cn(n),s=>this.ln(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=an();const a=[];return ne.forEach(o,(l,u)=>{var de;$e("IndexedDbIndexManager",`Using index ${de=l,`id=${de.indexId}|cg=${de.collectionGroup}|f=${de.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Ou(n)}`);const h=function(de,ge){const Qe=iA(ge);if(void 0===Qe)return null;for(const yt of yE(de,Qe.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(u,l),g=function(de,ge){const Qe=new Map;for(const yt of Mu(ge))for(const _n of yE(de,yt.fieldPath))switch(_n.op){case"==":case"in":Qe.set(yt.fieldPath.canonicalString(),_n.value);break;case"not-in":case"!=":return Qe.set(yt.fieldPath.canonicalString(),_n.value),Array.from(Qe.values())}return null}(u,l),m=function(de,ge){const Qe=[];let yt=!0;for(const _n of Mu(ge)){const nr=0===_n.kind?DU(de,_n.fieldPath,de.startAt):TU(de,_n.fieldPath,de.startAt);Qe.push(nr.value),yt&&(yt=nr.inclusive)}return new fc(Qe,yt)}(u,l),v=function(de,ge){const Qe=[];let yt=!0;for(const _n of Mu(ge)){const nr=0===_n.kind?TU(de,_n.fieldPath,de.endAt):DU(de,_n.fieldPath,de.endAt);Qe.push(nr.value),yt&&(yt=nr.inclusive)}return new fc(Qe,yt)}(u,l),b=this.hn(l,u,m),A=this.hn(l,u,v),R=this.Pn(l,u,g),H=this.In(l.indexId,h,b,m.inclusive,A,v.inclusive,R);return ne.forEach(H,U=>r.j(U,n.limit).next(de=>{de.forEach(ge=>{const Qe=pt.fromSegments(ge.documentKey);s.has(Qe)||(s=s.add(Qe),a.push(Qe))})}))}).next(()=>a)}return ne.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:aoe(Hn.create(e.filters,"and")).map(r=>pA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,o,s,a){const l=(null!=n?n.length:1)*Math.max(r.length,o.length),u=l/(null!=n?n.length:1),h=[];for(let g=0;g<l;++g){const m=n?this.Tn(n[g/u]):RE,v=this.En(e,m,r[g%u],i),b=this.dn(e,m,o[g%u],s),A=a.map(R=>this.En(e,m,R,!0));h.push(...this.createRange(v,b,A))}return h}En(e,n,r,i){const o=new Bu(e,pt.empty(),n,r);return i?o:o.Jt()}dn(e,n,r,i){const o=new Bu(e,pt.empty(),n,r);return i?o.Jt():o}ln(e,n){const r=new TB(n),i=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return ne.forEach(i,o=>this.ln(e,o).next(s=>{s?0!==r&&s.fields.length<function(l){let u=new Yn(gr.comparator),h=!1;for(const g of l.filters)for(const m of g.getFlattenedFilters())m.field.isKeyField()||("array-contains"===m.op||"array-contains-any"===m.op?h=!0:u=u.add(m.field));for(const g of l.orderBy)g.field.isKeyField()||(u=u.add(g.field));return u.size+(h?1:0)}(o)&&(r=1):r=0})).next(()=>null!==n.limit&&i.length>1&&2===r?1:r)}An(e,n){const r=new r_;for(const i of Mu(e)){const o=n.data.field(i.fieldPath);if(null==o)return null;const s=r.Ht(i.kind);Uu.bt.Pt(o,s)}return r.Wt()}Tn(e){const n=new r_;return Uu.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new r_;return Uu.bt.Pt(Nu(this.databaseId,n),r.Ht(function(o){const s=Mu(o);return 0===s.length?0:s[s.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(null===r)return[];let i=[];i.push(new r_);let o=0;for(const s of Mu(e)){const a=r[o++];for(const l of i)if(this.Vn(n,s.fieldPath)&&Um(a))i=this.mn(i,s,a);else{const u=l.Ht(s.kind);Uu.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new r_;l.seed(a.Wt()),Uu.bt.Pt(s,l.Ht(n.kind)),o.push(l)}return o}Vn(e,n){return!!e.filters.find(r=>r instanceof yn&&r.field.isEqual(n)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,n){const r=i_(e),i=Cf(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(o=>{const s=[];return ne.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(h,g){const m=g?new cf(g.sequenceNumber,new $o(Vu(g.readTime),new pt(Js(g.documentKey)),g.largestBatchId)):cf.empty(),v=h.fields.map(([b,A])=>new Pu(gr.fromServerFormat(b),A));return new lf(h.indexId,h.collectionGroup,v,m)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Yt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=i_(e),o=Cf(e);return this.gn(e).next(s=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>ne.forEach(a,l=>o.put(EB(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return ne.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?ne.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),ne.forEach(a,l=>this.pn(e,i,l).next(u=>{const h=this.yn(o,l);return u.isEqual(h)?ne.resolve():this.wn(e,o,l,u,h)}))))})}Sn(e,n,r,i){return wf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return wf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=wf(e);let o=new Yn(gc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(s,a)=>{o=o.add(new Bu(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,n){let r=new Yn(gc);const i=this.An(n,e);if(null==i)return r;const o=iA(n);if(null!=o){const s=e.data.field(o.fieldPath);if(Um(s))for(const a of s.arrayValue.values||[])r=r.add(new Bu(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Bu(n.indexId,e.key,RE,i));return r}wn(e,n,r,i,o){$e("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,h,g,m){const v=l.getIterator(),b=u.getIterator();let A=uf(v),R=uf(b);for(;A||R;){let H=!1,U=!1;if(A&&R){const de=h(A,R);de<0?U=!0:de>0&&(H=!0)}else null!=A?U=!0:H=!0;H?(g(R),R=uf(b)):U?(m(A),A=uf(v)):(A=uf(v),R=uf(b))}}(i,o,gc,a=>{s.push(this.Sn(e,n,r,a))},a=>{s.push(this.bn(e,n,r,a))}),ne.waitFor(s)}gn(e){let n=1;return Cf(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>gc(s,a)).filter((s,a,l)=>!a||0!==gc(s,l[a-1]));const i=[];i.push(e);for(const s of r){const a=gc(s,e),l=gc(s,n);if(0===a)i[0]=e.Jt();else if(a>0&&l<0)i.push(s),i.push(s.Jt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Dn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,RE,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,RE,[]]))}return o}Dn(e,n){return gc(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(PB)}getMinOffset(e,n){return ne.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Rt())).next(PB)}}function MB(t){return Ci(t,"collectionParents")}function wf(t){return Ci(t,"indexEntries")}function i_(t){return Ci(t,"indexConfiguration")}function Cf(t){return Ci(t,"indexState")}function PB(t){Nt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;oA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $o(e.readTime,e.documentKey,n)}const xB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yi(e,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function NB(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:s},(h,g,m)=>(a++,m.delete()));o.push(l.next(()=>{Nt(1===a)}));const u=[];for(const h of n.mutations){const g=tU(e,h.key.path,n.batchId);o.push(i.delete(g)),u.push(h.key)}return ne.waitFor(o).next(()=>u)}function ME(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Rt();e=t.noDocument}return JSON.stringify(e).length}Yi.DEFAULT_COLLECTION_PERCENTILE=10,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yi.DEFAULT=new Yi(41943040,Yi.DEFAULT_COLLECTION_PERCENTILE,Yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yi.DISABLED=new Yi(-1,0,0);class PE{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Nt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new PE(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).Y({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=bf(e),s=mc(e);return s.add({}).next(a=>{Nt("number"==typeof a);const l=new yA(a,n,r,i),u=function(v,b,A){const R=A.baseMutations.map(U=>e_(v.ct,U)),H=A.mutations.map(U=>e_(v.ct,U));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:R,mutations:H}}(this.serializer,this.userId,l),h=[];let g=new Yn((m,v)=>Yt(m.canonicalString(),v.canonicalString()));for(const m of i){const v=tU(this.userId,m.key.path,a);g=g.add(m.key.path.popLast()),h.push(s.put(u)),h.push(o.put(v,Xre))}return g.forEach(m=>{h.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),ne.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return mc(e).get(n).next(r=>r?(Nt(r.userId===this.userId),$u(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?ne.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return mc(e).Y({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(Nt(a.batchId>=r),o=$u(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return mc(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mc(e).W("userMutationsIndex",n).next(r=>r.map(i=>$u(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=dE(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return bf(e).Y({range:i},(s,a,l)=>{const[u,h,g]=s,m=Js(h);if(u===this.userId&&n.path.isEqual(m))return mc(e).get(g).next(v=>{if(!v)throw Rt();Nt(v.userId===this.userId),o.push($u(this.serializer,v))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(Yt);const i=[];return n.forEach(o=>{const s=dE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=bf(e).Y({range:a},(u,h,g)=>{const[m,v,b]=u,A=Js(v);m===this.userId&&o.path.isEqual(A)?r=r.add(b):g.done()});i.push(l)}),ne.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=dE(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Yn(Yt);return bf(e).Y({range:s},(l,u,h)=>{const[g,m,v]=l,b=Js(m);g===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(v)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(mc(e).get(o).next(s=>{if(null===s)throw Rt();Nt(s.userId===this.userId),r.push($u(this.serializer,s))}))}),ne.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return NB(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),ne.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ne.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return bf(e).Y({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=Js(o[1]);i.push(l)}else a.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,n){return OB(e,this.userId,n)}xn(e){return kB(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OB(t,e,n){const r=dE(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return bf(t).Y({range:o,J:!0},(a,l,u)=>{const[h,g,m]=a;h===e&&g===i&&(s=!0),u.done()}).next(()=>s)}function mc(t){return Ci(t,"mutations")}function bf(t){return Ci(t,"documentMutations")}function kB(t){return Ci(t,"mutationQueues")}class ju{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ju(0)}static Bn(){return new ju(-1)}}class uoe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new ju(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>Lt.fromTimestamp(new Cr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Df(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Df(e).Y((s,a)=>{const l=t_(a);l.sequenceNumber<=n&&null===r.get(l.targetId)&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>ne.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Df(e).Y((r,i)=>{const o=t_(i);n(o)})}Ln(e){return FB(e).get("targetGlobalKey").next(n=>(Nt(null!==n),n))}kn(e,n){return FB(e).put("targetGlobalKey",n)}qn(e,n){return Df(e).put(yB(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ou(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Df(e).Y({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=t_(a);Hm(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=_c(e);return n.forEach(s=>{const a=Ki(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),ne.waitFor(i)}removeMatchingKeys(e,n,r){const i=_c(e);return ne.forEach(n,o=>{const s=Ki(o.path);return ne.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=_c(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_c(e);let o=an();return i.Y({range:r,J:!0},(s,a,l)=>{const u=Js(s[1]),h=new pt(u);o=o.add(h)}).next(()=>o)}containsKey(e,n){const r=Ki(n.path),i=IDBKeyRange.bound([r],[q$(r)],!1,!0);let o=0;return _c(e).Y({index:"documentTargetsIndex",J:!0,range:i},([s,a],l,u)=>{0!==s&&(o++,u.done())}).next(()=>o>0)}_t(e,n){return Df(e).get(n).next(r=>r?t_(r):null)}}function Df(t){return Ci(t,"targets")}function FB(t){return Ci(t,"targetGlobal")}function _c(t){return Ci(t,"targetDocuments")}function LB([t,e],[n,r]){const i=Yt(t,n);return 0===i?Yt(e,r):i}class doe{constructor(e){this.Kn=e,this.buffer=new Yn(LB),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();LB(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){var n=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,y.c)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(r){sc(r)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield oc(r)}yield n.zn(3e5)}))}}class hoe{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(0===n)return ne.resolve(Uo._e);const r=new doe(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(xB)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xB):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,o,s,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),sf()<=Ys.Ge.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-h}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${g} documents in `+(u-l)+`ms\nTotal Duration: ${u-h}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}}class foe{constructor(e,n){this.db=e,this.garbageCollector=function $B(t,e){return new hoe(t,e)}(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return xE(e,r)}removeReference(e,n,r){return xE(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return xE(e,n)}er(e,n){return function(i,o){let s=!1;return kB(i).Z(a=>OB(i,a,o).next(l=>(l&&(s=!0),ne.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Xn(e,(s,a)=>{if(a<=n){const l=this.er(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Lt.min()),_c(e).delete([0,Ki(s.path)])))});i.push(l)}}).next(()=>ne.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return xE(e,n)}Xn(e,n){const r=_c(e);let i,o=Uo._e;return r.Y({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{0===s?(o!==Uo._e&&n(new pt(Js(i)),o),o=u,i=l):o=Uo._e}).next(()=>{o!==Uo._e&&n(new pt(Js(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xE(t,e){return _c(t).put((i=t.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:i}));var i}class UB{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class poe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Hu(e).put(r)}removeEntry(e,n,r){return Hu(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],TE(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=mr.newInvalidDocument(n);return Hu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(o_(n))},(i,o)=>{r=this.nr(n,o)}).next(()=>r)}rr(e,n){let r={size:0,document:mr.newInvalidDocument(n)};return Hu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(o_(n))},(i,o)=>{r={document:this.nr(n,o),size:ME(o)}}).next(()=>r)}getEntries(e,n){let r=Ao();return this.ir(e,n,(i,o)=>{const s=this.nr(i,o);r=r.insert(i,s)}).next(()=>r)}sr(e,n){let r=Ao(),i=new lr(pt.comparator);return this.ir(e,n,(o,s)=>{const a=this.nr(o,s);r=r.insert(o,a),i=i.insert(o,ME(s))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return ne.resolve();let i=new Yn(zB);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(o_(i.first()),o_(i.last())),s=i.getIterator();let a=s.getNext();return Hu(e).Y({index:"documentKeyIndex",range:o},(l,u,h)=>{const g=pt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&zB(a,g)<0;)r(a,null),a=s.getNext();a&&a.isEqual(g)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?h.U(o_(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),TE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hu(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{null==o||o.incrementDocumentReadCount(u.length);let h=Ao();for(const g of u){const m=this.nr(pt.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);m.isFoundDocument()&&(Gm(n,m)||i.has(m.key))&&(h=h.insert(m.key,m))}return h})}getAllFromCollectionGroup(e,n,r,i){let o=Ao();const s=HB(n,r),a=HB(n,$o.max());return Hu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,h)=>{const g=this.nr(pt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(g.key,g),o.size===i&&h.done()}).next(()=>o)}newChangeBuffer(e){return new goe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return jB(e).get("remoteDocumentGlobalKey").next(n=>(Nt(!!n),n))}tr(e,n){return jB(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=function toe(t,e){let n;if(e.document)n=dB(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=pt.fromSegments(e.noDocument.path),i=Vu(e.noDocument.readTime);n=mr.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt();{const r=pt.fromSegments(e.unknownDocument.path),i=Vu(e.unknownDocument.version);n=mr.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Cr(i[0],i[1]);return Lt.fromTimestamp(o)}(e.readTime)),n}(this.serializer,n);if(!r.isNoDocument()||!r.version.isEqual(Lt.min()))return r}return mr.newInvalidDocument(e)}}function BB(t){return new poe(t)}class goe extends UB{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new qa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Yn((o,s)=>Yt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(n.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=vB(this.ar.serializer,s);i=i.add(o.path.popLast());const u=ME(l);r+=u-a.size,n.push(this.ar.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=vB(this.ar.serializer,s.convertToNoDocument(Lt.min()));n.push(this.ar.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.ar.updateMetadata(e,r)),ne.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function jB(t){return Ci(t,"remoteDocumentGlobal")}function Hu(t){return Ci(t,"remoteDocumentsV14")}function o_(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function HB(t,e){const n=e.documentKey.path.toArray();return[t,TE(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zB(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Yt(n[o],r[o]),i)return i;return i=Yt(n.length,r.length),i||(i=Yt(n[n.length-2],r[r.length-2]),i||Yt(n[n.length-1],r[r.length-1]))}class moe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class GB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Ym(r.mutation,i,To.empty(),Cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,an()).next(()=>r))}getLocalViewOfDocuments(e,n,r=an()){const i=ta();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qm();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,an()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ao();const s=Wm(),a=Wm();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof Wa)?o=o.insert(u.key,u):void 0!==h?(s.set(u.key,h.mutation.getFieldMask()),Ym(h.mutation,u,h.mutation.getFieldMask(),Cr.now())):s.set(u.key,To.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var g;return a.set(u,new moe(h,null!==(g=s.get(u))&&void 0!==g?g:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wm();let i=new lr((s,a)=>s-a),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(null===u)return;let h=r.get(l)||To.empty();h=a.applyToLocalView(u,h),r.set(l,h);const g=(i.get(a.batchId)||an()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,g=kU();h.forEach(m=>{if(!o.has(m)){const v=zU(n.get(m),r.get(m));null!==v&&g.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return ne.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return pt.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var s}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ne.resolve(ta());let a=-1,l=o;return s.next(u=>ne.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,an())).next(h=>({batchId:a,changes:OU(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pt(n)).next(r=>{let i=qm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qm();return this.indexManager.getCollectionParents(e,o).next(a=>ne.forEach(a,l=>{const u=(g=n,m=l.child(o),new Ga(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,m;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();null===s.get(h)&&(s=s.insert(h,mr.newInvalidDocument(h)))});let a=qm();return s.forEach((l,u)=>{const h=o.get(l);void 0!==h&&Ym(h.mutation,u,To.empty(),Cr.now()),Gm(n,u)&&(a=a.insert(l,u))}),a})}}class _oe{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ne.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,{id:(i=n).id,version:i.version,createTime:Hr(i.createTime)}),ne.resolve();var i}getNamedQuery(e,n){return ne.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,{name:(i=n).name,query:RA(i.bundledQuery),readTime:Hr(i.readTime)}),ne.resolve();var i}}class voe{constructor(){this.overlays=new lr(pt.comparator),this.hr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ta();return ne.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ne.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const i=ta(),o=n.length+1,s=new pt(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lr((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);null===h&&(h=ta(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ta(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ne.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EA(n,r));let o=this.hr.get(n);void 0===o&&(o=an(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}class FA{constructor(){this.Pr=new Yn(bi.Ir),this.Tr=new Yn(bi.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new bi(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new bi(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new pt(new vn([])),r=new bi(n,e),i=new bi(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new pt(new vn([])),r=new bi(n,e),i=new bi(n,e+1);let o=an();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new bi(e,0),r=this.Pr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class bi{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return pt.comparator(e.key,n.key)||Yt(e.pr,n.pr)}static Er(e,n){return Yt(e.pr,n.pr)||pt.comparator(e.key,n.key)}}class yoe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Yn(bi.Ir)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++;const s=new yA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new bi(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ne.resolve(s)}lookupMutationBatch(e,n){return ne.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.br(n+1),o=i<0?0:i;return ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bi(n,0),i=new bi(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yn(Yt);return n.forEach(i=>{const o=new bi(i,0),s=new bi(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),ne.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;pt.isDocumentKey(o)||(o=o.child(""));const s=new bi(new pt(o),0);let a=new Yn(Yt);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),ne.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Nt(0===this.Cr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return ne.forEach(n.mutations,i=>{const o=new bi(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new bi(n,0),i=this.wr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return ne.resolve()}Cr(e,n){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ioe{constructor(e){this.vr=e,this.docs=new lr(pt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():mr.newInvalidDocument(n))}getEntries(e,n){let r=Ao();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mr.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ao();const s=n.path,a=new pt(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||oA(K$(h),r)<=0||(i.has(h.key)||Gm(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ne.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Rt()}Fr(e,n){return ne.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Eoe(this)}getSize(e){return ne.resolve(this.size)}}class Eoe extends UB{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ne.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}class woe{constructor(e){this.persistence=e,this.Mr=new qa(n=>Ou(n),Hm),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new FA,this.targetCount=0,this.Br=ju.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ne.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.qn(n),ne.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ne.waitFor(o).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ne.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this.Nr.containsKey(n))}}class LA{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Uo(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new woe(this),this.indexManager=new loe,this.remoteDocumentCache=new Ioe(r=>this.referenceDelegate.Kr(r)),this.serializer=new _B(n),this.$r=new _oe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new voe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new yoe(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){$e("MemoryPersistence","Starting transaction:",e);const i=new Coe(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return ne.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Coe extends Q${constructor(e){super(),this.currentSequenceNumber=e}}class NE{constructor(e){this.persistence=e,this.zr=new FA,this.jr=null}static Hr(e){return new NE(e)}get Jr(){if(this.jr)return this.jr;throw Rt()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ne.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Jr,r=>{const i=pt.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Lt.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ne.or([()=>ne.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}class boe{constructor(e){this.serializer=e}N(e,n,r,i){const o=new uE("createOrUpgrade",n);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eU,{unique:!0}),l.createObjectStore("documentMutations"),qB(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=ne.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),qB(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(l,u){return u.store("mutations").W().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eU,{unique:!0});const g=u.store("mutations"),m=h.map(v=>g.put(v));return ne.waitFor(m)})}(e,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Xr(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),r<7&&i>=7&&(s=s.next(()=>this.ti(o))),r<8&&i>=8&&(s=s.next(()=>this.ni(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ri(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(l){const u=l.createObjectStore("documentOverlays",{keyPath:cie});u.createIndex("collectionPathOverlayIndex",uie,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",die,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Zre});u.createIndex("documentKeyIndex",Jre),u.createIndex("collectionGroupIndex",eie)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:oie}).createIndex("sequenceNumberIndex",sie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:aie}).createIndex("documentKeyIndex",lie,{unique:!1})}(e))),s}ei(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=ME(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>ne.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",s).next(a=>ne.forEach(a,l=>{Nt(l.userId===o.userId);const u=$u(this.serializer,l);return NB(e,o.userId,u).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Y((s,a)=>{const l=new vn(s),u=[0,Ki(l)];o.push(n.get(u).next(h=>h?ne.resolve():n.put({targetId:0,path:Ki(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ne.waitFor(o))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:iie});const r=n.store("collectionParents"),i=new kA,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Ki(l)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{const l=new vn(s);return o(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,l],u)=>{const h=Js(a);return o(h.popLast())}))}ri(e){const n=e.store("targets");return n.Y((r,i)=>{const o=t_(i),s=yB(this.serializer,o);return n.put(s)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((o,s)=>{const a=n.store("remoteDocumentsV14"),l=(g=s,g.document?new pt(vn.fromString(g.document.name).popFirst(5)):g.noDocument?pt.fromSegments(g.noDocument.path):g.unknownDocument?pt.fromSegments(g.unknownDocument.path):Rt()).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var g;i.push(a.put(u))}).next(()=>ne.waitFor(i))}si(e,n){const r=n.store("mutations"),i=BB(this.serializer),o=new LA(NE.Hr,this.serializer.ct);return r.W().next(s=>{const a=new Map;return s.forEach(l=>{var u;let h=null!==(u=a.get(l.userId))&&void 0!==u?u:an();$u(this.serializer,l).keys().forEach(g=>h=h.add(g)),a.set(l.userId,h)}),ne.forEach(a,(l,u)=>{const h=new wi(u),g=AE.lt(this.serializer,h),m=o.getIndexManager(h),v=PE.lt(h,this.serializer,m,o.referenceDelegate);return new GB(i,v,g,m).recalculateAndSaveOverlaysForDocumentKeys(new lA(n,Uo._e),l).next()})})}}function qB(t){t.createObjectStore("targetDocuments",{keyPath:nie}).createIndex("documentTargetsIndex",rie,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tie,{unique:!0}),t.createObjectStore("targetGlobal")}const VA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $A{constructor(e,n,r,i,o,s,a,l,u,h,g=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=o,this.window=s,this.document=a,this._i=u,this.ai=h,this.ui=g,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!$A.D())throw new ke(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new foe(this,i),this.Ti=n+"main",this.serializer=new _B(l),this.Ei=new as(this.Ti,this.ui,new boe(this.serializer)),this.Qr=new uoe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BB(this.serializer),this.$r=new noe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===h&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,VA);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new Uo(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){var n=this;return this.Ii=function(){var r=(0,y.c)(function*(i){if(n.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(function(){var n=(0,y.c)(function*(r){null===r.newVersion&&(yield e())});return function(r){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((0,y.c)(function*(){n.started&&(yield n.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(sc(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return s_(e).get("owner").next(n=>ne.resolve(this.Si(n)))}bi(e){return kE(e).delete(this.clientId)}Di(){var e=this;return(0,y.c)(function*(){if(e.isPrimary&&!e.Ci(e.Pi,18e5)){e.Pi=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ci(r,"clientMetadata");return i.W().next(o=>{const s=e.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return ne.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.di)for(const r of n)e.di.removeItem(e.Fi(r.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ne.resolve(!0):s_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new ke(he.FAILED_PRECONDITION,VA);return!1}}return!(!this.networkEnabled||!this.inForeground)||kE(e).W().next(r=>void 0===this.vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(n=>(this.isPrimary!==n&&$e("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,y.c)(function*(){e.qr=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Oi(),e.Ni(),yield e.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const r=new lA(n,Uo._e);return e.yi(r).next(()=>e.bi(r))}),e.Ei.close(),e.Bi()})()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>kE(e).W().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return PE.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new coe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return AE.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){$e("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===n?"readonly":"readwrite",o=15===(l=this.ui)?fie:14===l?iU:13===l?rU:12===l?hie:11===l?nU:void Rt();var l;let s;return this.Ei.runTransaction(e,i,o,a=>(s=new lA(a,this.kr?this.kr.next():Uo._e),"readwrite-primary"===n?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ke(he.FAILED_PRECONDITION,Y$);return r(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return s_(e).get("owner").next(n=>{if(null!==n&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ke(he.FAILED_PRECONDITION,VA)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return s_(e).put("owner",n)}static D(){return as.D()}yi(e){const n=s_(e);return n.get("owner").next(r=>this.Si(r)?($e("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ne.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n||e>r&&(jr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,cn.qk)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=null!==(null===(n=this.di)||void 0===n?void 0:n.getItem(this.Fi(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function s_(t){return Ci(t,"owner")}function kE(t){return Ci(t,"clientMetadata")}function UA(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class BA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=an(),i=an();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new BA(e,n.fromCache,r,i)}}class Doe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class WB{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,cn.qk)()?8:as.v((0,cn.Su)())>0?6:4}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Doe;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(sf()<=Ys.Ge.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",gf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ne.resolve()):(sf()<=Ys.Ge.DEBUG&&$e("QueryEngine","Query:",gf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sf()<=Ys.Ge.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",gf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(n))):ne.resolve())}ji(e,n){if(SU(n))return ne.resolve(null);let r=uo(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=IE(n,null,"F"),r=uo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=an(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,IE(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return SU(n)||i.isEqual(Lt.min())?ne.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?ne.resolve(null):(sf()<=Ys.Ge.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gf(n)),this.es(e,s,n,W$(i,-1)).next(a=>a))})}Zi(e,n){let r=new Yn(xU(e));return n.forEach((i,o)=>{Gm(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return sf()<=Ys.Ge.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",gf(n)),this.zi.getDocumentsMatchingQuery(e,n,$o.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Toe{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lr(Yt),this.rs=new qa(o=>Ou(o),Hm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GB(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function KB(t,e,n,r){return new Toe(t,e,n,r)}function YB(t,e){return jA.apply(this,arguments)}function jA(){return jA=(0,y.c)(function*(t,e){const n=ht(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=an();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}),jA.apply(this,arguments)}function QB(t){const e=ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function XB(t,e,n){let r=an(),i=an();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ao();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Lt.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function Roe(t,e){const n=ht(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tf(t,e){const n=ht(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,ne.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Ka(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Af(t,e,n){return HA.apply(this,arguments)}function HA(){return HA=(0,y.c)(function*(t,e,n){const r=ht(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!sc(s))throw s;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),HA.apply(this,arguments)}function FE(t,e,n){const r=ht(t);let i=Lt.min(),o=an();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const g=ht(l),m=g.rs.get(h);return void 0!==m?ne.resolve(g.ns.get(m)):g.Qr.getTargetData(u,h)}(r,s,uo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Lt.min(),n?o:an())).next(a=>(ej(r,PU(e),a),{documents:a,hs:o})))}function ZB(t,e){const n=ht(t),r=ht(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r._t(o,e).next(s=>s?s.target:null))}function JB(t,e){const n=ht(t),r=n.ss.get(e)||Lt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,W$(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ej(n,e,i),i))}function ej(t,e,n){let r=t.ss.get(e)||Lt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}function zA(){return zA=(0,y.c)(function*(t,e,n,r){const i=ht(t);let o=an(),s=Ao();for(const u of n){const h=e.Ps(u.metadata.name);u.document&&(o=o.add(h));const g=e.Is(u);g.setReadTime(e.Ts(u.metadata.readTime)),s=s.insert(h,g)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=yield Tf(i,(h=r,uo(ff(vn.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>XB(u,a,s).next(h=>(a.apply(u),h)).next(h=>i.Qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Qr.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.cs,h.ls)).next(()=>h.cs)))}),zA.apply(this,arguments)}function Poe(t,e){return GA.apply(this,arguments)}function GA(){return GA=(0,y.c)(function*(t,e,n=an()){const r=yield Tf(t,uo(RA(e.bundledQuery))),i=ht(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Hr(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(o,e);const a=r.withResumeToken(di.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(o,a).next(()=>i.Qr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Qr.addMatchingKeys(o,n,r.targetId)).next(()=>i.$r.saveNamedQuery(o,e))})}),GA.apply(this,arguments)}function tj(t,e){return`firestore_clients_${t}_${e}`}function nj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qA(t,e){return`firestore_targets_${t}_${e}`}class LE{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let o,s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(o=new ke(i.error.code,i.error.message))),s?new LE(e,n,i.state,o):(jr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class a_{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ke(r.error.code,r.error.message))),o?new a_(e,r.state,i):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class VE{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=_A();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=Z$(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new VE(e,o):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class WA{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new WA(n.clientId,n.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class KA{constructor(){this.activeTargetIds=_A()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YA{constructor(e,n,r,i,o){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new lr(Yt),this.started=!1,this.ys=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=tj(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new KA),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,y.c)(function*(){const n=yield e.syncEngine.Li();for(const i of n){if(i===e.Vs)continue;const o=e.getItem(tj(e.persistenceKey,i));if(o){const s=VE.Es(i,o);s&&(e.ps=e.ps.insert(s.clientId,s))}}e.Ms();const r=e.storage.getItem(e.vs);if(r){const i=e.xs(r);i&&e.Os(i)}for(const i of e.ys)e.gs(i);e.ys=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,n,r){this.Bs(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qA(this.persistenceKey,e));if(r){const i=a_.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qA(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return $e("SharedClientState","READ",e,n),n}setItem(e,n){$e("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){var n=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ws)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,y.c)(function*(){if(n.started){if(null!==r.key)if(n.bs.test(r.key)){if(null==r.newValue){const i=n.$s(r.key);return n.Us(i,null)}{const i=n.Ws(r.key,r.newValue);if(i)return n.Us(i.clientId,i)}}else if(n.Ds.test(r.key)){if(null!==r.newValue){const i=n.Gs(r.key,r.newValue);if(i)return n.zs(i)}}else if(n.Cs.test(r.key)){if(null!==r.newValue){const i=n.js(r.key,r.newValue);if(i)return n.Hs(i)}}else if(r.key===n.vs){if(null!==r.newValue){const i=n.xs(r.newValue);if(i)return n.Os(i)}}else if(r.key===n.Ss){const i=function(s){let a=Uo._e;if(null!=s)try{const l=JSON.parse(s);Nt("number"==typeof l),a=l}catch(l){jr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Uo._e&&n.sequenceNumberHandler(i)}else if(r.key===n.Fs){const i=n.Js(r.newValue);yield Promise.all(i.map(o=>n.syncEngine.Ys(o)))}}else n.ys.push(r)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,n,r){const i=new LE(this.currentUser,e,n,r),o=nj(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ds())}Ls(e){const n=nj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:e}))}qs(e,n,r){const i=qA(this.persistenceKey,e),o=new a_(e,n,r);this.setItem(i,o.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return VE.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return LE.Es(new wi(void 0!==r[2]?r[2]:null),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return a_.Es(i,n)}xs(e){return WA.Es(e)}Js(e){return JSON.parse(e)}zs(e){var n=this;return(0,y.c)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Zs(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),o=this.Ns(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=_A();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class rj{constructor(){this.no=new KA,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new KA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xoe{io(e){}shutdown(){}}class ij{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $E=null;function QA(){return null===$E?$E=268435456+Math.round(2147483648*Math.random()):$E++,"0x"+$E.toString(16)}const Noe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ooe{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Qi="WebChannelConnection";class koe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=QA(),l=this.bo(n,r.toUriEncodedString());$e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(h=>($e("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+rf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){return`${this.fo}/v1/${r}:${Noe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=QA();return new Promise((s,a)=>{const l=new xre;l.setWithCredentials(!0),l.listenOnce(Mre.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nA.NO_ERROR:const h=l.getResponseJson();$e(Qi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case nA.TIMEOUT:$e(Qi,`RPC '${e}' ${o} timed out`),a(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case nA.HTTP_ERROR:const g=l.getStatus();if($e(Qi,`RPC '${e}' ${o} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=null==m?void 0:m.error;if(v&&v.status&&v.message){const b=function(R){const H=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(H)>=0?H:he.UNKNOWN}(v.status);a(new ke(b,v.message))}else a(new ke(he.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ke(he.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{$e(Qi,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);$e(Qi,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=QA(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sre(),a=Rre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");$e(Qi,`Creating RPC '${e}' stream ${i}: ${h}`,l);const g=s.createWebChannel(h,l);let m=!1,v=!1;const b=new Ooe({lo:R=>{v?$e(Qi,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||($e(Qi,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),$e(Qi,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},ho:()=>g.close()}),A=(R,H,U)=>{R.listen(H,de=>{try{U(de)}catch(ge){setTimeout(()=>{throw ge},0)}})};return A(g,cE.EventType.OPEN,()=>{v||$e(Qi,`RPC '${e}' stream ${i} transport opened.`)}),A(g,cE.EventType.CLOSE,()=>{v||(v=!0,$e(Qi,`RPC '${e}' stream ${i} transport closed`),b.Vo())}),A(g,cE.EventType.ERROR,R=>{v||(v=!0,Do(Qi,`RPC '${e}' stream ${i} transport errored:`,R),b.Vo(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),A(g,cE.EventType.MESSAGE,R=>{var H;if(!v){const U=R.data[0];Nt(!!U);const ge=U.error||(null===(H=U[0])||void 0===H?void 0:H.error);if(ge){$e(Qi,`RPC '${e}' stream ${i} received error:`,ge);const Qe=ge.status;let yt=function(el){const g0=ni[el];if(void 0!==g0)return QU(g0)}(Qe),_n=ge.message;void 0===yt&&(yt=he.INTERNAL,_n="Unknown error status: "+Qe+" with message "+ge.message),v=!0,b.Vo(new ke(yt,_n)),g.close()}else $e(Qi,`RPC '${e}' stream ${i} received:`,U),b.mo(U)}}),A(a,Pre.STAT_EVENT,R=>{R.stat===B$.PROXY?$e(Qi,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===B$.NOPROXY&&$e(Qi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ro()},0),b}}function oj(){return typeof window<"u"?window:null}function UE(){return typeof document<"u"?document:null}function l_(t){return new Gie(t,!0)}class XA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class sj{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new XA(e,n)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}stop(){var e=this;return(0,y.c)(function*(){e.Ho()&&(yield e.close(0))})()}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){var e=this;return(0,y.c)(function*(){if(e.Jo())return e.close(0)})()}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){var r=this;return(0,y.c)(function*(){r.n_(),r.r_(),r.jo.cancel(),r.Wo++,4!==e?r.jo.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.jo.ko()):n&&n.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.i_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.To(n)})()}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ke(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){var e=this;this.state=5,this.jo.qo((0,y.c)(function*(){e.state=0,e.start()}))}__(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Foe extends sj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=function Kie(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Rt(),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Nt(void 0===h||"string"==typeof h),di.fromBase64String(h||"")):(Nt(void 0===h||h instanceof Uint8Array),di.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=void 0===u.code?he.UNKNOWN:QU(u.code);return new ke(h,u.message||"")}(s);n=new tB(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=na(t,r.document.name),o=Hr(r.document.updateTime),s=r.document.createTime?Hr(r.document.createTime):Lt.min(),a=new Ni({mapValue:{fields:r.document.fields}}),l=mr.newFoundDocument(i,o,s,a);n=new DE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=na(t,r.document),o=r.readTime?Hr(r.readTime):Lt.min(),s=mr.newNoDocument(i,o);n=new DE([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=na(t,r.document);n=new DE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Rt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new $ie(i,o);n=new eB(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Lt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Lt.min():s.readTime?Hr(s.readTime):Lt.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=TA(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=vE(l)?{documents:hB(o,l)}:{query:SA(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oB(o,s.resumeToken);const u=CA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Lt.min())>0){a.readTime=If(o,s.snapshotVersion.toTimestamp());const u=CA(o,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Qie(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=TA(this.serializer),n.removeTarget=e,this.t_(n)}}class Loe extends sj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=function Yie(t,e){return t&&t.length>0?(Nt(void 0!==e),t.map(n=>function(i,o){let s=Hr(i.updateTime?i.updateTime:o);return s.isEqual(Lt.min())&&(s=Hr(o)),new kie(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.T_(r,n)}return Nt(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=TA(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e_(this.serializer,r))};this.t_(n)}}class Voe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,DA(n,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(he.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,DA(n,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(he.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Uoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jr(n),this.g_=!1):$e("OnlineStateTracker",n)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Boe{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(a=>{r.enqueueAndForget((0,y.c)(function*(){var l;vc(s)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,y.c)(function*(h){const g=ht(h);g.v_.add(4),yield Sf(g),g.x_.set("Unknown"),g.v_.delete(4),yield c_(g)}),function u(h){return l.apply(this,arguments)})(s))}))}),this.x_=new Uoe(r,i)}}function c_(t){return JA.apply(this,arguments)}function JA(){return JA=(0,y.c)(function*(t){if(vc(t))for(const e of t.F_)yield e(!0)}),JA.apply(this,arguments)}function Sf(t){return eS.apply(this,arguments)}function eS(){return eS=(0,y.c)(function*(t){for(const e of t.F_)yield e(!1)}),eS.apply(this,arguments)}function BE(t,e){const n=ht(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),rS(n)?nS(n):Mf(n).Jo()&&tS(n,e))}function u_(t,e){const n=ht(t),r=Mf(n);n.C_.delete(e),r.Jo()&&aj(n,e),0===n.C_.size&&(r.Jo()?r.Xo():vc(n)&&n.x_.set("Unknown"))}function tS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Lt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mf(t).c_(e)}function aj(t,e){t.O_.Oe(e),Mf(t).l_(e)}function nS(t){t.O_=new Bie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Mf(t).start(),t.x_.p_()}function rS(t){return vc(t)&&!Mf(t).Ho()&&t.C_.size>0}function vc(t){return 0===ht(t).v_.size}function lj(t){t.O_=void 0}function joe(t){return iS.apply(this,arguments)}function iS(){return iS=(0,y.c)(function*(t){t.C_.forEach((e,n)=>{tS(t,e)})}),iS.apply(this,arguments)}function Hoe(t,e){return oS.apply(this,arguments)}function oS(){return oS=(0,y.c)(function*(t,e){lj(t),rS(t)?(t.x_.S_(e),nS(t)):t.x_.set("Unknown")}),oS.apply(this,arguments)}function zoe(t,e,n){return sS.apply(this,arguments)}function sS(){return sS=(0,y.c)(function*(t,e,n){if(t.x_.set("Online"),e instanceof tB&&2===e.state&&e.cause)try{yield(r=(0,y.c)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.C_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.C_.delete(l),o.O_.removeTarget(l))}),function i(o,s){return r.apply(this,arguments)})(t,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jE(t,r)}else if(e instanceof DE?t.O_.$e(e):e instanceof eB?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Lt.min()))try{const r=yield QB(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.C_.get(u);h&&o.C_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.C_.get(l);if(!h)return;o.C_.set(l,h.withResumeToken(di.EMPTY_BYTE_STRING,h.snapshotVersion)),aj(o,l);const g=new Ka(h.target,l,u,h.sequenceNumber);tS(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield jE(t,r)}var r}),sS.apply(this,arguments)}function jE(t,e,n){return aS.apply(this,arguments)}function aS(){return aS=(0,y.c)(function*(t,e,n){if(!sc(e))throw e;t.v_.add(1),yield Sf(t),t.x_.set("Offline"),n||(n=()=>QB(t.localStore)),t.asyncQueue.enqueueRetryable((0,y.c)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield c_(t)}))}),aS.apply(this,arguments)}function cj(t,e){return e().catch(n=>jE(t,n,e))}function Rf(t){return lS.apply(this,arguments)}function lS(){return lS=(0,y.c)(function*(t){const e=ht(t),n=yc(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Goe(e);)try{const i=yield Roe(e.localStore,r);if(null===i){0===e.D_.length&&n.Xo();break}r=i.batchId,qoe(e,i)}catch(i){yield jE(e,i)}uj(e)&&dj(e)}),lS.apply(this,arguments)}function Goe(t){return vc(t)&&t.D_.length<10}function qoe(t,e){t.D_.push(e);const n=yc(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function uj(t){return vc(t)&&!yc(t).Ho()&&t.D_.length>0}function dj(t){yc(t).start()}function Woe(t){return cS.apply(this,arguments)}function cS(){return cS=(0,y.c)(function*(t){yc(t).d_()}),cS.apply(this,arguments)}function Koe(t){return uS.apply(this,arguments)}function uS(){return uS=(0,y.c)(function*(t){const e=yc(t);for(const n of t.D_)e.I_(n.mutations)}),uS.apply(this,arguments)}function Yoe(t,e,n){return dS.apply(this,arguments)}function dS(){return dS=(0,y.c)(function*(t,e,n){const r=t.D_.shift(),i=IA.from(r,e,n);yield cj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rf(t)}),dS.apply(this,arguments)}function Qoe(t,e){return hS.apply(this,arguments)}function hS(){return hS=(0,y.c)(function*(t,e){var n;e&&yc(t).P_&&(yield(n=(0,y.c)(function*(i,o){if(YU(a=o.code)&&a!==he.ABORTED){const s=i.D_.shift();yc(i).Zo(),yield cj(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield Rf(i)}var a}),function r(i,o){return n.apply(this,arguments)})(t,e)),uj(t)&&dj(t)}),hS.apply(this,arguments)}function hj(t,e){return fS.apply(this,arguments)}function fS(){return fS=(0,y.c)(function*(t,e){const n=ht(t);n.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=vc(n);n.v_.add(3),yield Sf(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield c_(n)}),fS.apply(this,arguments)}function pS(t,e){return gS.apply(this,arguments)}function gS(){return gS=(0,y.c)(function*(t,e){const n=ht(t);e?(n.v_.delete(2),yield c_(n)):e||(n.v_.add(2),yield Sf(n),n.x_.set("Unknown"))}),gS.apply(this,arguments)}function Mf(t){return t.N_||(t.N_=function(n,r,i){const o=ht(n);return o.R_(),new Foe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:joe.bind(null,t),To:Hoe.bind(null,t),u_:zoe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.N_.Zo(),rS(t)?nS(t):t.x_.set("Unknown")):(yield t.N_.stop(),lj(t))});return function(n){return e.apply(this,arguments)}}())),t.N_}function yc(t){return t.B_||(t.B_=function(n,r,i){const o=ht(n);return o.R_(),new Loe(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:Woe.bind(null,t),To:Qoe.bind(null,t),E_:Koe.bind(null,t),T_:Yoe.bind(null,t)}),t.F_.push(function(){var e=(0,y.c)(function*(n){n?(t.B_.Zo(),yield Rf(t)):(yield t.B_.stop(),t.D_.length>0&&($e("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))});return function(n){return e.apply(this,arguments)}}())),t.B_}class mS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new mS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(t,e){if(jr("AsyncQueue",`${e}: ${t}`),sc(t))return new ke(he.UNAVAILABLE,`${e}: ${t}`);throw t}class xf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pt.comparator(n.key,r.key):(n,r)=>pt.comparator(n.key,r.key),this.keyedMap=qm(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new xf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new xf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class fj{constructor(){this.L_=new lr(pt.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?0!==e.type&&3===r.type?this.L_=this.L_.insert(n,e):3===e.type&&1!==r.type?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.L_=this.L_.remove(n):1===e.type&&2===r.type?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Rt():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nf{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Nf(e,n,xf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xoe{constructor(){this.q_=void 0,this.Q_=[]}}class Zoe{constructor(){this.queries=new qa(e=>MU(e),zm),this.onlineState="Unknown",this.K_=new Set}}function _S(t,e){return vS.apply(this,arguments)}function vS(){return vS=(0,y.c)(function*(t,e){const n=ht(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Xoe),i)try{o.q_=yield n.onListen(r)}catch(s){const a=Pf(s,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&ES(n)}),vS.apply(this,arguments)}function yS(t,e){return IS.apply(this,arguments)}function IS(){return IS=(0,y.c)(function*(t,e){const n=ht(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=0===o.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),IS.apply(this,arguments)}function Joe(t,e){const n=ht(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&ES(n)}function ese(t,e,n){const r=ht(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function ES(t){t.K_.forEach(e=>{e.next()})}class wS{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Nf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Nf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class tse{constructor(e,n){this.X_=e,this.byteLength=n}ea(){return"metadata"in this.X_}}class pj{constructor(e){this.serializer=e}Ps(e){return na(this.serializer,e)}Is(e){return e.metadata.exists?dB(this.serializer,e.document,!1):mr.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Hr(e)}}class nse{constructor(e,n,r){this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gj(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++n;const r=vn.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ra(e){const n=new Map,r=new pj(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Ps(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||an()).add(o);n.set(s,a)}}return n}complete(){var e=this;return(0,y.c)(function*(){const n=yield function Moe(t,e,n,r){return zA.apply(this,arguments)}(e.localStore,new pj(e.serializer),e.documents,e.ta.id),r=e.ra(e.documents);for(const i of e.queries)yield Poe(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,ia:e.collectionGroups,sa:n}})()}}function gj(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class mj{constructor(e){this.key=e}}class _j{constructor(e){this.key=e}}class vj{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=an(),this.mutatedKeys=an(),this.ua=xU(e),this.ca=new xf(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new fj,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const m=i.get(h),v=Gm(this.query,g)?g:null,b=!!m&&this.mutatedKeys.has(m.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;m&&v?m.data.isEqual(v.data)?b!==A&&(r.track({type:3,doc:v}),R=!0):this.Ia(m,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(l||u)&&(a=!0)),R&&(v?(s=s.add(v),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const h="F"===this.query.limitType?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((h,g)=>function(v,b){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return A(v)-A(b)}(h.type,g.type)||this.ua(h.doc,g.doc)),this.Ta(r),i=null!=i&&i;const a=n&&!i?this.Ea():[],l=0===this.aa.size&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,0!==s.length||u?{snapshot:new Nf(this.query,e.ca,o,s,e.mutatedKeys,0===l,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new fj,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=an(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new _j(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new mj(r))}),n}Ra(e){this.oa=e.hs,this.aa=an();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Nf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class rse{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ise{constructor(e){this.key=e,this.ma=!1}}class ose{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new qa(a=>MU(a),zm),this.pa=new Map,this.ya=new Set,this.wa=new lr(pt.comparator),this.Sa=new Map,this.ba=new FA,this.Da={},this.Ca=new Map,this.va=ju.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function sse(t,e){return CS.apply(this,arguments)}function CS(){return CS=(0,y.c)(function*(t,e){const n=qS(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=yield Tf(n.localStore,uo(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield bS(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&BE(n.remoteStore,s)}return i}),CS.apply(this,arguments)}function bS(t,e,n,r,i){return DS.apply(this,arguments)}function DS(){return DS=(0,y.c)(function*(t,e,n,r,i){t.Ma=(g,m,v)=>{return(b=(0,y.c)(function*(R,H,U,de){let ge=H.view.ha(U);ge.Xi&&(ge=yield FE(R.localStore,H.query,!1).then(({documents:nr})=>H.view.ha(nr,ge)));const Qe=de&&de.targetChanges.get(H.targetId),yt=de&&null!=de.targetMismatches.get(H.targetId),_n=H.view.applyChanges(ge,R.isPrimaryClient,Qe,yt);return kS(R,H.targetId,_n.da),_n.snapshot}),function A(R,H,U,de){return b.apply(this,arguments)})(t,g,m,v);var b};const o=yield FE(t.localStore,e,!0),s=new vj(e,o.hs),a=s.ha(o.documents),l=Zm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=s.applyChanges(a,t.isPrimaryClient,l);kS(t,n,u.da);const h=new rse(e,n,s);return t.ga.set(e,h),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}),DS.apply(this,arguments)}function ase(t,e){return TS.apply(this,arguments)}function TS(){return TS=(0,y.c)(function*(t,e){const n=ht(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!zm(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Af(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),u_(n.remoteStore,r.targetId),Of(n,r.targetId)}).catch(oc))):(Of(n,r.targetId),yield Af(n.localStore,r.targetId,!0))}),TS.apply(this,arguments)}function AS(){return AS=(0,y.c)(function*(t,e,n){const r=WS(t);try{const i=yield function(s,a){const l=ht(s),u=Cr.now(),h=a.reduce((v,b)=>v.add(b.key),an());let g,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=Ao(),A=an();return l.os.getEntries(v,h).next(R=>{b=R,b.forEach((H,U)=>{U.isValidDocument()||(A=A.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(R=>{g=R;const H=[];for(const U of a){const de=Lie(U,g.get(U.key).overlayedDocument);null!=de&&H.push(new Wa(U.key,de,gU(de.value.mapValue),br.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,H,a)}).next(R=>{m=R;const H=R.applyToLocalDocumentSet(g,A);return l.documentOverlayCache.saveOverlays(v,R.batchId,H)})}).then(()=>({batchId:m.batchId,changes:OU(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new lr(Yt)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Ya(r,i.changes),yield Rf(r.remoteStore)}catch(i){const o=Pf(i,"Failed to persist write");n.reject(o)}}),AS.apply(this,arguments)}function yj(t,e){return SS.apply(this,arguments)}function SS(){return SS=(0,y.c)(function*(t,e){const n=ht(t);try{const r=yield function Soe(t,e){const n=ht(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,g)=>{const m=i.get(g);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,g)));let v=m.withSequenceNumber(o.currentSequenceNumber);var A,R,H;null!==e.targetMismatches.get(g)?v=v.withResumeToken(di.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(g,v),R=v,H=h,(0===(A=m).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8||H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0)&&a.push(n.Qr.updateTargetData(o,v))});let l=Ao(),u=an();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(XB(o,s,e.documentUpdates).next(h=>{l=h.cs,u=h.ls})),!r.isEqual(Lt.min())){const h=n.Qr.getLastRemoteSnapshotVersion(o).next(g=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return ne.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Nt(s.ma):i.removedDocuments.size>0&&(Nt(s.ma),s.ma=!1))}),yield Ya(n,r,e)}catch(r){yield oc(r)}}),SS.apply(this,arguments)}function Ij(t,e,n){const r=ht(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ht(s);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(const m of g.Q_)m.U_(a)&&(u=!0)}),u&&ES(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cse(t,e,n){return RS.apply(this,arguments)}function RS(){return RS=(0,y.c)(function*(t,e,n){const r=ht(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new lr(pt.comparator);s=s.insert(o,mr.newNoDocument(o,Lt.min()));const a=an().add(o),l=new Xm(Lt.min(),new Map,new lr(Yt),s,a);yield yj(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),FS(r)}else yield Af(r.localStore,e,!1).then(()=>Of(r,e,n)).catch(oc)}),RS.apply(this,arguments)}function use(t,e){return MS.apply(this,arguments)}function MS(){return MS=(0,y.c)(function*(t,e){const n=ht(t),r=e.batch.batchId;try{const i=yield function Aoe(t,e){const n=ht(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const g=u.batch,m=g.keys();let v=ne.resolve();return m.forEach(b=>{v=v.next(()=>h.getEntry(l,b)).next(A=>{const R=u.docVersions.get(b);Nt(null!==R),A.version.compareTo(R)<0&&(g.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),h.addEntry(A)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=an();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);OS(n,r,null),NS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ya(n,i)}catch(i){yield oc(i)}}),MS.apply(this,arguments)}function dse(t,e,n){return PS.apply(this,arguments)}function PS(){return PS=(0,y.c)(function*(t,e,n){const r=ht(t);try{const i=yield function(s,a){const l=ht(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(Nt(null!==g),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);OS(r,e,n),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ya(r,i)}catch(i){yield oc(i)}}),PS.apply(this,arguments)}function xS(){return xS=(0,y.c)(function*(t,e){const n=ht(t);vc(n.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const a=ht(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(-1===r)return void e.resolve();const i=n.Ca.get(r)||[];i.push(e),n.Ca.set(r,i)}catch(r){const i=Pf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),xS.apply(this,arguments)}function NS(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function OS(t,e,n){const r=ht(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Of(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Ej(t,r)})}function Ej(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(u_(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),FS(t))}function kS(t,e,n){for(const r of n)r instanceof mj?(t.ba.addReference(r.key,e),fse(t,r)):r instanceof _j?($e("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Ej(t,r.key)):Rt()}function fse(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||($e("SyncEngine","New document in limbo: "+n),t.ya.add(r),FS(t))}function FS(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new pt(vn.fromString(e)),r=t.va.next();t.Sa.set(r,new ise(n)),t.wa=t.wa.insert(n,r),BE(t.remoteStore,new Ka(uo(ff(n.path)),r,"TargetPurposeLimboResolution",Uo._e))}}function Ya(t,e,n){return LS.apply(this,arguments)}function LS(){return LS=(0,y.c)(function*(t,e,n){const r=ht(t),i=[],o=[],s=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=u&&u.fromCache?"not-current":"current"),u){i.push(u);const h=BA.Ki(l.targetId,u);o.push(h)}}))}),yield Promise.all(s),r.fa.u_(i),yield(a=(0,y.c)(function*(u,h){const g=ht(u);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ne.forEach(h,v=>ne.forEach(v.qi,b=>g.persistence.referenceDelegate.addReference(m,v.targetId,b)).next(()=>ne.forEach(v.Qi,b=>g.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))}catch(m){if(!sc(m))throw m;$e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const b=g.ns.get(v),R=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);g.ns=g.ns.insert(v,R)}}}),function l(u,h){return a.apply(this,arguments)})(r.localStore,o))}),LS.apply(this,arguments)}function pse(t,e){return VS.apply(this,arguments)}function VS(){return VS=(0,y.c)(function*(t,e){const n=ht(t);if(!n.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield YB(n.localStore,e);n.currentUser=e,(o=n).Ca.forEach(a=>{a.forEach(l=>{l.reject(new ke(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ya(n,r.us)}var o}),VS.apply(this,arguments)}function gse(t,e){const n=ht(t),r=n.Sa.get(e);if(r&&r.ma)return an().add(r.key);{let i=an();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function mse(t,e){return $S.apply(this,arguments)}function $S(){return $S=(0,y.c)(function*(t,e){const n=ht(t),r=yield FE(n.localStore,e.query,!0),i=e.view.Ra(r);return n.isPrimaryClient&&kS(n,e.targetId,i.da),i}),$S.apply(this,arguments)}function _se(t,e){return US.apply(this,arguments)}function US(){return US=(0,y.c)(function*(t,e){const n=ht(t);return JB(n.localStore,e).then(r=>Ya(n,r))}),US.apply(this,arguments)}function vse(t,e,n,r){return BS.apply(this,arguments)}function BS(){return BS=(0,y.c)(function*(t,e,n,r){const i=ht(t),o=yield function(a,l){const u=ht(a),h=ht(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",g=>h.vn(g,l).next(m=>m?u.localDocuments.getDocuments(g,m):ne.resolve(null)))}(i.localStore,e);var l;null!==o?("pending"===n?yield Rf(i.remoteStore):"acknowledged"===n||"rejected"===n?(OS(i,e,r||null),NS(i,e),l=e,ht(ht(i.localStore).mutationQueue).Mn(l)):Rt(),yield Ya(i,o)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),BS.apply(this,arguments)}function jS(){return jS=(0,y.c)(function*(t,e){const n=ht(t);if(qS(n),WS(n),!0===e&&!0!==n.Fa){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield wj(n,r.toArray());n.Fa=!0,yield pS(n.remoteStore,!0);for(const o of i)BE(n.remoteStore,o)}else if(!1===e&&!1!==n.Fa){const r=[];let i=Promise.resolve();n.pa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Of(n,s),Af(n.localStore,s,!0))),u_(n.remoteStore,s)}),yield i,yield wj(n,r),function(s){const a=ht(s);a.Sa.forEach((l,u)=>{u_(a.remoteStore,u)}),a.ba.mr(),a.Sa=new Map,a.wa=new lr(pt.comparator)}(n),n.Fa=!1,yield pS(n.remoteStore,!1)}}),jS.apply(this,arguments)}function wj(t,e,n){return HS.apply(this,arguments)}function HS(){return HS=(0,y.c)(function*(t,e,n){const r=ht(t),i=[],o=[];for(const s of e){let a;const l=r.pa.get(s);if(l&&0!==l.length){a=yield Tf(r.localStore,uo(l[0]));for(const u of l){const h=r.ga.get(u),g=yield mse(r,h);g.snapshot&&o.push(g.snapshot)}}else{const u=yield ZB(r.localStore,s);a=yield Tf(r.localStore,u),yield bS(r,Cj(u),s,!1,a.resumeToken)}i.push(a)}return r.fa.u_(o),i}),HS.apply(this,arguments)}function Cj(t){return AU(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ise(t){return n=ht(t).localStore,ht(ht(n).persistence).Li();var n}function Ese(t,e,n,r){return zS.apply(this,arguments)}function zS(){return zS=(0,y.c)(function*(t,e,n,r){const i=ht(t);if(i.Fa)return void $e("SyncEngine","Ignoring unexpected query state notification.");const o=i.pa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=yield JB(i.localStore,PU(o[0])),a=Xm.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,di.EMPTY_BYTE_STRING);yield Ya(i,s,a);break}case"rejected":yield Af(i.localStore,e,!0),Of(i,e,r);break;default:Rt()}}),zS.apply(this,arguments)}function wse(t,e,n){return GS.apply(this,arguments)}function GS(){return GS=(0,y.c)(function*(t,e,n){const r=qS(t);if(r.Fa){for(const i of e){if(r.pa.has(i)){$e("SyncEngine","Adding an already active target "+i);continue}const o=yield ZB(r.localStore,i),s=yield Tf(r.localStore,o);yield bS(r,Cj(o),s.targetId,!1,s.resumeToken),BE(r.remoteStore,s)}for(const i of n)r.pa.has(i)&&(yield Af(r.localStore,i,!1).then(()=>{u_(r.remoteStore,i),Of(r,i)}).catch(oc))}}),GS.apply(this,arguments)}function qS(t){const e=ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cse.bind(null,e),e.fa.u_=Joe.bind(null,e.eventManager),e.fa.xa=ese.bind(null,e.eventManager),e}function WS(t){const e=ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=use.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dse.bind(null,e),e}class kf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.c)(function*(){n.serializer=l_(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KB(this.persistence,new WB,e.initialUser,this.serializer)}createPersistence(e){return new LA(NE.Hr,this.serializer)}createSharedClientState(e){return new rj}terminate(){var e=this;return(0,y.c)(function*(){var n,r;null===(n=e.gcScheduler)||void 0===n||n.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KS extends kf{constructor(e,n,r){super(),this.Na=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e),yield r.Na.initialize(r,e),yield WS(r.Na.syncEngine),yield Rf(r.Na.remoteStore),yield r.persistence.fi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return KB(this.persistence,new WB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new VB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Yre(n,this.persistence);return new Kre(e.asyncQueue,r)}createPersistence(e){const n=UA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yi.withCacheSize(this.cacheSizeBytes):Yi.DEFAULT;return new $A(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,oj(),UE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rj}}class bj extends KS{constructor(e,n){super(e,n,!1),this.Na=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,r=this;return(0,y.c)(function*(){yield n().call(r,e);const i=r.Na.syncEngine;r.sharedClientState instanceof YA&&(r.sharedClientState.syncEngine={Zs:vse.bind(null,i),Xs:Ese.bind(null,i),eo:wse.bind(null,i),Li:Ise.bind(null,i),Ys:_se.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.fi(function(){var o=(0,y.c)(function*(s){yield function yse(t,e){return jS.apply(this,arguments)}(r.Na.syncEngine,s),r.gcScheduler&&(s&&!r.gcScheduler.started?r.gcScheduler.start():s||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(s&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():s||r.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const n=oj();if(!YA.D(n))throw new ke(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=UA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new YA(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ff{initialize(e,n){var r=this;return(0,y.c)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Ij(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pse.bind(null,r.syncEngine),yield pS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zoe}createDatastore(e){const n=l_(e.databaseInfo.databaseId),r=new koe(e.databaseInfo);return new Voe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=n=>Ij(this.syncEngine,n,0),a=ij.D()?new ij:new xoe,new Boe(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const g=new ose(i,o,s,a,l,u);return h&&(g.Fa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){var e=this;return(0,y.c)(function*(){var n,r;yield(r=(0,y.c)(function*(o){const s=ht(o);$e("RemoteStore","RemoteStore shutting down."),s.v_.add(5),yield Sf(s),s.M_.shutdown(),s.x_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(n=e.datastore)||void 0===n||n.terminate()})()}}function Dj(t,e=10240){let n=0;return{read:()=>(0,y.c)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,y.c)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dse{constructor(e,n){this.ka=e,this.serializer=n,this.metadata=new ui,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then(r=>{r&&r.ea()?this.metadata.resolve(r.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.X_)}`))},r=>this.metadata.reject(r))}close(){return this.ka.cancel()}getMetadata(){var e=this;return(0,y.c)(function*(){return e.metadata.promise})()}Oa(){var e=this;return(0,y.c)(function*(){return yield e.getMetadata(),e.Qa()})()}Qa(){var e=this;return(0,y.c)(function*(){const n=yield e.Ka();if(null===n)return null;const r=e.qa.decode(n),i=Number(r);isNaN(i)&&e.$a(`length string (${r}) is not valid number`);const o=yield e.Ua(i);return new tse(JSON.parse(o),n.length+i)})()}Wa(){return this.buffer.findIndex(e=>123===e)}Ka(){var e=this;return(0,y.c)(function*(){for(;e.Wa()<0&&!(yield e.Ga()););if(0===e.buffer.length)return null;const n=e.Wa();n<0&&e.$a("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),r})()}Ua(e){var n=this;return(0,y.c)(function*(){for(;n.buffer.length<e;)(yield n.Ga())&&n.$a("Reached the end of bundle when more is expected.");const r=n.qa.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),r})()}$a(e){throw this.ka.cancel(),new Error(`Invalid bundle format: ${e}`)}Ga(){var e=this;return(0,y.c)(function*(){const n=yield e.ka.read();if(!n.done){const r=new Uint8Array(e.buffer.length+n.value.length);r.set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r}return n.done})()}}class Tse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,y.c)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw n.lastTransactionError=new ke(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),n.lastTransactionError;const r=yield(i=(0,y.c)(function*(s,a){const l=ht(s),u={documents:a.map(v=>Jm(l.serializer,v))},h=yield l.vo("BatchGetDocuments",l.serializer.databaseId,vn.emptyPath(),u,a.length),g=new Map;h.forEach(v=>{const b=function Wie(t,e){return"found"in e?function(r,i){Nt(!!i.found);const o=na(r,i.found.name),s=Hr(i.found.updateTime),a=i.found.createTime?Hr(i.found.createTime):Lt.min(),l=new Ni({mapValue:{fields:i.found.fields}});return mr.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Nt(!!i.missing),Nt(!!i.readTime);const o=na(r,i.missing),s=Hr(i.readTime);return mr.newNoDocument(o,s)}(t,e):Rt()}(l.serializer,v);g.set(b.key.toString(),b)});const m=[];return a.forEach(v=>{const b=g.get(v.toString());Nt(!!b),m.push(b)}),m}),function o(s,a){return i.apply(this,arguments)})(n.datastore,e);var i;return r.forEach(i=>n.recordVersion(i)),r})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,y.c)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const n=e.readVersions;var r;e.mutations.forEach(r=>{n.delete(r.key.toString())}),n.forEach((r,i)=>{const o=pt.fromPath(i);e.mutations.push(new vA(o,e.precondition(o)))}),yield(r=(0,y.c)(function*(o,s){const a=ht(o),l={writes:s.map(u=>e_(a.serializer,u))};yield a.So("Commit",a.serializer.databaseId,vn.emptyPath(),l)}),function i(o,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Rt();n=Lt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ke(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Lt.min())?br.exists(!1):br.updateTime(n):br.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Lt.min()))throw new ke(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(n)}return br.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Ase{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.za=r.maxAttempts,this.jo=new XA(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){var e=this;this.jo.qo((0,y.c)(function*(){const n=new Tse(e.datastore),r=e.Ja(n);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Ya(o)}))}).catch(i=>{e.Ya(i)})}))}Ja(e){try{const n=this.updateFunction(e);return!Fm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!YU(n)}return!1}}class Sse{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=G$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=(0,y.c)(function*(a){$e("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>($e("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Pf(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function zE(t,e){return YS.apply(this,arguments)}function YS(){return YS=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,y.c)(function*(o){r.isEqual(o)||(yield YB(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),YS.apply(this,arguments)}function QS(t,e){return XS.apply(this,arguments)}function XS(){return XS=(0,y.c)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield ZS(t);$e("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hj(e.remoteStore,i)),t._onlineComponents=e}),XS.apply(this,arguments)}function Tj(t){return"FirebaseError"===t.name?t.code===he.FAILED_PRECONDITION||t.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function ZS(t){return JS.apply(this,arguments)}function JS(){return JS=(0,y.c)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Tj(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),yield zE(t,new kf)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield zE(t,new kf);return t._offlineComponents}),JS.apply(this,arguments)}function GE(t){return eR.apply(this,arguments)}function eR(){return eR=(0,y.c)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield QS(t,t._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield QS(t,new Ff))),t._onlineComponents}),eR.apply(this,arguments)}function Aj(t){return ZS(t).then(e=>e.persistence)}function Lf(t){return ZS(t).then(e=>e.localStore)}function Sj(t){return GE(t).then(e=>e.remoteStore)}function tR(t){return GE(t).then(e=>e.syncEngine)}function Vf(t){return nR.apply(this,arguments)}function nR(){return nR=(0,y.c)(function*(t){const e=yield GE(t),n=e.eventManager;return n.onListen=sse.bind(null,e.syncEngine),n.onUnlisten=ase.bind(null,e.syncEngine),n}),nR.apply(this,arguments)}function Mj(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new HE({next:m=>{s.enqueueAndForget(()=>yS(o,g));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new ke(he.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&"server"===l.source?u.reject(new ke(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new wS(ff(a.path),h,{includeMetadataChanges:!0,Z_:!0});return _S(o,g)}(yield Vf(t),t.asyncQueue,e,n,r)})),r.promise}function Pj(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function(o,s,a,l,u){const h=new HE({next:m=>{s.enqueueAndForget(()=>yS(o,g)),m.fromCache&&"server"===l.source?u.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),g=new wS(a,h,{includeMetadataChanges:!0,Z_:!0});return _S(o,g)}(yield Vf(t),t.asyncQueue,e,n,r)})),r.promise}function xj(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Nj=new Map;function rR(t,e,n){if(!n)throw new ke(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Oj(t,e,n,r){if(!0===e&&!0===r)throw new ke(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kj(t){if(!pt.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fj(t){if(pt.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qE(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":Rt()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qE(t);throw new ke(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lj(t,e){if(e<=0)throw new ke(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Vj{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xj(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class d_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vj(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Fre;switch(r.type){case"firstParty":return new Ure(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nj.get(n);r&&($e("ComponentProvider","Removing Datastore"),Nj.delete(n),r.terminate())}(this),Promise.resolve()}}class Oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class ra extends Oi{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new pt(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function Uj(t,e,...n){if(t=(0,cn.Yj)(t),rR("collection","path",e),t instanceof d_){const r=vn.fromString(e,...n);return Fj(r),new ra(t,null,r)}{if(!(t instanceof _r||t instanceof ra))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return Fj(r),new ra(t.firestore,null,r)}}function WE(t,e,...n){if(t=(0,cn.Yj)(t),1===arguments.length&&(e=G$.newId()),rR("doc","path",e),t instanceof d_){const r=vn.fromString(e,...n);return kj(r),new _r(t,null,new pt(r))}{if(!(t instanceof _r||t instanceof ra))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vn.fromString(e,...n));return kj(r),new _r(t.firestore,t instanceof ra?t.converter:null,new pt(r))}}function Bj(t,e){return t=(0,cn.Yj)(t),e=(0,cn.Yj)(e),(t instanceof _r||t instanceof ra)&&(e instanceof _r||e instanceof ra)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function iR(t,e){return t=(0,cn.Yj)(t),e=(0,cn.Yj)(e),t instanceof Oi&&e instanceof Oi&&t.firestore===e.firestore&&zm(t._query,e._query)&&t.converter===e.converter}class Use{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new XA(this,"async_queue_retry"),this._u=()=>{const n=UE();n&&$e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=UE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=UE();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new ui;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){var e=this;return(0,y.c)(function*(){if(0!==e.eu.length){try{yield e.eu[0](),e.eu.shift(),e.jo.reset()}catch(n){if(!sc(n))throw n;$e("AsyncQueue","Operation failed with retryable error: "+n)}e.eu.length>0&&e.jo.qo(()=>e.cu())}})()}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{throw this.ru=r,this.iu=!1,jr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=mS.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&Rt()}verifyOperationInProgress(){}hu(){var e=this;return(0,y.c)(function*(){let n;do{n=e.Xa,yield n}while(n!==e.Xa)})()}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function oR(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(t)}class Bse{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends d_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Use,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jj(this),this._firestoreClient.terminate()}}function Lr(t){return t._firestoreClient||jj(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jj(t){var e,n,r;const i=t._freezeSettings(),o=(l=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new mie(t._databaseId,l,t._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xj(h.experimentalLongPollingOptions),h.useFetchStreams));var l,h;t._firestoreClient=new Sse(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Hj(t,e,n){const r=new ui;return t.asyncQueue.enqueue((0,y.c)(function*(){try{yield zE(t,n),yield QS(t,e),r.resolve()}catch(i){const o=i;if(!Tj(o))throw o;Do("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function zj(t){if(t._initialized||t._terminated)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(di.fromBase64String(e))}catch(n){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zu{constructor(e){this._methodName=e}}class KE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}const Zse=/^__.*__$/;class Jse{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms):new vf(e,this.data,n,this.fieldTransforms)}}class Gj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class YE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new YE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return ZE(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(qj(this.du)&&Zse.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class eae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||l_(e)}Su(e,n,r,i=!1){return new YE({du:e,methodName:n,wu:r,path:gr.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(t){const e=t._freezeSettings(),n=l_(t._databaseId);return new eae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QE(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);hR("Data must be an object, but it was:",s,r);const a=Yj(r,s);let l,u;if(o.merge)l=new To(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const g of o.mergeFields){const m=p_(e,g,n);if(!s.contains(m))throw new ke(he.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Xj(h,m)||h.push(m)}l=new To(h),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new Jse(new Ni(a),l,u)}class f_ extends zu{_toFieldTransform(e){if(2!==e.du)throw e.pu(1===e.du?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof f_}}function Wj(t,e,n){return new YE({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sR extends zu{_toFieldTransform(e){return new Km(e.path,new mf)}isEqual(e){return e instanceof sR}}class aR extends zu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Wj(this,e,!0),r=this.bu.map(o=>qu(o,n)),i=new ku(r);return new Km(e.path,i)}isEqual(e){return e instanceof aR&&(0,cn.IN)(this.bu,e.bu)}}class lR extends zu{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=Wj(this,e,!0),r=this.bu.map(o=>qu(o,n)),i=new Fu(r);return new Km(e.path,i)}isEqual(e){return e instanceof lR&&(0,cn.IN)(this.bu,e.bu)}}class cR extends zu{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new _f(e.serializer,VU(e.serializer,this.Du));return new Km(e.path,n)}isEqual(e){return e instanceof cR&&this.Du===e.Du}}function uR(t,e,n,r){const i=t.Su(1,e,n);hR("Data must be an object, but it was:",i,r);const o=[],s=Ni.empty();ac(r,(l,u)=>{const h=XE(e,l,n);u=(0,cn.Yj)(u);const g=i.fu(h);if(u instanceof f_)o.push(h);else{const m=qu(u,g);null!=m&&(o.push(h),s.set(h,m))}});const a=new To(o);return new Gj(s,a,i.fieldTransforms)}function dR(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[p_(e,r,n)],l=[i];if(o.length%2!=0)throw new ke(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(p_(e,o[m])),l.push(o[m+1]);const u=[],h=Ni.empty();for(let m=a.length-1;m>=0;--m)if(!Xj(u,a[m])){const v=a[m];let b=l[m];b=(0,cn.Yj)(b);const A=s.fu(v);if(b instanceof f_)u.push(v);else{const R=qu(b,A);null!=R&&(u.push(v),h.set(v,R))}}const g=new To(u);return new Gj(h,g,s.fieldTransforms)}function Kj(t,e,n,r=!1){return qu(n,t.Su(r?4:3,e))}function qu(t,e){if(Qj(t=(0,cn.Yj)(t)))return hR("Unsupported field value:",e,t),Yj(t,e);if(t instanceof zu)return function(r,i){if(!qj(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&4!==e.du)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=qu(a,i.gu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if(null===(r=(0,cn.Yj)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return VU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=Cr.fromDate(r);return{timestampValue:If(i.serializer,o)}}if(r instanceof Cr){const o=new Cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(i.serializer,o)}}if(r instanceof KE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:oB(i.serializer,r._byteString)};if(r instanceof _r){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${qE(r)}`)}(t,e)}function Yj(t,e){const n={};return sU(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(t,(r,i)=>{const o=qu(i,e.Ru(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function Qj(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Cr||t instanceof KE||t instanceof ia||t instanceof _r||t instanceof zu)}function hR(t,e,n){if(!Qj(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=qE(n);throw e.pu("an object"===r?t+" a custom object":t+" "+r)}var i}function p_(t,e,n){if((e=(0,cn.Yj)(e))instanceof Qa)return e._internalPath;if("string"==typeof e)return XE(t,e);throw ZE("Field path arguments must be of type string or ",t,!1,void 0,n)}const tae=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(tae)>=0)throw ZE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qa(...e.split("."))._internalPath}catch{throw ZE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ZE(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ke(he.INVALID_ARGUMENT,a+t+l)}function Xj(t,e){return t.some(n=>n.isEqual(e))}class g_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new nae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class nae extends g_{data(){return super.data()}}function JE(t,e){return"string"==typeof e?XE(t,e):e instanceof Qa?e._internalPath:e._delegate._internalPath}function Zj(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fR{}class m_ extends fR{}function Ic(t,e,...n){let r=[];e instanceof fR&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof $f).length,a=o.filter(l=>l instanceof __).length;if(s>1||s>0&&a>0)throw new ke(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class __ extends m_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new __(e,n,r)}_apply(e){const n=this._parse(e);return n4(e._query,n),new Oi(e.firestore,e.converter,mA(e._query,n))}_parse(e){const n=Gu(e.firestore);return function(o,s,a,l,u,h,g){let m;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){t4(g,h);const v=[];for(const b of g)v.push(e4(l,o,b));m={arrayValue:{values:v}}}else m=e4(l,o,g)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||t4(g,h),m=Kj(a,"where",g,"in"===h||"not-in"===h);return yn.create(u,h,m)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class $f extends fR{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $f(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)n4(s,l),s=mA(s,l)}(e._query,n),new Oi(e.firestore,e.converter,mA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pR extends m_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pR(e,n)}_apply(e){const n=function(i,o,s){if(null!==i.startAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jm(o,s)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ga(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class e0 extends m_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new e0(e,n,r)}_apply(e){return new Oi(e.firestore,e.converter,IE(e._query,this._limit,this._limitType))}}class t0 extends m_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new t0(e,n,r)}_apply(e){const n=Jj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=n,new Ga((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)));var i,o}}class n0 extends m_{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new n0(e,n,r)}_apply(e){const n=Jj(e,this.type,this._docOrFields,this._inclusive);return new Oi(e.firestore,e.converter,(o=n,new Ga((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)));var i,o}}function Jj(t,e,n,r){if(n[0]=(0,cn.Yj)(n[0]),n[0]instanceof g_)return function(o,s,a,l,u){if(!l)throw new ke(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const g of pf(o))if(g.field.isKeyField())h.push(Nu(s,l.key));else{const m=l.data.field(g.field);if(fE(m))throw new ke(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const v=g.field.canonicalString();throw new ke(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(m)}return new fc(h,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gu(t.firestore);return function(s,a,l,u,h,g){const m=s.explicitOrderBy;if(h.length>m.length)throw new ke(he.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<h.length;b++){const A=h[b];if(m[b].field.isKeyField()){if("string"!=typeof A)throw new ke(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof A}`);if(!gA(s)&&-1!==A.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${A}' contains a slash.`);const R=s.path.child(vn.fromString(A));if(!pt.isDocumentKey(R))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const H=new pt(R);v.push(Nu(a,H))}else{const R=Kj(l,u,A);v.push(R)}}return new fc(v,g)}(t._query,t.firestore._databaseId,i,e,n,r)}}function e4(t,e,n){if("string"==typeof(n=(0,cn.Yj)(n))){if(""===n)throw new ke(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(e)&&-1!==n.indexOf("/"))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vn.fromString(n));if(!pt.isDocumentKey(r))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nu(t,new pt(r))}if(n instanceof _r)return Nu(t,n._key);throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qE(n)}.`)}function t4(t,e){if(!Array.isArray(t)||0===t.length)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n4(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ke(he.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gR{convertValue(e,n="none"){switch(dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Rt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ac(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new KE(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vm(e));default:return null}}convertTimestamp(e){const n=lc(e);return new Cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vn.fromString(e);Nt(mB(r));const i=new cc(r.get(1),r.get(3)),o=new pt(r.popFirst(5));return i.isEqual(n)||jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}function r0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dae extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xa extends g_{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new v_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(JE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class v_ extends Xa{data(e={}){return super.data(e)}}class Ec{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new v_(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new v_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new v_(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:fae(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function i4(t,e){return t instanceof Xa&&e instanceof Xa?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ec&&e instanceof Ec&&t._firestore===e._firestore&&iR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class wc extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function o4(t,e,n){t=mn(t,_r);const r=mn(t.firestore,cr),i=r0(t.converter,e,n);return Uf(r,[QE(Gu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,br.none())])}function s4(t,e,n,...r){t=mn(t,_r);const i=mn(t.firestore,cr),o=Gu(i);let s;return s="string"==typeof(e=(0,cn.Yj)(e))||e instanceof Qa?dR(o,"updateDoc",t._key,e,n,r):uR(o,"updateDoc",t._key,e),Uf(i,[s.toMutation(t._key,br.exists(!0))])}function a4(t,...e){var n,r,i;t=(0,cn.Yj)(t);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||oR(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(oR(e[s])){const g=e[s];e[s]=null===(n=g.next)||void 0===n?void 0:n.bind(g),e[s+1]=null===(r=g.error)||void 0===r?void 0:r.bind(g),e[s+2]=null===(i=g.complete)||void 0===i?void 0:i.bind(g)}let l,u,h;if(t instanceof _r)u=mn(t.firestore,cr),h=ff(t._key.path),l={next:g=>{e[s]&&e[s](mR(u,t,g))},error:e[s+1],complete:e[s+2]};else{const g=mn(t,Oi);u=mn(g.firestore,cr),h=g._query;const m=new wc(u);l={next:v=>{e[s]&&e[s](new Ec(u,m,g,v))},error:e[s+1],complete:e[s+2]},Zj(t._query)}return function(m,v,b,A){const R=new HE(A),H=new wS(v,R,b);return m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return _S(yield Vf(m),H)})),()=>{R.La(),m.asyncQueue.enqueueAndForget((0,y.c)(function*(){return yS(yield Vf(m),H)}))}}(Lr(u),h,a,l)}function Uf(t,e){return function(r,i){const o=new ui;return r.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function lse(t,e,n){return AS.apply(this,arguments)}(yield tR(r),i,o)})),o.promise}(Lr(t),e)}function mR(t,e,n){const r=n.docs.get(e._key),i=new wc(t);return new Xa(t,i,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}const Pae={maxAttempts:5};class l4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,n,r){this._verifyNotCommitted();const i=Cc(e,this._firestore),o=r0(i.converter,n,r),s=QE(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(s.toMutation(i._key,br.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Cc(e,this._firestore);let s;return s="string"==typeof(n=(0,cn.Yj)(n))||n instanceof Qa?dR(this._dataReader,"WriteBatch.update",o._key,n,r,i):uR(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,br.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Cc(e,this._firestore);return this._mutations=this._mutations.concat(new yf(n._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cc(t,e){if((t=(0,cn.Yj)(t)).firestore!==e)throw new ke(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class xae extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Gu(n)}get(n){const r=Cc(n,this._firestore),i=new dae(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Rt();const s=o[0];if(s.isFoundDocument())return new g_(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new g_(this._firestore,i,r._key,null,r.converter);throw Rt()})}set(n,r,i){const o=Cc(n,this._firestore),s=r0(o.converter,r,i),a=QE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Cc(n,this._firestore);let a;return a="string"==typeof(r=(0,cn.Yj)(r))||r instanceof Qa?dR(this._dataReader,"Transaction.update",s._key,r,i,o):uR(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Cc(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Cc(e,this._firestore),r=new wc(this._firestore);return super.get(e).then(i=>new Xa(this._firestore,r,n._key,i._document,new Wu(!1,!1),n.converter))}}function vR(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function h4(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function f4(){if(!function pie(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,n=!0){rf=Ws.SDK_VERSION,(0,Ws._registerComponent)(new LI.Yl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new cr(new Vre(r.getProvider("auth-internal")),new Bre(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Ws.registerVersion)(j$,"4.4.2",e),(0,Ws.registerVersion)(j$,"4.4.2","esm2017")}();class y_{constructor(e){this._delegate=e}static fromBase64String(e){return f4(),new y_(ia.fromBase64String(e))}static fromUint8Array(e){return h4(),new y_(ia.fromUint8Array(e))}toBase64(){return f4(),this._delegate.toBase64()}toUint8Array(){return h4(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yR(t){return function jae(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Hae{enableIndexedDbPersistence(e,n){return function Hse(t,e){zj(t=mn(t,cr));const n=Lr(t);if(n._uninitializedComponentsProvider)throw new ke(he.FAILED_PRECONDITION,"SDK cache is already specified.");Do("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Ff;return Hj(n,i,new KS(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function zse(t){zj(t=mn(t,cr));const e=Lr(t);if(e._uninitializedComponentsProvider)throw new ke(he.FAILED_PRECONDITION,"SDK cache is already specified.");Do("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Ff;return Hj(e,r,new bj(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Gse(t){if(t._initialized&&!t._terminated)throw new ke(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return t._queue.enqueueAndForgetEvenWhileRestricted((0,y.c)(function*(){try{yield(n=(0,y.c)(function*(i){if(!as.D())return Promise.resolve();const o=i+"main";yield as.delete(o)}),function r(i){return n.apply(this,arguments)})(UA(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class p4{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Do("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,r={}){!function $j(t,e,n,r={}){var i;const o=(t=mn(t,d_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=wi.MOCK_USER;else{a=(0,cn.YD)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wi(u)}t._authCredentials=new Lre(new H$(a,l))}}(this._delegate,e,n,r)}enableNetwork(){return function Wse(t){return function Rse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Aj(t),n=yield Sj(t);return e.setNetworkEnabled(!0),function(i){const o=ht(i);return o.v_.delete(0),c_(o)}(n)}))}(Lr(t=mn(t,cr)))}(this._delegate)}disableNetwork(){return function Kse(t){return function Mse(t){return t.asyncQueue.enqueue((0,y.c)(function*(){const e=yield Aj(t),n=yield Sj(t);return e.setNetworkEnabled(!1),(r=(0,y.c)(function*(o){const s=ht(o);s.v_.add(0),yield Sf(s),s.x_.set("Offline")}),function i(o){return r.apply(this,arguments)})(n);var r}))}(Lr(t=mn(t,cr)))}(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Oj("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qse(t){return function(n){const r=new ui;return n.asyncQueue.enqueueAndForget((0,y.c)(function*(){return function hse(t,e){return xS.apply(this,arguments)}(yield tR(n),r)})),r.promise}(Lr(t=mn(t,cr)))}(this._delegate)}onSnapshotsInSync(e){return function wae(t,e){return function Nse(t,e){const n=new HE(e);return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield Vf(t),o=n,ht(i).K_.add(o),void o.next();var i,o})),()=>{n.La(),t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return i=yield Vf(t),o=n,void ht(i).K_.delete(o);var i,o}))}}(Lr(t=mn(t,cr)),oR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bf(this,Uj(this._delegate,e))}catch(n){throw ho(n,"collection()","Firestore.collection()")}}doc(e){try{return new ls(this,WE(this._delegate,e))}catch(n){throw ho(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fo(this,function $se(t,e){if(t=mn(t,d_),rR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(t,null,(r=e,new Ga(vn.emptyPath(),r)));var r}(this._delegate,e))}catch(n){throw ho(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Nae(t,e,n){t=mn(t,cr);const r=Object.assign(Object.assign({},Pae),n);return function(o){if(o.maxAttempts<1)throw new ke(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new ui;return o.asyncQueue.enqueueAndForget((0,y.c)(function*(){const u=yield function Rj(t){return GE(t).then(e=>e.datastore)}(o);new Ase(o.asyncQueue,u,a,s,l).ja()})),l.promise}(Lr(t),i=>e(new xae(t,i)),r)}(this._delegate,n=>e(new g4(this,n)))}batch(){return Lr(this._delegate),new m4(new l4(this._delegate,e=>Uf(this._delegate,e)))}loadBundle(e){return function Yse(t,e){const n=Lr(t=mn(t,cr)),r=new Bse;return function Ose(t,e,n,r){const i=function(s,a){let l;return l="string"==typeof s?XU().encode(s):s,h=function(h,g){if(h instanceof Uint8Array)return Dj(h,g);if(h instanceof ArrayBuffer)return Dj(new Uint8Array(h),g);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Dse(h,a);var h}(n,l_(e));t.asyncQueue.enqueueAndForget((0,y.c)(function*(){!function Cse(t,e,n){const r=ht(t);var i;(i=(0,y.c)(function*(s,a,l){try{const u=yield a.getMetadata();if(yield function(b,A){const R=ht(b),H=Hr(A.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",U=>R.$r.getBundleMetadata(U,A.id)).then(U=>!!U&&U.createTime.compareTo(H)>=0)}(s.localStore,u))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);l._updateProgress(gj(u));const h=new nse(u,s.localStore,a.serializer);let g=yield a.Oa();for(;g;){const v=yield h.na(g);v&&l._updateProgress(v),g=yield a.Oa()}const m=yield h.complete();return yield Ya(s,m.sa,void 0),yield function(b,A){const R=ht(b);return R.persistence.runTransaction("Save bundle","readwrite",H=>R.$r.saveBundleMetadata(H,A))}(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m.ia)}catch(u){return Do("SyncEngine",`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}var b}),function o(s,a,l){return i.apply(this,arguments)})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield tR(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Qse(t,e){return function kse(t,e){return t.asyncQueue.enqueue((0,y.c)(function*(){return function(r,i){const o=ht(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,i))}(yield Lf(t),e)}))}(Lr(t=mn(t,cr)),e).then(n=>n?new Oi(t,null,n.query):null)}(this._delegate,e).then(n=>n?new fo(this,n):null)}}class s0 extends gR{constructor(e){super(),this.firestore=e}convertBytes(e){return new y_(new ia(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ls.forKey(n,this.firestore,null)}}class g4{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new s0(e)}get(e){const n=Yu(e);return this._delegate.get(n).then(r=>new I_(this._firestore,new Xa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Yu(e);return r?(vR("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Yu(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Yu(e);return this._delegate.delete(n),this}}class m4{constructor(e){this._delegate=e}set(e,n,r){const i=Yu(e);return r?(vR("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Yu(e);return 2===arguments.length?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Yu(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ku{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new v_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new E_(this._firestore,r),null!=n?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ku.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new Ku(e,new s0(e),n),i.set(n,o)),o}}Ku.INSTANCES=new WeakMap;class ls{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new s0(e)}static forPath(e,n,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ls(n,new _r(n._delegate,r,new pt(e)))}static forKey(e,n,r){return new ls(n,new _r(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Bf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bf(this.firestore,Uj(this._delegate,e))}catch(n){throw ho(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.Yj)(e))instanceof _r&&Bj(this._delegate,e)}set(e,n){n=vR("DocumentReference.set",n);try{return n?o4(this._delegate,e,n):o4(this._delegate,e)}catch(r){throw ho(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return 1===arguments.length?s4(this._delegate,e):s4(this._delegate,e,n,...r)}catch(i){throw ho(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Iae(t){return Uf(mn(t.firestore,cr),[new yf(t._key,br.none())])}(this._delegate)}onSnapshot(...e){const n=_4(e),r=v4(e,i=>new I_(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return a4(this._delegate,n,r)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function gae(t){t=mn(t,_r);const e=mn(t.firestore,cr),n=Lr(e),r=new wc(e);return function Pse(t,e){const n=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield function(h,g){const m=ht(h);return m.persistence.runTransaction("read document","readonly",v=>m.localDocuments.getDocument(v,g))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new ke(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=Pf(l,`Failed to get document '${s} from cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Lf(t),e,n);var r})),n.promise}(n,t._key).then(i=>new Xa(e,r,t._key,i,new Wu(null!==i&&i.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function mae(t){t=mn(t,_r);const e=mn(t.firestore,cr);return Mj(Lr(e),t._key,{source:"server"}).then(n=>mR(e,t,n))}(this._delegate):function pae(t){t=mn(t,_r);const e=mn(t.firestore,cr);return Mj(Lr(e),t._key).then(n=>mR(e,t,n))}(this._delegate),n.then(r=>new I_(this.firestore,new Xa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ls(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function ho(t,e,n){return t.message=t.message.replace(e,n),t}function _4(t){for(const e of t)if("object"==typeof e&&!yR(e))return e;return{}}function v4(t,e){var n,r;let i;return i=yR(t[0])?t[0]:yR(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class I_{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ls(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return i4(this._delegate,e._delegate)}}class E_ extends I_{data(e){const n=this._delegate.data(e);return this._delegate._converter||function kre(t,e){t||Rt()}(void 0!==n),n}}class fo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new s0(e)}where(e,n,r){try{return new fo(this.firestore,Ic(this._delegate,function rae(t,e,n){const r=e,i=JE("where",t);return __._create(i,r,n)}(e,n,r)))}catch(i){throw ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new fo(this.firestore,Ic(this._delegate,function iae(t,e="asc"){const n=e,r=JE("orderBy",t);return pR._create(r,n)}(e,n)))}catch(r){throw ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fo(this.firestore,Ic(this._delegate,function oae(t){return Lj("limit",t),e0._create("limit",t,"F")}(e)))}catch(n){throw ho(n,"limit()","Query.limit()")}}limitToLast(e){try{return new fo(this.firestore,Ic(this._delegate,function sae(t){return Lj("limitToLast",t),e0._create("limitToLast",t,"L")}(e)))}catch(n){throw ho(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fo(this.firestore,Ic(this._delegate,function aae(...t){return t0._create("startAt",t,!0)}(...e)))}catch(n){throw ho(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fo(this.firestore,Ic(this._delegate,function lae(...t){return t0._create("startAfter",t,!1)}(...e)))}catch(n){throw ho(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fo(this.firestore,Ic(this._delegate,function cae(...t){return n0._create("endBefore",t,!1)}(...e)))}catch(n){throw ho(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fo(this.firestore,Ic(this._delegate,function uae(...t){return n0._create("endAt",t,!0)}(...e)))}catch(n){throw ho(n,"endAt()","Query.endAt()")}}isEqual(e){return iR(this._delegate,e._delegate)}get(e){let n;return n="cache"===(null==e?void 0:e.source)?function vae(t){t=mn(t,Oi);const e=mn(t.firestore,cr),n=Lr(e),r=new wc(e);return function xse(t,e){const n=new ui;return t.asyncQueue.enqueueAndForget((0,y.c)(function*(){return(r=(0,y.c)(function*(o,s,a){try{const l=yield FE(o,s,!0),u=new vj(s,l.hs),h=u.ha(l.documents),g=u.applyChanges(h,!1);a.resolve(g.snapshot)}catch(l){const u=Pf(l,`Failed to execute query '${s} against cache`);a.reject(u)}}),function i(o,s,a){return r.apply(this,arguments)})(yield Lf(t),e,n);var r})),n.promise}(n,t._query).then(i=>new Ec(e,r,t,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function yae(t){t=mn(t,Oi);const e=mn(t.firestore,cr),n=Lr(e),r=new wc(e);return Pj(n,t._query,{source:"server"}).then(i=>new Ec(e,r,t,i))}(this._delegate):function _ae(t){t=mn(t,Oi);const e=mn(t.firestore,cr),n=Lr(e),r=new wc(e);return Zj(t._query),Pj(n,t._query).then(i=>new Ec(e,r,t,i))}(this._delegate),n.then(r=>new IR(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=_4(e),r=v4(e,i=>new IR(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return a4(this._delegate,n,r)}withConverter(e){return new fo(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}class Gae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new E_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IR{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new fo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new E_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Gae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new E_(this._firestore,r))})}isEqual(e){return i4(this._delegate,e._delegate)}}class Bf extends fo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ls(this.firestore,e):null}doc(e){try{return new ls(this.firestore,void 0===e?WE(this._delegate):WE(this._delegate,e))}catch(n){throw ho(n,"doc()","CollectionReference.doc()")}}add(e){return function Eae(t,e){const n=mn(t.firestore,cr),r=WE(t),i=r0(t.converter,e);return Uf(n,[QE(Gu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,br.exists(!1))]).then(()=>r)}(this._delegate,e).then(n=>new ls(this.firestore,n))}isEqual(e){return Bj(this._delegate,e._delegate)}withConverter(e){return new Bf(this.firestore,this._delegate.withConverter(e?Ku.getInstance(this.firestore,e):null))}}function Yu(t){return mn(t,_r)}class ER{constructor(...e){this._delegate=new Qa(...e)}static documentId(){return new ER(gr.keyField().canonicalString())}isEqual(e){return(e=(0,cn.Yj)(e))instanceof Qa&&this._delegate._internalPath.isEqual(e._internalPath)}}class Qu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kae(){return new sR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Qu(e)}static delete(){const e=function Oae(){return new f_("deleteField")}();return e._methodName="FieldValue.delete",new Qu(e)}static arrayUnion(...e){const n=function Fae(...t){return new aR("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new Qu(n)}static arrayRemove(...e){const n=function Lae(...t){return new lR("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new Qu(n)}static increment(e){const n=function Vae(t){return new cR("increment",t)}(e);return n._methodName="FieldValue.increment",new Qu(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qae={Firestore:p4,GeoPoint:KE,Timestamp:Cr,Blob:y_,Transaction:g4,WriteBatch:m4,DocumentReference:ls,DocumentSnapshot:I_,Query:fo,QueryDocumentSnapshot:E_,QuerySnapshot:IR,CollectionReference:Bf,FieldPath:ER,FieldValue:Qu,setLogLevel:function zae(t){!function Ore(t){ic.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function y4(t,e){return function Yae(t,e=MD){return new Sn(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function wR(t,e){return y4(t,e).pipe(wt(n=>({payload:n,type:"query"})))}!function Kae(t){(function Wae(t,e){t.INTERNAL.registerComponent(new LI.Yl("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},qae)))})(t,(e,n)=>new p4(e,n,new Hae)),t.registerVersion("@firebase/firestore-compat","0.3.25")}(Ks.c);class I4{constructor(e,n){gn(this,"ref",void 0),gn(this,"afs",void 0),this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const r=this.ref.collection(e),{ref:i,query:o}=b4(r,n);return new C4(i,o,this.afs)}snapshotChanges(){return function Qae(t,e){return y4(t,e).pipe(aI(void 0),pT(),wt(n=>{const[r,i]=n;return i.exists?null!=r&&r.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(so)}valueChanges(e={}){return this.snapshotChanges().pipe(wt(({payload:n})=>e.idField?{...n.data(),[e.idField]:n.id}:n.data()))}get(e){return Bn(this.ref.get(e)).pipe(so)}}function a0(t,e){return wR(t,e).pipe(aI(void 0),pT(),wt(n=>{const[r,i]=n,o=i.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const u=o.find(g=>g.doc.ref.isEqual(a.ref)),h=null==r?void 0:r.payload.docs.find(g=>g.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function E4(t,e,n){return a0(t,n).pipe(cI((r,i)=>function Xae(t,e,n){return e.forEach(r=>{n.indexOf(r.type)>-1&&(t=function Zae(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return CR(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return CR(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return CR(t,e.oldIndex,1)}return t}(t,r))}),t}(r,i.map(o=>o.payload),e),[]),n2(),wt(r=>r.map(i=>({type:i.type,payload:i}))))}function CR(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function w4(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class C4{constructor(e,n,r){gn(this,"ref",void 0),gn(this,"query",void 0),gn(this,"afs",void 0),this.ref=e,this.query=n,this.afs=r}stateChanges(e){let n=a0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(wt(r=>r.filter(i=>e.indexOf(i.type)>-1)))),n.pipe(aI(void 0),pT(),Lo(([r,i])=>i.length>0||!r),wt(([,r])=>r),so)}auditTrail(e){return this.stateChanges(e).pipe(cI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w4(e);return E4(this.query,n,this.afs.schedulers.outsideAngular).pipe(so)}valueChanges(e={}){return wR(this.query,this.afs.schedulers.outsideAngular).pipe(wt(n=>n.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),so)}get(e){return Bn(this.query.get(e)).pipe(so)}add(e){return this.ref.add(e)}doc(e){return new I4(this.ref.doc(e),this.afs)}}class Jae{constructor(e,n){gn(this,"query",void 0),gn(this,"afs",void 0),this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?a0(this.query,this.afs.schedulers.outsideAngular).pipe(wt(n=>n.filter(r=>e.indexOf(r.type)>-1)),Lo(n=>n.length>0),so):a0(this.query,this.afs.schedulers.outsideAngular).pipe(so)}auditTrail(e){return this.stateChanges(e).pipe(cI((n,r)=>[...n,...r],[]))}snapshotChanges(e){const n=w4(e);return E4(this.query,n,this.afs.schedulers.outsideAngular).pipe(so)}valueChanges(e={}){return wR(this.query,this.afs.schedulers.outsideAngular).pipe(wt(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),so)}get(e){return Bn(this.query.get(e)).pipe(so)}}const ele=new rt("angularfire2.enableFirestorePersistence"),tle=new rt("angularfire2.firestore.persistenceSettings"),nle=new rt("angularfire2.firestore.settings"),rle=new rt("angularfire2.firestore.use-emulator");function b4(t,e=(n=>n)){return{query:e(t),ref:t}}let bR=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m,v,b,A,R,H,U,de){gn(this,"schedulers",void 0),gn(this,"firestore",void 0),gn(this,"persistenceEnabled$",void 0),this.schedulers=u;const ge=bI(r,l,i),Qe=g;m&&HL(ge,l,v,A,R,H,b,U),[this.firestore,this.persistenceEnabled$]=OD(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const yt=l.runOutsideAngular(()=>ge.firestore());if(s&&yt.settings(s),Qe&&yt.useEmulator(...Qe),o&&!tI(a)){const _n=()=>{try{return Bn(yt.enablePersistence(h||void 0).then(()=>!0,()=>!1))}catch(nr){return typeof console<"u"&&console.warn(nr),Vt(!1)}};return[yt,l.runOutsideAngular(_n)]}return[yt,Vt(!1)]},[s,Qe,o])}collection(r,i){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:s,query:a}=b4(o,i),l=this.schedulers.ngZone.run(()=>s);return new C4(l,a,this)}collectionGroup(r,i){const o=i||(a=>a),s=this.firestore.collectionGroup(r);return new Jae(o(s),this)}doc(r){let i;i="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>i);return new I4(o,this)}createId(){return this.firestore.collection("_").doc().id}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)(Ye(tm),Ye(nm,8),Ye(ele,8),Ye(nle,8),Ye(Oo),Ye(Te),Ye(ND),Ye(tle,8),Ye(rle,8),Ye(Zl,8),Ye(LL,8),Ye(VL,8),Ye($L,8),Ye(UL,8),Ye(BL,8),Ye(jL,8),Ye(xD,8))}),gn(e,"\u0275prov",Dt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})(),ile=(()=>{var t;class e{constructor(r,i,o){this.afAuth=r,this.router=i,this.firestore=o}register(){var r=this;return(0,y.c)(function*(){const o=document.getElementById("register-email").value,a=document.getElementById("password1").value;if(a===document.getElementById("password2").value)try{const g=(yield r.afAuth.createUserWithEmailAndPassword(o,a)).user;if(g){const m=g.uid,b=document.getElementById("name_input1").value,de={uid:m,mail:o,name:b,username:document.getElementById("username_input1").value,phone:document.getElementById("phone_input1").value};yield r.firestore.collection("users_data").add(de),console.log("Account registrato con successo"),r.router.navigate(["/home"])}else console.error("L'utente \xe8 null")}catch(h){alert("Errore durante la registrazione: "+h.message)}else alert("Le password inserite non corrispondono")})()}toLogin(){this.router.navigate(["/login"])}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Zl),E(Or),E(bR))},t.\u0275cmp=Ge({type:t,selectors:[["app-register"]],decls:37,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"height","18rem","object-fit","contain"],[1,"card1",2,"width","90%","margin-bottom","1.5rem"],[1,"input1",2,"margin-top","1rem"],["src","assets\\img\\octicon_person-24 (1).png",1,"input1_img1"],["id","name_input1","type","text","placeholder","Nome",1,"field1"],["id","username_input1","type","text","placeholder","Username",1,"field1"],["src","assets\\img\\mdi_password-outline.png",1,"input1_img1"],["id","register-email","type","email","placeholder","Email",1,"field1"],["id","phone_input1","type","number","placeholder","Cellulare",1,"field1"],["id","password1","type","password","placeholder","Password",1,"field1"],["id","password2","type","password","placeholder","Conferma Password",1,"field1"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","justify-content","center",3,"click"],[1,"div1",2,"margin-left","0rem"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[2,"width","100%","text-align","center","margin-top","0rem","margin-bottom","0rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white",3,"click"],[1,"div1"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"],[2,"width","100%","text-align","center"],[2,"cursor","pointer",3,"click"]],template:function(r,i){1&r&&(Ct(0,"body"),dn(1,"img",0),Ct(2,"div",1)(3,"div",2),dn(4,"img",3)(5,"input",4),on(),Ct(6,"div",2),dn(7,"img",3)(8,"input",5),on(),Ct(9,"div",2),dn(10,"img",6)(11,"input",7),on(),Ct(12,"div",2),dn(13,"img",3)(14,"input",8),on(),Ct(15,"div",2),dn(16,"img",6)(17,"input",9),on(),Ct(18,"div",2),dn(19,"img",6)(20,"input",10),on(),Ct(21,"button",11),Dn("click",function(){return i.register()}),Ct(22,"div",12),dn(23,"img",13),Ct(24,"p",14),er(25,"Registrati"),on()()(),Ct(26,"p",15),er(27,"Oppure:"),on(),Ct(28,"button",16),Dn("click",function(){return i.register()}),Ct(29,"div",17),dn(30,"img",18),Ct(31,"p",19),er(32,"Registrati come organizzatore"),on()()()(),Ct(33,"p",20),er(34,"Hai gi\xe0 un account?"),Ct(35,"strong",21),Dn("click",function(){return i.toLogin()}),er(36,"Accedi"),on()()())}}),e})(),ole=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ge({type:t,selectors:[["app-header"]],decls:8,vars:0,consts:[["id","up_bar"],["slot","start"],["autoHide","false"],["src","assets\\img\\ri_menu-2-fill.svg",1,"bar_button1",2,"margin-left","0.2rem"],["src","assets\\img\\trasparent_logo.png",2,"width","5rem"],[1,"material-symbols-outlined","notranslate",2,"font-size","1.7rem","margin-right","0.2rem"]],template:function(r,i){1&r&&(Ct(0,"div",0)(1,"ion-buttons",1)(2,"ion-menu-toggle",2)(3,"ion-button"),dn(4,"img",3),on()()(),dn(5,"img",4),Ct(6,"span",5),er(7,"notifications"),on()())},dependencies:[y2,I2,w2]}),e})(),sle=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ge({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["id","under_bar"],["src","assets\\img\\Home.svg",1,"bar_button1"],["src","assets\\img\\material-symbols_explore.svg",1,"bar_button1"],["routerLink","/add","src","assets\\img\\Group 5460.svg",1,"bar_button1",2,"height","3rem","width","3rem"],["src","assets\\img\\ri_search-line.svg",1,"bar_button1"],["src","assets\\img\\ri_search-line (1).svg",1,"bar_button1"]],template:function(r,i){1&r&&(Ct(0,"div",0),dn(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5),on())},dependencies:[fT,Eu]}),e})(),ale=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i}ngOnInit(){}logout(){this.afAuth.signOut().then(()=>{alert("Disconnesso con successo"),this.router.navigate(["/splash"])})}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Zl),E(Or))},t.\u0275cmp=Ge({type:t,selectors:[["app-sidebar"]],decls:32,vars:0,consts:[["side","start","contentId","main-content",1,"custom-sidebar"],[1,"sidebar-style"],[2,"width","100%","display","flex","flex-direction","column","align-items","center"],["src","assets\\img\\trasparent_logo.png",2,"width","80%","margin-top","2rem","margin-bottom","1rem"],[1,"sidebar-button",2,"margin-top","1rem"],["src","assets\\img\\mdi_map-marker.svg",2,"width","2rem","margin-left","1rem"],[2,"margin-left","0.5rem"],["src","assets\\img\\fa-brands_hubspot.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\solar_ticker-star-bold.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_event.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_bookmark.svg",2,"width","2rem","margin-left","1rem"],["src","assets\\img\\material-symbols_settings-rounded.svg",2,"width","2rem","margin-left","1rem"],[1,"sidebar-button",2,"margin-top","1rem","margin-bottom","2rem",3,"click"],["src","assets\\img\\solar_logout-2-bold.svg",2,"width","2rem"],[2,"color","red","margin-left","0.5rem"]],template:function(r,i){1&r&&(Ct(0,"ion-menu",0)(1,"div",1)(2,"div",2),dn(3,"img",3),Ct(4,"button",4),dn(5,"img",5),Ct(6,"p",6),er(7,"Mappa"),on()(),Ct(8,"button",4),dn(9,"img",7),Ct(10,"p",6),er(11,"Spot"),on()(),Ct(12,"button",4),dn(13,"img",8),Ct(14,"p",6),er(15,"Biglietti"),on()(),Ct(16,"button",4),dn(17,"img",9),Ct(18,"p",6),er(19,"I miei eventi"),on()(),Ct(20,"button",4),dn(21,"img",10),Ct(22,"p",6),er(23,"Salvati"),on()(),Ct(24,"button",4),dn(25,"img",11),Ct(26,"p",6),er(27,"Impostazioni"),on()()(),Ct(28,"button",12),Dn("click",function(){return i.logout()}),dn(29,"img",13),Ct(30,"p",14),er(31,"Disconnettiti"),on()()()())},dependencies:[E2]}),e})();function lle(t,e){if(1&t&&(Ct(0,"div",2),dn(1,"img",3),Ct(2,"h2"),er(3),on(),Ct(4,"p"),er(5),on()()),2&t){const n=e.$implicit;Jd(),YC("src",n.imageUrl,Tw),Jd(2),Py(n.title),Jd(2),Py(n.description)}}let cle=(()=>{var t;class e{constructor(r){this.firestore=r,this.documents=this.firestore.collection("posts").valueChanges()}}return(t=e).\u0275fac=function(r){return new(r||t)(E(bR))},t.\u0275cmp=Ge({type:t,selectors:[["app-feed"]],decls:3,vars:3,consts:[[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","padding-top","3.5rem","padding-bottom","3.5rem","overflow-y","auto"],["class","card3","style","width: 90%; padding-left: 1rem;",4,"ngFor","ngForOf"],[1,"card3",2,"width","90%","padding-left","1rem"],[2,"width","95%","border-radius","0.5rem","object-fit","cover","margin-top","1rem",3,"src"]],template:function(r,i){1&r&&(Ct(0,"div",0),Ul(1,lle,6,3,"div",1),function hO(t,e){const n=fn();let r;const i=t+Gt;var o;n.firstCreatePass?(r=function R5(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(null!==(o=n.destroyHooks)&&void 0!==o?o:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Da(r.type)),l=Hi(E);try{const u=kv(!1),h=s();return kv(u),function GW(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,we(),i,h),h}finally{Hi(l)}}(2,"async"),on()),2&r&&(Jd(),pu("ngForOf",fO(2,1,i.documents)))},dependencies:[Ok,Vk]}),e})(),ule=(()=>{var t;class e{constructor(){}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ge({type:t,selectors:[["app-home"]],decls:8,vars:0,consts:[[1,"body1"],["id","sidebar"],[2,"width","100%","height","100%"],[1,"overflow1"],["id","spacer"]],template:function(r,i){1&r&&(Ct(0,"body",0),dn(1,"app-sidebar")(2,"div",1)(3,"app-feed",2),Ct(4,"div",3),dn(5,"app-header")(6,"div",4)(7,"app-footer"),on()())},dependencies:[ole,sle,ale,cle]}),e})(),dle=(()=>{var t;class e{constructor(r,i){this.afAuth=r,this.router=i,this.afAuth.authState.subscribe(o=>{this.router.navigate(o?["/home"]:["/log"])})}ngOnInit(){}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Zl),E(Or))},t.\u0275cmp=Ge({type:t,selectors:[["app-splash"]],decls:3,vars:0,consts:[[2,"height","100%","width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["src","assets\\img\\trasparent_logo.png"]],template:function(r,i){1&r&&(Ct(0,"body")(1,"div",0),dn(2,"img",1),on()())}}),e})(),hle=(()=>{var t;class e{constructor(r){this.router=r}ngOnInit(){}toLogin(){this.router.navigate(["/login"])}toRegister(){this.router.navigate(["/register"])}}return(t=e).\u0275fac=function(r){return new(r||t)(E(Or))},t.\u0275cmp=Ge({type:t,selectors:[["app-log"]],decls:18,vars:0,consts:[["src","assets/img/extended_logo.jpg",2,"width","90%","height","20rem","object-fit","contain"],[1,"card1",2,"width","90%"],[1,"button1",2,"width","90%","margin-top","1rem",3,"click"],[1,"div1"],["src","assets/img/Vector.png"],[1,"general_paragraph1",2,"margin-left","0.5rem"],[1,"button1",2,"width","90%","margin-top","1rem","margin-bottom","1rem","background","white",3,"click"],["src","assets/img/Vector (1).png"],[1,"general_paragraph1",2,"margin-left","0.5rem","color","black"]],template:function(r,i){1&r&&(Ct(0,"body"),dn(1,"img",0),Ct(2,"div",1)(3,"button",2),Dn("click",function(){return i.toLogin()}),Ct(4,"div",3),dn(5,"img",4),Ct(6,"p",5),er(7,"Accedi al tuo account"),on()()(),Ct(8,"button",2),Dn("click",function(){return i.toRegister()}),Ct(9,"div",3),dn(10,"img",4),Ct(11,"p",5),er(12,"Iscriviti come utente"),on()()(),Ct(13,"button",6),Dn("click",function(){return i.toRegister()}),Ct(14,"div",3),dn(15,"img",7),Ct(16,"p",8),er(17,"Iscriviti come organizzatore"),on()()()()())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:start;font-family:Public Sans;background:#000;overflow-x:hidden;overflow-y:auto}.button1[_ngcontent-%COMP%]{font-family:Public Sans;background:#000;padding:.5rem;border-radius:.5rem;display:flex;flex-direction:row;align-items:center;justify-content:start}.div1[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-items:start;margin-left:2rem;height:100%}.card1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#474747;border-radius:1rem}"]}),e})();const D4="firebasestorage.googleapis.com",T4="storageBucket";class Mr extends cn.kx{constructor(e,n,r=0){super(DR(e),`Firebase Storage: ${n} (${DR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return DR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Dr||{});function DR(t){return"storage/"+t}function TR(){return new Mr(Dr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function A4(){return new Mr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S4(){return new Mr(Dr.CANCELED,"User canceled the upload/download.")}function R4(){return new Mr(Dr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jf(t){return new Mr(Dr.INVALID_ARGUMENT,t)}function M4(){return new Mr(Dr.APP_DELETED,"The Firebase app was deleted.")}function P4(t){return new Mr(Dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function w_(t,e){return new Mr(Dr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function C_(t){throw new Mr(Dr.INTERNAL_ERROR,"Internal error: "+t)}class Xi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xi.makeFromUrl(e,n)}catch{return new Xi(e,"")}if(""===r.path)return r;throw function wle(t){return new Mr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(ge){ge.path_=decodeURIComponent(ge.path)}const g=n.replace(/[.]/g,"\\."),de=[{regex:a,indices:{bucket:1,path:3},postModify:function o(ge){"/"===ge.path.charAt(ge.path.length-1)&&(ge.path_=ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${g}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${n===D4?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let ge=0;ge<de.length;ge++){const Qe=de[ge],yt=Qe.regex.exec(e);if(yt){let nr=yt[Qe.indices.path];nr||(nr=""),r=new Xi(yt[Qe.indices.bucket],nr),Qe.postModify(r);break}}if(null==r)throw function Ele(t){return new Mr(Dr.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class Ale{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function l0(t){return"string"==typeof t||t instanceof String}function x4(t){return AR()&&t instanceof Blob}function AR(){return typeof Blob<"u"}function SR(t,e,n,r){if(r<e)throw jf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jf(`Invalid value for '${t}'. Expected ${n} or less.`)}function Za(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function N4(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var Hf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Hf||{});function O4(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),o=-1!==e.indexOf(t);return n||i||o}class Nle{constructor(e,n,r,i,o,s,a,l,u,h,g,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=g,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Mle(t){return void 0!==t}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=TR();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?M4():S4():A4())};this.canceled_?n(0,new c0(!1,null,!0)):this.backoffId_=function Sle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function h(...R){u||(u=!0,e.apply(null,R))}function g(R){i=setTimeout(()=>{i=null,t(v,l())},R)}function m(){o&&clearTimeout(o)}function v(R,...H){if(u)return void m();if(R)return m(),void h.call(null,R,...H);if(l()||s)return m(),void h.call(null,R,...H);let de;r<64&&(r*=2),1===a?(a=2,de=0):de=1e3*(r+Math.random()),g(de)}let b=!1;function A(R){b||(b=!0,m(),!u&&(null!==i?(R||(a=2),clearTimeout(i),g(0)):R||(a=1)))}return g(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}((r,i)=>{if(i)return void r(!1,new c0(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Hf.NO_ERROR,l=o.getStatus();if(!a||O4(l,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===Hf.ABORT;return void r(!1,new c0(!1,null,h))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new c0(u,o))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Rle(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class c0{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ule(...t){const e=function $le(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}if(AR())return new Blob(t);throw new Mr(Dr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RR{constructor(e,n){this.data=e,this.contentType=n||null}}function MR(t,e){switch(t){case Bo.RAW:return new RR(k4(e));case Bo.BASE64:case Bo.BASE64URL:return new RR(F4(t,e));case Bo.DATA_URL:return new RR(function zle(t){const e=new L4(t);return e.base64?F4(Bo.BASE64,e.rest):function Hle(t){let e;try{e=decodeURIComponent(t)}catch{throw w_(Bo.DATA_URL,"Malformed data URL.")}return k4(e)}(e.rest)}(e),function Gle(t){return new L4(t).contentType}(e))}throw TR()}function k4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function F4(t,e){switch(t){case Bo.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw w_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bo.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw w_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function jle(t){if(typeof atob>"u")throw function Tle(t){return new Mr(Dr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(t)}(e)}catch(i){throw i.message.includes("polyfill")?i:w_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class L4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(null===n)throw w_(Bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;null!=r&&(this.base64=function qle(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class oa{constructor(e,n){let r=0,i="";x4(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(x4(this.data_)){const i=function Ble(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===i?null:new oa(i)}{const r=new Uint8Array(this.data_.buffer,e,n-e);return new oa(r,!0)}}static getBlob(...e){if(AR()){const n=e.map(r=>r instanceof oa?r.data_:r);return new oa(Ule.apply(null,n))}{const n=e.map(s=>l0(s)?MR(Bo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new oa(i,!0)}}uploadData(){return this.data_}}function PR(t){let e;try{e=JSON.parse(t)}catch{return null}return function xle(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function V4(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Yle(t,e){return e}class po{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Yle}}let u0=null;function b_(){if(u0)return u0;const t=[];t.push(new po("bucket")),t.push(new po("generation")),t.push(new po("metageneration")),t.push(new po("name","fullPath",!0));const n=new po("name");n.xform=function e(o,s){return function Qle(t){return!l0(t)||t.length<2?t:V4(t)}(s)},t.push(n);const i=new po("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},t.push(i),t.push(new po("timeCreated")),t.push(new po("updated")),t.push(new po("md5Hash",null,!0)),t.push(new po("cacheControl",null,!0)),t.push(new po("contentDisposition",null,!0)),t.push(new po("contentEncoding",null,!0)),t.push(new po("contentLanguage",null,!0)),t.push(new po("contentType",null,!0)),t.push(new po("metadata","customMetadata",!0)),u0=t,u0}function $4(t,e,n){const r=PR(e);return null===r?null:function Zle(t,e,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return function Xle(t,e){Object.defineProperty(t,"ref",{get:function n(){const o=new Xi(t.bucket,t.fullPath);return e._makeStorageReference(o)}})}(r,t),r}(t,r,n)}function xR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}const U4="prefixes",B4="items";class sa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function aa(t){if(!t)throw TR()}function d0(t,e){return function n(r,i){const o=$4(t,i,e);return aa(null!==o),o}}function zf(t){return function e(n,r){let i;return i=401===n.getStatus()?n.getErrorText().includes("Firebase App Check token is invalid")?function yle(){return new Mr(Dr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function vle(){return new Mr(Dr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===n.getStatus()?function _le(t){return new Mr(Dr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(t.bucket):403===n.getStatus()?function Ile(t){return new Mr(Dr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}(t.path):r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}}function D_(t){const e=zf(t);return function n(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function mle(t){return new Mr(Dr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}(t.path)),o.serverResponse=i.serverResponse,o}}function j4(t,e,n){const i=Za(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new sa(i,"GET",d0(t,n),s);return a.errorHandler=D_(e),a}function ice(t,e,n,r,i){const o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const a=Za(e.bucketOnlyServerUrl(),t.host,t._protocol),u=t.maxOperationRetryTime,h=new sa(a,"GET",function nce(t,e){return function n(r,i){const o=function tce(t,e,n){const r=PR(n);return null===r?null:function ece(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[U4])for(const i of n[U4]){const o=i.replace(/\/$/,""),s=t._makeStorageReference(new Xi(e,o));r.prefixes.push(s)}if(n[B4])for(const i of n[B4]){const o=t._makeStorageReference(new Xi(e,i.name));r.items.push(o)}return r}(t,e,r)}(t,e,i);return aa(null!==o),o}}(t,e.bucket),u);return h.urlParams=o,h.errorHandler=zf(e),h}function z4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function lce(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class h0{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function NR(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{aa(!1)}return aa(!!n&&-1!==(e||["active"]).indexOf(n)),n}const hce={STATE_CHANGED:"state_changed"},go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function OR(t){switch(t){case"running":case"pausing":case"canceling":return go.RUNNING;case"paused":return go.PAUSED;case"success":return go.SUCCESS;case"canceled":return go.CANCELED;default:return go.ERROR}}class fce{constructor(e,n,r){if(function Ple(t){return"function"==typeof t}(e)||null!=n||null!=r)this.next=e,this.error=null!=n?n:void 0,this.complete=null!=r?r:void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Gf(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}let W4=null;class pce{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw C_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw C_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw C_("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw C_("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw C_("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class gce extends pce{initXhr(){this.xhr_.responseType="text"}}function Ts(){return W4?W4():new gce}class K4{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=b_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Dr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(O4(i.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=A4()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Dr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,n)=>{const r=function cce(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=z4(e,r,i),a={name:s.fullPath},l=Za(o,t.host,t._protocol),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},g=xR(s,n),b=new sa(l,"POST",function v(A){let R;NR(A);try{R=A.getResponseHeader("X-Goog-Upload-URL")}catch{aa(!1)}return aa(l0(R)),R},t.maxUploadRetryTime);return b.urlParams=a,b.headers=h,b.body=g,b.errorHandler=zf(e),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=function uce(t,e,n,r){const l=new sa(n,"POST",function o(u){const h=NR(u,["active","final"]);let g=null;try{g=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{aa(!1)}g||aa(!1);const m=Number(g);return aa(!isNaN(m)),new h0(m,r.size(),"final"===h)},t.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=zf(e),l}(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ts,n,r);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,n=new h0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=function dce(t,e,n,r,i,o,s,a){const l=new h0(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function ble(){return new Mr(Dr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let h=u;i>0&&(h=Math.min(h,i));const g=l.current;let v="";v=0===h?"finalize":u===h?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},A=r.slice(g,g+h);if(null===A)throw R4();const de=new sa(n,"POST",function R(ge,Qe){const yt=NR(ge,["active","final"]),_n=l.current+h,nr=r.size();let el;return el="final"===yt?d0(e,o)(ge,Qe):null,new h0(_n,nr,"final"===yt,el)},e.maxUploadRetryTime);return de.headers=b,de.body=A.uploadData(),de.progressCallback=a||null,de.errorHandler=zf(t),de}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,Ts,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=j4(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=function G4(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let de="";for(let ge=0;ge<2;ge++)de+=Math.random().toString().slice(2);return de}();s["Content-Type"]="multipart/related; boundary="+l;const u=z4(e,r,i),h=xR(u,n),v=oa.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+h+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===v)throw R4();const b={name:u.fullPath},A=Za(o,t.host,t._protocol),H=t.maxUploadRetryTime,U=new sa(A,"POST",d0(t,n),H);return U.urlParams=b,U.headers=s,U.body=v.uploadData(),U.errorHandler=zf(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ts,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n="paused"===this._state;this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=S4(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=OR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new fce(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(OR(this._state)){case go.SUCCESS:Gf(this._resolve.bind(null,this.snapshot))();break;case go.CANCELED:case go.ERROR:Gf(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(OR(this._state)){case go.RUNNING:case go.PAUSED:e.next&&Gf(e.next.bind(e,this.snapshot))();break;case go.SUCCESS:e.complete&&Gf(e.complete.bind(e))();break;default:e.error&&Gf(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Xu{constructor(e,n){this._service=e,this._location=n instanceof Xi?n:Xi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xu(e,n)}get root(){const e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V4(this._location.path)}get storage(){return this._service}get parent(){const e=function Wle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Xi(this._location.bucket,e);return new Xu(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw P4(e)}}function Q4(t,e,n){return kR.apply(this,arguments)}function kR(){return kR=(0,y.c)(function*(t,e,n){const i=yield X4(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Q4(t,e,i.nextPageToken))}),kR.apply(this,arguments)}function X4(t,e){null!=e&&"number"==typeof e.maxResults&&SR("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=ice(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Ts)}function Ace(t){t._throwIfRoot("getDownloadURL");const e=function oce(t,e,n){const i=Za(e.fullServerUrl(),t.host,t._protocol),s=t.maxOperationRetryTime,a=new sa(i,"GET",function rce(t,e){return function n(r,i){const o=$4(t,i,e);return aa(null!==o),function Jle(t,e,n,r){const i=PR(e);if(null===i||!l0(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const g=t.fullPath;return Za("/b/"+s(t.bucket)+"/o/"+s(g),n,r)+N4({alt:"media",token:u})})[0]}(o,i,t.host,t._protocol)}}(t,n),s);return a.errorHandler=D_(e),a}(t.storage,t._location,b_());return t.storage.makeRequestWithTokens(e,Ts).then(n=>{if(null===n)throw function Dle(){return new Mr(Dr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return n})}function Z4(t,e){const n=function Kle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Xi(t._location.bucket,n);return new Xu(t.storage,r)}function J4(t,e){if(t instanceof FR){const n=t;if(null==n._bucket)throw function Cle(){return new Mr(Dr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T4+"' property when initializing the app?")}();const r=new Xu(n,n._bucket);return null!=e?J4(r,e):r}return void 0!==e?Z4(t,e):t}function Pce(t,e){if(e&&function Rce(t){return/^[A-Za-z]+:\/\//.test(t)}(e)){if(t instanceof FR)return function Mce(t,e){return new Xu(t,e)}(t,e);throw jf("To use ref(service, url), the first argument must be a Storage instance.")}return J4(t,e)}function eH(t,e){const n=null==e?void 0:e[T4];return null==n?null:Xi.makeFromBucketSpec(n,t)}class FR{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=D4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Xi.makeFromBucketSpec(i,this._host):eH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Xi.makeFromBucketSpec(this._url,e):eH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,y.c)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,y.c)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Ale(M4());{const s=function Vle(t,e,n,r,i,o,s=!0){const a=N4(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return function Fle(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function Ole(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function kle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function Lle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new Nle(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){var r=this;return(0,y.c)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,o).getPromise()})()}}const tH="@firebase/storage";function iH(t,e){return Pce(t=(0,cn.Yj)(t),e)}function Bce(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FR(n,r,i,e,Ws.SDK_VERSION)}!function jce(){(0,Ws._registerComponent)(new LI.Yl("storage",Bce,"PUBLIC").setMultipleInstances(!0)),(0,Ws.registerVersion)(tH,"0.12.1",""),(0,Ws.registerVersion)(tH,"0.12.1","esm2017")}();class f0{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sH{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new f0(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new f0(r,this,this._ref))},n)}on(e,n,r,i){let o;return n&&(o="function"==typeof n?s=>n(new f0(s,this,this._ref)):{next:n.next?s=>n.next(new f0(s,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,o,r||void 0,i||void 0)}}class aH{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Ja(e,this._service))}get items(){return this._delegate.items.map(e=>new Ja(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ja{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=function Uce(t,e){return Z4(t,e)}(this._delegate,e);return new Ja(n,this.storage)}get root(){return new Ja(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ja(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new sH(function Nce(t,e,n){return function wce(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new K4(t,new oa(e),n)}(t=(0,cn.Yj)(t),e,n)}(this._delegate,e,n),this)}putString(e,n=Bo.RAW,r){this._throwIfRoot("putString");const i=MR(n,e),o=Object.assign({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new sH(new K4(this._delegate,new oa(i.data,!0),o),this)}listAll(){return function Lce(t){return function bce(t){const e={prefixes:[],items:[]};return Q4(t,e).then(()=>e)}(t=(0,cn.Yj)(t))}(this._delegate).then(e=>new aH(e,this.storage))}list(e){return function Fce(t,e){return X4(t=(0,cn.Yj)(t),e)}(this._delegate,e||void 0).then(n=>new aH(n,this.storage))}getMetadata(){return function Oce(t){return function Dce(t){t._throwIfRoot("getMetadata");const e=j4(t.storage,t._location,b_());return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,cn.Yj)(t))}(this._delegate)}updateMetadata(e){return function kce(t,e){return function Tce(t,e){t._throwIfRoot("updateMetadata");const n=function sce(t,e,n,r){const o=Za(e.fullServerUrl(),t.host,t._protocol),a=xR(n,r),u=t.maxOperationRetryTime,h=new sa(o,"PATCH",d0(t,r),u);return h.headers={"Content-Type":"application/json; charset=utf-8"},h.body=a,h.errorHandler=D_(e),h}(t.storage,t._location,e,b_());return t.storage.makeRequestWithTokens(n,Ts)}(t=(0,cn.Yj)(t),e)}(this._delegate,e)}getDownloadURL(){return function Vce(t){return Ace(t=(0,cn.Yj)(t))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function $ce(t){return function Sce(t){t._throwIfRoot("deleteObject");const e=function ace(t,e){const r=Za(e.fullServerUrl(),t.host,t._protocol),a=new sa(r,"DELETE",function s(l,u){},t.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=D_(e),a}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ts)}(t=(0,cn.Yj)(t))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw P4(e)}}class lH{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(cH(e))throw jf("ref() expected a child path but got a URL, use refFromURL instead.");return new Ja(iH(this._delegate,e),this)}refFromURL(e){if(!cH(e))throw jf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Xi.makeFromUrl(e,this._delegate.host)}catch{throw jf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ja(iH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){!function oH(t,e,n,r={}){!function xce(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:(0,cn.YD)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,e,n,r)}}function cH(t){return/^[A-Za-z]+:\/\//.test(t)}function qce(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new lH(n,r)}function uH(t){const e=function Yce(t){return new Sn(e=>{const n=s=>e.next(s);n(t.snapshot);const o=t.on("state_changed",n);return t.then(s=>{n(s),e.complete()},s=>{n(t.snapshot),(s=>{e.error(s)})(s)}),function(){o()}}).pipe(function Kce(t,e=MD){return _t((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=s+t,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}n.subscribe(xt(r,u=>{o=u,s=e.now(),i||(i=e.schedule(l,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(wt(n=>n.bytesTransferred/n.totalBytes*100))}}function p0(t){return{getDownloadURL:()=>Vt(void 0).pipe(xL,Rr(()=>t.getDownloadURL()),so),getMetadata:()=>Vt(void 0).pipe(xL,Rr(()=>t.getMetadata()),so),delete:()=>Bn(t.delete()),child:e=>p0(t.child(e)),updateMetadata:e=>Bn(t.updateMetadata(e)),put:(e,n)=>uH(t.put(e,n)),putString:(e,n,r)=>uH(t.putString(e,n,r)),list:e=>Bn(t.list(e)),listAll:()=>Bn(t.listAll())}}!function Wce(t){const e={TaskState:go,TaskEvent:hce,StringFormat:Bo,Storage:lH,Reference:Ja};t.INTERNAL.registerComponent(new LI.Yl("storage-compat",qce,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.3.4")}(Ks.c);const Qce=new rt("angularfire2.storageBucket"),Xce=new rt("angularfire2.storage.maxUploadRetryTime"),Zce=new rt("angularfire2.storage.maxOperationRetryTime"),Jce=new rt("angularfire2.storage.use-emulator");let eue=(()=>{var t;class e{constructor(r,i,o,s,a,l,u,h,g,m){gn(this,"storage",void 0);const v=bI(r,a,i);this.storage=OD(`${v.name}.storage.${o}`,"AngularFireStorage",v.name,()=>{const b=a.runOutsideAngular(()=>v.storage(o||void 0)),A=g;return A&&b.useEmulator(...A),u&&b.setMaxUploadRetryTime(u),h&&b.setMaxOperationRetryTime(h),b},[u,h])}ref(r){return p0(this.storage.ref(r))}refFromURL(r){return p0(this.storage.refFromURL(r))}upload(r,i,o){return p0(this.storage.ref(r)).put(i,o)}}return t=e,gn(e,"\u0275fac",function(r){return new(r||t)(Ye(tm),Ye(nm,8),Ye(Qce,8),Ye(Oo),Ye(Te),Ye(ND),Ye(Xce,8),Ye(Zce,8),Ye(Jce,8),Ye(xD,8))}),gn(e,"\u0275prov",Dt({token:t,factory:t.\u0275fac,providedIn:"any"})),e})();const tue=[{path:"",redirectTo:"splash",pathMatch:"full"},{path:"login",component:Ane},{path:"register",component:ile},{path:"home",component:ule},{path:"splash",component:dle},{path:"log",component:hle},{path:"add",component:(()=>{var t;class e{constructor(r,i,o){this.firestore=r,this.afAuth=i,this.storage=o,this.selectedImage=null,this.imageUrl=null}ngOnInit(){}onFileSelected(r){this.selectedImage=r.target.files[0]}addPost(){var r=this,i=document.getElementById("post-title-input").value,o=document.getElementById("post-description-input").value;this.afAuth.authState.subscribe(function(){var s=(0,y.c)(function*(a){if(a)if(r.selectedImage)try{const m=yield(yield r.storage.ref("post-images/").child(r.selectedImage.name).put(r.selectedImage)).ref.getDownloadURL(),v={creator_id:a.uid,title:i,description:o,imageUrl:m,timestamp:Ks.c.firestore.FieldValue.serverTimestamp()};r.firestore.collection("posts").add(v).then(()=>{alert("Post aggiunto con successo")}).catch(b=>{alert("Errore durante l'aggiunta del post: "+b.message.toString())})}catch(l){console.error("Errore durante il caricamento dell'immagine:",l)}else alert("Nessuna immagine selezionata");else alert("Per pubblicare un post \xe8 necessario effettuare il login o la registrazione")});return function(a){return s.apply(this,arguments)}}())}}return(t=e).\u0275fac=function(r){return new(r||t)(E(bR),E(Zl),E(eue))},t.\u0275cmp=Ge({type:t,selectors:[["app-add"]],decls:22,vars:0,consts:[[2,"width","100%","display","flex","align-items","center","padding-top","1rem","padding-left","1rem"],["routerLink","/home",2,"background","#950DE8","padding","0.5rem","border-radius","50%","display","flex","flex-direction","column","align-items","center"],[1,"material-symbols-outlined","notranslate",2,"width","100","text-align","center"],[2,"width","100%","height","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],[1,"card1",2,"width","95%"],[2,"color","#FFFFFF80","margin-bottom","0rem","width","100%","padding-left","1rem","margin-top","1rem"],["for","post-image-input",1,"card3",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","4rem"],["src","assets\\img\\material-symbols_perm-media.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem"],["id","post-image-input","type","file","accept","image/*",2,"display","none","position","relative","width","100%","height","100%","pointer-events","all","z-index","1",3,"change"],[2,"color","#FFFFFF80"],["id","post-title-input","type","text","placeholder","Titolo",1,"card3","field2",2,"width","90%","height","2.5rem"],["id","post-description-input","type","text","placeholder","Descrizione",1,"card3","field2",2,"width","90%","min-height","8rem","resize","vertical"],[1,"card3",2,"width","90%","display","flex","flex-direction","row","align-items","center","justify-content","center","overflow","hidden","height","3rem"],["src","assets\\img\\material-symbols_location-on-rounded.svg",2,"width","1.5rem","height","1.5rem","margin-right","0.2rem"],[1,"button2",2,"width","90%","margin-top","1rem","margin-bottom","1rem","height","3rem",3,"click"]],template:function(r,i){1&r&&(Ct(0,"body")(1,"div",0)(2,"button",1)(3,"span",2),er(4,"arrow_back_ios_new"),on()()(),Ct(5,"div",3)(6,"div",4)(7,"h3",5),er(8,"Nuovo post"),on(),Ct(9,"label",6),dn(10,"img",7),Ct(11,"input",8),Dn("change",function(s){return i.onFileSelected(s)}),on(),Ct(12,"p",9),er(13,"Seleziona media"),on()(),dn(14,"input",10)(15,"textarea",11),Ct(16,"button",12),dn(17,"img",13),Ct(18,"p",9),er(19,"Aggiungi posizione"),on()(),Ct(20,"button",14),Dn("click",function(){return i.addPost()}),er(21,"Pubblica"),on()()()())},dependencies:[fT,Eu]}),e})()}];let nue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yo({type:t}),t.\u0275inj=No({imports:[SD.forRoot(tue,{preloadingStrategy:VX}),SD]}),e})(),rue=(()=>{var t;class e{constructor(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ge({type:t,selectors:[["app-root"]],decls:1,vars:0,consts:[["id","main-content"]],template:function(r,i){1&r&&dn(0,"ion-router-outlet",0)},dependencies:[dm],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),e})(),iue=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=Yo({type:t,bootstrap:[rue]}),t.\u0275inj=No({imports:[YK,Tne.forRoot(),nue,IZ.initializeApp(zL_firebaseConfig),AZ,SD]}),e})();WK().bootstrapModule(iue).catch(t=>console.log(t))},1480:(Mn,Ot,oe)=>{var y={"./ion-accordion_2.entry.js":[8956,9312,8956],"./ion-action-sheet.entry.js":[6736,9312,6736],"./ion-alert.entry.js":[1644,9312,1644],"./ion-app_8.entry.js":[3936,9312,3936],"./ion-avatar_3.entry.js":[9428,9428],"./ion-back-button.entry.js":[6932,9312,6932],"./ion-backdrop.entry.js":[8019,8019],"./ion-breadcrumb_2.entry.js":[7752,9312,7752],"./ion-button_2.entry.js":[9580,9580],"./ion-card_5.entry.js":[1048,1048],"./ion-checkbox.entry.js":[3752,9312,3752],"./ion-chip.entry.js":[1492,1492],"./ion-col_3.entry.js":[9584,9584],"./ion-datetime-button.entry.js":[7864,8832,7864],"./ion-datetime_3.entry.js":[8048,8832,9312,8048],"./ion-fab_3.entry.js":[1812,9312,1812],"./ion-img.entry.js":[3296,3296],"./ion-infinite-scroll_2.entry.js":[1488,9312,1488],"./ion-input.entry.js":[3500,9312,3500],"./ion-item-option_3.entry.js":[2448,9312,2448],"./ion-item_8.entry.js":[8772,9312,8772],"./ion-loading.entry.js":[2948,9312,2948],"./ion-menu_3.entry.js":[7676,9312,7676],"./ion-modal.entry.js":[6824,9312,6824],"./ion-nav_2.entry.js":[2372,9312,2372],"./ion-picker-column-internal.entry.js":[8232,9312,8232],"./ion-picker-internal.entry.js":[4656,4656],"./ion-popover.entry.js":[4168,9312,4168],"./ion-progress-bar.entry.js":[3264,3264],"./ion-radio_2.entry.js":[7176,9312,7176],"./ion-range.entry.js":[3180,9312,3180],"./ion-refresher_2.entry.js":[2e3,9312,2e3],"./ion-reorder_2.entry.js":[3604,9312,3604],"./ion-ripple-effect.entry.js":[3667,3667],"./ion-route_4.entry.js":[4284,4284],"./ion-searchbar.entry.js":[2580,9312,2580],"./ion-segment_2.entry.js":[7528,9312,7528],"./ion-select_3.entry.js":[4272,9312,4272],"./ion-spinner.entry.js":[1172,9312,1172],"./ion-split-pane.entry.js":[2624,2624],"./ion-tab-bar_2.entry.js":[1708,9312,1708],"./ion-tab_2.entry.js":[5956,5956],"./ion-text.entry.js":[5828,5828],"./ion-textarea.entry.js":[9440,9312,9440],"./ion-toast.entry.js":[9836,9312,9836],"./ion-toggle.entry.js":[2776,9312,2776]};function xe(B){if(!oe.o(y,B))return Promise.resolve().then(()=>{var Ke=new Error("Cannot find module '"+B+"'");throw Ke.code="MODULE_NOT_FOUND",Ke});var Ue=y[B],At=Ue[0];return Promise.all(Ue.slice(1).map(oe.e)).then(()=>oe(At))}xe.keys=()=>Object.keys(y),xe.id=1480,Mn.exports=xe},8368:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{c:()=>Ie});var y=oe(7144),xe=oe(4920),B=oe(9360),Ue=oe(5976);class At{constructor(Q,z){this._delegate=Q,this.firebase=z,(0,B._addComponent)(Q,new xe.Yl("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Q,z=B._DEFAULT_ENTRY_NAME){var Y;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(Q);return!Pe.isInitialized()&&"EXPLICIT"===(null===(Y=Pe.getComponent())||void 0===Y?void 0:Y.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:z})}_removeServiceInstance(Q,z=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(z)}_addComponent(Q){(0,B._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,B._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new y.UR("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function tt(){const be=function Xe(be){const Q={},z={__esModule:!0,initializeApp:function Re(S,x={}){const D=B.initializeApp(S,x);if((0,y.Y7)(Q,D.name))return Q[D.name];const V=new be(D,z);return Q[D.name]=V,V},app:Pe,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Me(S){const x=S.name,D=x.replace("-compat","");if(B._registerComponent(S)&&"PUBLIC"===S.type){const V=(X=Pe())=>{if("function"!=typeof X[D])throw Z.create("invalid-app-argument",{appName:x});return X[D]()};void 0!==S.serviceProps&&(0,y.Ww)(V,S.serviceProps),z[D]=V,be.prototype[D]=function(...X){return this._getService.bind(this,x).apply(this,S.multipleInstances?X:[])}}return"PUBLIC"===S.type?z[D]:null},removeApp:function Y(S){delete Q[S]},useAsService:function Ze(S,x){return"serverAuth"===x?null:x},modularAPIs:B}};function Pe(S){if(!(0,y.Y7)(Q,S=S||B._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:S});return Q[S]}return z.default=z,Object.defineProperty(z,"apps",{get:function Ve(){return Object.keys(Q).map(S=>Q[S])}}),Pe.App=be,z}(At);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:tt,extendNamespace:function Q(z){(0,y.Ww)(be,z)},createSubscribe:y.my,ErrorFactory:y.UR,deepExtend:y.Ww}),be}(),W=new Ue.YJ("@firebase/app-compat");if((0,y.uH)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=ee;!function me(be){(0,B.registerVersion)("@firebase/app-compat","0.2.27",be)}()},9360:(Mn,Ot,oe)=>{"use strict";oe.r(Ot),oe.d(Ot,{FirebaseError:()=>Ue.kx,SDK_VERSION:()=>Li,_DEFAULT_ENTRY_NAME:()=>un,_addComponent:()=>ri,_addOrOverwriteComponent:()=>Vr,_apps:()=>Qn,_clearComponents:()=>pi,_components:()=>zr,_getProvider:()=>fi,_registerComponent:()=>ki,_removeServiceInstance:()=>Fi,deleteApp:()=>gi,getApp:()=>So,getApps:()=>Ho,initializeApp:()=>jo,onLog:()=>_o,registerVersion:()=>mo,setLogLevel:()=>Sn});var y=oe(1528),xe=oe(4920),B=oe(5976),Ue=oe(7144);const At=(_e,re)=>re.some(Ne=>_e instanceof Ne);let Ke,Z;const ee=new WeakMap,W=new WeakMap,ve=new WeakMap,le=new WeakMap,me=new WeakMap;let Q={get(_e,re,Ne){if(_e instanceof IDBTransaction){if("done"===re)return W.get(_e);if("objectStoreNames"===re)return _e.objectStoreNames||ve.get(_e);if("store"===re)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return Re(_e[re])},set:(_e,re,Ne)=>(_e[re]=Ne,!0),has:(_e,re)=>_e instanceof IDBTransaction&&("done"===re||"store"===re)||re in _e};function Pe(_e){return"function"==typeof _e?function Y(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tt(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...re){return _e.apply(Ve(this),re),Re(ee.get(this))}:function(...re){return Re(_e.apply(Ve(this),re))}:function(re,...Ne){const bt=_e.call(Ve(this),re,...Ne);return ve.set(bt,re.sort?re.sort():[re]),Re(bt)}}(_e):(_e instanceof IDBTransaction&&function be(_e){if(W.has(_e))return;const re=new Promise((Ne,bt)=>{const $t=()=>{_e.removeEventListener("complete",st),_e.removeEventListener("error",hn),_e.removeEventListener("abort",hn)},st=()=>{Ne(),$t()},hn=()=>{bt(_e.error||new DOMException("AbortError","AbortError")),$t()};_e.addEventListener("complete",st),_e.addEventListener("error",hn),_e.addEventListener("abort",hn)});W.set(_e,re)}(_e),At(_e,function Xe(){return Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Q):_e)}function Re(_e){if(_e instanceof IDBRequest)return function Ie(_e){const re=new Promise((Ne,bt)=>{const $t=()=>{_e.removeEventListener("success",st),_e.removeEventListener("error",hn)},st=()=>{Ne(Re(_e.result)),$t()},hn=()=>{bt(_e.error),$t()};_e.addEventListener("success",st),_e.addEventListener("error",hn)});return re.then(Ne=>{Ne instanceof IDBCursor&&ee.set(Ne,_e)}).catch(()=>{}),me.set(re,_e),re}(_e);if(le.has(_e))return le.get(_e);const re=Pe(_e);return re!==_e&&(le.set(_e,re),me.set(re,_e)),re}const Ve=_e=>me.get(_e),S=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],D=new Map;function V(_e,re){if(!(_e instanceof IDBDatabase)||re in _e||"string"!=typeof re)return;if(D.get(re))return D.get(re);const Ne=re.replace(/FromIndex$/,""),bt=re!==Ne,$t=x.includes(Ne);if(!(Ne in(bt?IDBIndex:IDBObjectStore).prototype)||!$t&&!S.includes(Ne))return;const st=function(){var hn=(0,y.c)(function*(vr,...$n){const yr=this.transaction(vr,$t?"readwrite":"readonly");let jt=yr.store;return bt&&(jt=jt.index($n.shift())),(yield Promise.all([jt[Ne](...$n),$t&&yr.done]))[0]});return function($n){return hn.apply(this,arguments)}}();return D.set(re,st),st}!function z(_e){Q=_e(Q)}(_e=>({..._e,get:(re,Ne,bt)=>V(re,Ne)||_e.get(re,Ne,bt),has:(re,Ne)=>!!V(re,Ne)||_e.has(re,Ne)}));class X{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function te(_e){const re=_e.getComponent();return"VERSION"===(null==re?void 0:re.type)}(Ne)){const bt=Ne.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Ne=>Ne).join(" ")}}const ue="@firebase/app",It=new B.YJ("@firebase/app"),un="[DEFAULT]",hi={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qn=new Map,zr=new Map;function ri(_e,re){try{_e.container.addComponent(re)}catch(Ne){It.debug(`Component ${re.name} failed to register with FirebaseApp ${_e.name}`,Ne)}}function Vr(_e,re){_e.container.addOrOverwriteComponent(re)}function ki(_e){const re=_e.name;if(zr.has(re))return It.debug(`There were multiple attempts to register component ${re}.`),!1;zr.set(re,_e);for(const Ne of Qn.values())ri(Ne,_e);return!0}function fi(_e,re){const Ne=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),_e.container.getProvider(re)}function Fi(_e,re,Ne=un){fi(_e,re).clearInstance(Ne)}function pi(){zr.clear()}const qr=new Ue.UR("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(re,Ne,bt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new xe.Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Li="10.8.0";function jo(_e,re={}){let Ne=_e;"object"!=typeof re&&(re={name:re});const bt=Object.assign({name:un,automaticDataCollectionEnabled:!1},re),$t=bt.name;if("string"!=typeof $t||!$t)throw qr.create("bad-app-name",{appName:String($t)});if(Ne||(Ne=(0,Ue.Yd)()),!Ne)throw qr.create("no-options");const st=Qn.get($t);if(st){if((0,Ue.IN)(Ne,st.options)&&(0,Ue.IN)(bt,st.config))return st;throw qr.create("duplicate-app",{appName:$t})}const hn=new xe.op($t);for(const $n of zr.values())hn.addComponent($n);const vr=new Pn(Ne,bt,hn);return Qn.set($t,vr),vr}function So(_e=un){const re=Qn.get(_e);if(!re&&_e===un&&(0,Ue.Yd)())return jo();if(!re)throw qr.create("no-app",{appName:_e});return re}function Ho(){return Array.from(Qn.values())}function gi(_e){return ur.apply(this,arguments)}function ur(){return(ur=(0,y.c)(function*(_e){const re=_e.name;Qn.has(re)&&(Qn.delete(re),yield Promise.all(_e.container.getProviders().map(Ne=>Ne.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function mo(_e,re,Ne){var bt;let $t=null!==(bt=hi[_e])&&void 0!==bt?bt:_e;Ne&&($t+=`-${Ne}`);const st=$t.match(/\s|\//),hn=re.match(/\s|\//);if(st||hn){const vr=[`Unable to register library "${$t}" with version "${re}":`];return st&&vr.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),st&&hn&&vr.push("and"),hn&&vr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void It.warn(vr.join(" "))}ki(new xe.Yl(`${$t}-version`,()=>({library:$t,version:re}),"VERSION"))}function _o(_e,re){if(null!==_e&&"function"!=typeof _e)throw qr.create("invalid-log-argument");(0,B.S2)(_e,re)}function Sn(_e){(0,B.QN)(_e)}const zo="firebase-heartbeat-database",cs=1,k="firebase-heartbeat-store";let M=null;function L(){return M||(M=function Me(_e,re,{blocked:Ne,upgrade:bt,blocking:$t,terminated:st}={}){const hn=indexedDB.open(_e,re),vr=Re(hn);return bt&&hn.addEventListener("upgradeneeded",$n=>{bt(Re(hn.result),$n.oldVersion,$n.newVersion,Re(hn.transaction),$n)}),Ne&&hn.addEventListener("blocked",$n=>Ne($n.oldVersion,$n.newVersion,$n)),vr.then($n=>{st&&$n.addEventListener("close",()=>st()),$t&&$n.addEventListener("versionchange",yr=>$t(yr.oldVersion,yr.newVersion,yr))}).catch(()=>{}),vr}(zo,cs,{upgrade:(_e,re)=>{if(0===re)try{_e.createObjectStore(k)}catch(Ne){console.warn(Ne)}}}).catch(_e=>{throw qr.create("idb-open",{originalErrorMessage:_e.message})})),M}function q(){return(q=(0,y.c)(function*(_e){try{const Ne=(yield L()).transaction(k),bt=yield Ne.objectStore(k).get(xt(_e));return yield Ne.done,bt}catch(re){if(re instanceof Ue.kx)It.warn(re.message);else{const Ne=qr.create("idb-get",{originalErrorMessage:null==re?void 0:re.message});It.warn(Ne.message)}}})).apply(this,arguments)}function at(_e,re){return _t.apply(this,arguments)}function _t(){return(_t=(0,y.c)(function*(_e,re){try{const bt=(yield L()).transaction(k,"readwrite");yield bt.objectStore(k).put(re,xt(_e)),yield bt.done}catch(Ne){if(Ne instanceof Ue.kx)It.warn(Ne.message);else{const bt=qr.create("idb-set",{originalErrorMessage:null==Ne?void 0:Ne.message});It.warn(bt.message)}}})).apply(this,arguments)}function xt(_e){return`${_e.name}!${_e.options.appId}`}class Tr{constructor(re){this.container=re,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new Kr(Ne),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var re=this;return(0,y.c)(function*(){var Ne,bt;const st=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Xt();if((null!=(null===(Ne=re._heartbeatsCache)||void 0===Ne?void 0:Ne.heartbeats)||(re._heartbeatsCache=yield re._heartbeatsCachePromise,null!=(null===(bt=re._heartbeatsCache)||void 0===bt?void 0:bt.heartbeats)))&&re._heartbeatsCache.lastSentHeartbeatDate!==hn&&!re._heartbeatsCache.heartbeats.some(vr=>vr.date===hn))return re._heartbeatsCache.heartbeats.push({date:hn,agent:st}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(vr=>{const $n=new Date(vr.date).valueOf();return Date.now()-$n<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,y.c)(function*(){var Ne;if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null==(null===(Ne=re._heartbeatsCache)||void 0===Ne?void 0:Ne.heartbeats)||0===re._heartbeatsCache.heartbeats.length)return"";const bt=Xt(),{heartbeatsToSend:$t,unsentEntries:st}=function Ce(_e,re=1024){const Ne=[];let bt=_e.slice();for(const $t of _e){const st=Ne.find(hn=>hn.agent===$t.agent);if(st){if(st.dates.push($t.date),Di(Ne)>re){st.dates.pop();break}}else if(Ne.push({agent:$t.agent,dates:[$t.date]}),Di(Ne)>re){Ne.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:bt}}(re._heartbeatsCache.heartbeats),hn=(0,Ue.Wg)(JSON.stringify({version:2,heartbeats:$t}));return re._heartbeatsCache.lastSentHeartbeatDate=bt,st.length>0?(re._heartbeatsCache.heartbeats=st,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),hn})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.c)(function*(){return!!(0,Ue.yy)()&&(0,Ue.A3)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,y.c)(function*(){if(yield re._canUseIndexedDBPromise){const bt=yield function ye(_e){return q.apply(this,arguments)}(re.app);return null!=bt&&bt.heartbeats?bt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(re){var Ne=this;return(0,y.c)(function*(){var bt;if(yield Ne._canUseIndexedDBPromise){const st=yield Ne.read();return at(Ne.app,{lastSentHeartbeatDate:null!==(bt=re.lastSentHeartbeatDate)&&void 0!==bt?bt:st.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Ne=this;return(0,y.c)(function*(){var bt;if(yield Ne._canUseIndexedDBPromise){const st=yield Ne.read();return at(Ne.app,{lastSentHeartbeatDate:null!==(bt=re.lastSentHeartbeatDate)&&void 0!==bt?bt:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...re.heartbeats]})}})()}}function Di(_e){return(0,Ue.Wg)(JSON.stringify({version:2,heartbeats:_e})).length}!function Go(_e){ki(new xe.Yl("platform-logger",re=>new X(re),"PRIVATE")),ki(new xe.Yl("heartbeat",re=>new Tr(re),"PRIVATE")),mo(ue,"0.9.27",_e),mo(ue,"0.9.27","esm2017"),mo("fire-js","")}("")},4920:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{Yl:()=>B,op:()=>Xe});var y=oe(1528),xe=oe(7144);class B{constructor(ee,W,ve){this.name=ee,this.instanceFactory=W,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ue="[DEFAULT]";class At{constructor(ee,W){this.name=ee,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const W=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(W)){const ve=new xe.o9;if(this.instancesDeferred.set(W,ve),this.isInitialized(W)||this.shouldAutoInitialize())try{const le=this.getOrInitializeService({instanceIdentifier:W});le&&ve.resolve(le)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(ee){var W;const ve=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),le=null!==(W=null==ee?void 0:ee.optional)&&void 0!==W&&W;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(me){if(le)return null;throw me}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Z(tt){return"EAGER"===tt.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch{}for(const[W,ve]of this.instancesDeferred.entries()){const le=this.normalizeInstanceIdentifier(W);try{const me=this.getOrInitializeService({instanceIdentifier:le});ve.resolve(me)}catch{}}}}clearInstance(ee=Ue){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,y.c)(function*(){const W=Array.from(ee.instances.values());yield Promise.all([...W.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...W.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ue){return this.instances.has(ee)}getOptions(ee=Ue){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:W={}}=ee,ve=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const le=this.getOrInitializeService({instanceIdentifier:ve,options:W});for(const[me,Ie]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(me)&&Ie.resolve(le);return le}onInit(ee,W){var ve;const le=this.normalizeInstanceIdentifier(W),me=null!==(ve=this.onInitCallbacks.get(le))&&void 0!==ve?ve:new Set;me.add(ee),this.onInitCallbacks.set(le,me);const Ie=this.instances.get(le);return Ie&&ee(Ie,le),()=>{me.delete(ee)}}invokeOnInitCallbacks(ee,W){const ve=this.onInitCallbacks.get(W);if(ve)for(const le of ve)try{le(ee,W)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:W={}}){let ve=this.instances.get(ee);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(tt=ee,tt===Ue?void 0:tt),options:W}),this.instances.set(ee,ve),this.instancesOptions.set(ee,W),this.invokeOnInitCallbacks(ve,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ve)}catch{}var tt;return ve||null}normalizeInstanceIdentifier(ee=Ue){return this.component?this.component.multipleInstances?ee:Ue:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Xe{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const W=this.getProvider(ee.name);if(W.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);W.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const W=new At(ee,this);return this.providers.set(ee,W),W}getProviders(){return Array.from(this.providers.values())}}},5976:(Mn,Ot,oe)=>{"use strict";oe.d(Ot,{Ge:()=>xe,QN:()=>Xe,S2:()=>tt,YJ:()=>Z});const y=[];var xe=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(xe||{});const B={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Ue=xe.INFO,At={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Ke=(ee,W,...ve)=>{if(W<ee.logLevel)return;const le=(new Date).toISOString(),me=At[W];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[me](`[${le}]  ${ee.name}:`,...ve)};class Z{constructor(W){this.name=W,this._logLevel=Ue,this._logHandler=Ke,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in xe))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?B[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...W),this._logHandler(this,xe.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...W),this._logHandler(this,xe.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...W),this._logHandler(this,xe.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...W),this._logHandler(this,xe.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...W),this._logHandler(this,xe.ERROR,...W)}}function Xe(ee){y.forEach(W=>{W.setLogLevel(ee)})}function tt(ee,W){for(const ve of y){let le=null;W&&W.level&&(le=B[W.level]),ve.userLogHandler=null===ee?null:(me,Ie,...be)=>{const Q=be.map(z=>{if(null==z)return null;if("string"==typeof z)return z;if("number"==typeof z||"boolean"==typeof z)return z.toString();if(z instanceof Error)return z.message;try{return JSON.stringify(z)}catch{return null}}).filter(z=>z).join(" ");Ie>=(null!=le?le:me.logLevel)&&ee({level:xe[Ie].toLowerCase(),message:Q,args:be,type:me.name})}}}},864:(Mn,Ot,oe)=>{"use strict";oe.r(Ot);var y=oe(1528),xe=oe(8368),B=oe(7144),Ue=oe(9360),At=oe(5976),Ke=oe(1316),Z=oe(4920);const tt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ie=function le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},be=function me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Q=new B.UR("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Y=new At.YJ("@firebase/auth");function Re(f,...c){Y.logLevel<=At.Ge.ERROR&&Y.error(`Auth (${Ue.SDK_VERSION}): ${f}`,...c)}function Ve(f,...c){throw x(f,...c)}function Me(f,...c){return x(f,...c)}function Ze(f,c,d){const p=Object.assign(Object.assign({},be()),{[c]:d});return new B.UR("auth","Firebase",p).create(c,{appName:f.name})}function S(f,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&Ve(f,"argument-error"),Ze(f,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x(f,...c){if("string"!=typeof f){const d=c[0],p=[...c.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return Q.create(f,...c)}function D(f,c,...d){if(!f)throw x(c,...d)}function V(f){const c="INTERNAL ASSERTION FAILED: "+f;throw Re(c),new Error(c)}function X(f,c){f||V(c)}function te(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function ue(){return"http:"===qe()||"https:"===qe()}function qe(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Ee{constructor(c,d){this.shortDelay=c,this.longDelay=d,X(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,B.AV)()||(0,B.AL)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,B.Cc)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O(f,c){X(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class T{static initialize(c,d,p){this.fetchImpl=c,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},j=new Ee(3e4,6e4);function ie(f,c){return f.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:f.tenantId}):c}function G(f,c,d,p){return He.apply(this,arguments)}function He(){return(He=(0,y.c)(function*(f,c,d,p,_={}){return lt(f,_,(0,y.c)(function*(){let w={},N={};p&&("GET"===c?N=p:w={body:JSON.stringify(p)});const J=(0,B.ik)(Object.assign({key:f.config.apiKey},N)).slice(1),De=yield f._getAdditionalHeaders();return De["Content-Type"]="application/json",f.languageCode&&(De["X-Firebase-Locale"]=f.languageCode),T.fetch()(ln(f,f.config.apiHost,d,J),Object.assign({method:c,headers:De,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function lt(f,c,d){return Je.apply(this,arguments)}function Je(){return(Je=(0,y.c)(function*(f,c,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},P),c);try{const _=new Ae(f),w=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const N=yield w.json();if("needConfirmation"in N)throw se(f,"account-exists-with-different-credential",N);if(w.ok&&!("errorMessage"in N))return N;{const J=w.ok?N.errorMessage:N.error.message,[De,nt]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw se(f,"credential-already-in-use",N);if("EMAIL_EXISTS"===De)throw se(f,"email-already-in-use",N);if("USER_DISABLED"===De)throw se(f,"user-disabled",N);const Tt=p[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Ze(f,Tt,nt);Ve(f,Tt)}}catch(_){if(_ instanceof B.kx)throw _;Ve(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function dt(f,c,d,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,y.c)(function*(f,c,d,p,_={}){const w=yield G(f,c,d,p,_);return"mfaPendingCredential"in w&&Ve(f,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function ln(f,c,d,p){const _=`${c}${d}?${p}`;return f.config.emulator?O(f.config,_):`${f.config.apiScheme}://${_}`}function gt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ae{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Me(this.auth,"network-request-failed")),j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function se(f,c,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Me(f,c,p);return _.customData._tokenResponse=d,_}function fe(f){return void 0!==f&&void 0!==f.getResponse}function ze(f){return void 0!==f&&void 0!==f.enterprise}class Mt{constructor(c){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=c.recaptchaEnforcementState}getProviderEnforcementState(c){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===c)return gt(d.enforcementState);return null}isProviderEnabled(c){return"ENFORCE"===this.getProviderEnforcementState(c)||"AUDIT"===this.getProviderEnforcementState(c)}}function Kt(){return(Kt=(0,y.c)(function*(f){return(yield G(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jt(f,c){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,y.c)(function*(f,c){return G(f,"GET","/v2/recaptchaConfig",ie(f,c))})).apply(this,arguments)}function un(){return(un=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Qn(){return(Qn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ri(){return(ri=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Vr(f){if(f)try{const c=new Date(Number(f));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function Fi(){return(Fi=(0,y.c)(function*(f,c=!1){const d=(0,B.Yj)(f),p=yield d.getIdToken(c),_=Gr(p);D(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,N=null==w?void 0:w.sign_in_provider;return{claims:_,token:p,authTime:Vr(pi(_.auth_time)),issuedAtTime:Vr(pi(_.iat)),expirationTime:Vr(pi(_.exp)),signInProvider:N||null,signInSecondFactor:(null==w?void 0:w.sign_in_second_factor)||null}})).apply(this,arguments)}function pi(f){return 1e3*Number(f)}function Gr(f){const[c,d,p]=f.split(".");if(void 0===c||void 0===d||void 0===p)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,B.WW)(d);return _?JSON.parse(_):(Re("Failed to decode base64 JWT payload"),null)}catch(_){return Re("Caught error parsing JWT payload as JSON",null==_?void 0:_.toString()),null}}function Pn(f,c){return Li.apply(this,arguments)}function Li(){return(Li=(0,y.c)(function*(f,c,d=!1){if(d)return c;try{return yield c}catch(p){throw p instanceof B.kx&&function jo({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class So{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(c);this.timerId=setTimeout((0,y.c)(function*(){yield d.iteration()}),p)}iteration(){var c=this;return(0,y.c)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===(null==d?void 0:d.code)&&c.schedule(!0))}c.schedule()})()}}class Ho{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(f){return ur.apply(this,arguments)}function ur(){return ur=(0,y.c)(function*(f){var c;const d=f.auth,p=yield f.getIdToken(),_=yield Pn(f,function zr(f,c){return ri.apply(this,arguments)}(d,{idToken:p}));D(null==_?void 0:_.users.length,d,"internal-error");const w=_.users[0];f._notifyReloadListener(w);const N=null!==(c=w.providerUserInfo)&&void 0!==c&&c.length?function zo(f){return f.map(c=>{var{providerId:d}=c,p=(0,Ke.sX)(c,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(w.providerUserInfo):[],J=function Sn(f,c){return[...f.filter(p=>!c.some(_=>_.providerId===p.providerId)),...c]}(f.providerData,N),Tt=!!f.isAnonymous&&!(f.email&&w.passwordHash||null!=J&&J.length),Et={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:J,metadata:new Ho(w.createdAt,w.lastLoginAt),isAnonymous:Tt};Object.assign(f,Et)}),ur.apply(this,arguments)}function _o(){return(_o=(0,y.c)(function*(f){const c=(0,B.Yj)(f);yield gi(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function k(){return(k=(0,y.c)(function*(f,c){const d=yield lt(f,{},(0,y.c)(function*(){const p=(0,B.ik)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:_,apiKey:w}=f.config,N=ln(f,_,"/v1/token",`key=${w}`),J=yield f._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(N,{method:"POST",headers:J,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function L(){return(L=(0,y.c)(function*(f,c){return G(f,"POST","/v2/accounts:revokeToken",ie(f,c))})).apply(this,arguments)}class ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){D(c.idToken,"internal-error"),D(typeof c.idToken<"u","internal-error"),D(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function qr(f){const c=Gr(f);return D(c,"internal-error"),D(typeof c.exp<"u","internal-error"),D(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var p=this;return(0,y.c)(function*(){return D(!p.accessToken||p.refreshToken,c,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(c,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var p=this;return(0,y.c)(function*(){const{accessToken:_,refreshToken:w,expiresIn:N}=yield function cs(f,c){return k.apply(this,arguments)}(c,d);p.updateTokensAndExpiration(_,w,Number(N))})()}updateTokensAndExpiration(c,d,p){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(c,d){const{refreshToken:p,accessToken:_,expirationTime:w}=d,N=new ye;return p&&(D("string"==typeof p,"internal-error",{appName:c}),N.refreshToken=p),_&&(D("string"==typeof _,"internal-error",{appName:c}),N.accessToken=_),w&&(D("number"==typeof w,"internal-error",{appName:c}),N.expirationTime=w),N}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new ye,this.toJSON())}_performRefresh(){return V("not implemented")}}function q(f,c){D("string"==typeof f||typeof f>"u","internal-error",{appName:c})}class at{constructor(c){var{uid:d,auth:p,stsTokenManager:_}=c,w=(0,Ke.sX)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new So(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new Ho(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,y.c)(function*(){const p=yield Pn(d,d.stsTokenManager.getToken(d.auth,c));return D(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(c){return function fi(f){return Fi.apply(this,arguments)}(this,c)}reload(){return function mo(f){return _o.apply(this,arguments)}(this)}_assign(c){this!==c&&(D(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new at(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var p=this;return(0,y.c)(function*(){let _=!1;c.idToken&&c.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(c),_=!0),d&&(yield gi(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var c=this;return(0,y.c)(function*(){const d=yield c.getIdToken();return yield Pn(c,function zn(f,c){return un.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var p,_,w,N,J,De,nt,Tt;const Et=null!==(p=d.displayName)&&void 0!==p?p:void 0,Wn=null!==(_=d.email)&&void 0!==_?_:void 0,zi=null!==(w=d.phoneNumber)&&void 0!==w?w:void 0,Nl=null!==(N=d.photoURL)&&void 0!==N?N:void 0,jp=null!==(J=d.tenantId)&&void 0!==J?J:void 0,Gd=null!==(De=d._redirectEventId)&&void 0!==De?De:void 0,Pv=null!==(nt=d.createdAt)&&void 0!==nt?nt:void 0,Sa=null!==(Tt=d.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:Ra,emailVerified:xv,isAnonymous:qd,providerData:Hp,stsTokenManager:Nv}=d;D(Ra&&Nv,c,"internal-error");const hw=ye.fromJSON(this.name,Nv);D("string"==typeof Ra,c,"internal-error"),q(Et,c.name),q(Wn,c.name),D("boolean"==typeof xv,c,"internal-error"),D("boolean"==typeof qd,c,"internal-error"),q(zi,c.name),q(Nl,c.name),q(jp,c.name),q(Gd,c.name),q(Pv,c.name),q(Sa,c.name);const Ov=new at({uid:Ra,auth:c,email:Wn,emailVerified:xv,displayName:Et,isAnonymous:qd,photoURL:Nl,phoneNumber:zi,tenantId:jp,stsTokenManager:hw,createdAt:Pv,lastLoginAt:Sa});return Hp&&Array.isArray(Hp)&&(Ov.providerData=Hp.map(sM=>Object.assign({},sM))),Gd&&(Ov._redirectEventId=Gd),Ov}static _fromIdTokenResponse(c,d,p=!1){return(0,y.c)(function*(){const _=new ye;_.updateFromServerResponse(d);const w=new at({uid:d.localId,auth:c,stsTokenManager:_,isAnonymous:p});return yield gi(w),w})()}}const _t=new Map;function xt(f){X(f instanceof Function,"Expected a class definition");let c=_t.get(f);return c?(X(c instanceof f,"Instance stored in cache mismatched with class"),c):(c=new f,_t.set(f,c),c)}const wt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.c)(function*(){return!0})()}_set(d,p){var _=this;return(0,y.c)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,y.c)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,y.c)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function Tr(f,c,d){return`firebase:${f}:${c}:${d}`}class Xt{constructor(c,d,p){this.persistence=c,this.auth=d,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=Tr(this.userKey,_.apiKey,w),this.fullPersistenceKey=Tr("persistence",_.apiKey,w),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,y.c)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?at._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,y.c)(function*(){if(d.persistence===c)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,p="authUser"){return(0,y.c)(function*(){if(!d.length)return new Xt(xt(wt),c,p);const _=(yield Promise.all(d.map(function(){var nt=(0,y.c)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let w=_[0]||xt(wt);const N=Tr(p,c.config.apiKey,c.name);let J=null;for(const nt of d)try{const Tt=yield nt._get(N);if(Tt){const Et=at._fromJSON(c,Tt);nt!==w&&(J=Et),w=nt;break}}catch{}const De=_.filter(nt=>nt._shouldAllowMigration);return w._shouldAllowMigration&&De.length?(w=De[0],J&&(yield w._set(N,J.toJSON())),yield Promise.all(d.map(function(){var nt=(0,y.c)(function*(Tt){if(Tt!==w)try{yield Tt._remove(N)}catch{}});return function(Tt){return nt.apply(this,arguments)}}())),new Xt(w,c,p)):new Xt(w,c,p)})()}}function Ce(f){const c=f.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(_e(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Kr(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Ne(c))return"Blackberry";if(bt(c))return"Webos";if(Di(c))return"Safari";if((c.includes("chrome/")||Go(c))&&!c.includes("edge/"))return"Chrome";if(re(c))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==p?void 0:p.length))return p[1]}return"Other"}function Kr(f=(0,B.Su)()){return/firefox\//i.test(f)}function Di(f=(0,B.Su)()){const c=f.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Go(f=(0,B.Su)()){return/crios\//i.test(f)}function _e(f=(0,B.Su)()){return/iemobile/i.test(f)}function re(f=(0,B.Su)()){return/android/i.test(f)}function Ne(f=(0,B.Su)()){return/blackberry/i.test(f)}function bt(f=(0,B.Su)()){return/webos/i.test(f)}function $t(f=(0,B.Su)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function $n(f=(0,B.Su)()){return $t(f)||re(f)||bt(f)||Ne(f)||/windows phone/i.test(f)||_e(f)}function jt(f,c=[]){let d;switch(f){case"Browser":d=Ce((0,B.Su)());break;case"Worker":d=`${Ce((0,B.Su)())}-${f}`;break;default:d=f}const p=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ue.SDK_VERSION}/${p}`}class rr{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const p=w=>new Promise((N,J)=>{try{N(c(w))}catch(De){J(De)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,y.c)(function*(){if(d.auth.currentUser===c)return;const p=[];try{for(const _ of d.queue)yield _(c),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:null==_?void 0:_.message})}})()}}function la(){return(la=(0,y.c)(function*(f,c={}){return G(f,"GET","/v2/passwordPolicy",ie(f,c))})).apply(this,arguments)}class Er{constructor(c){var d,p,_,w;const N=c.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=N.minPasswordLength)&&void 0!==d?d:6,N.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=N.maxPasswordLength),void 0!==N.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=N.containsLowercaseCharacter),void 0!==N.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=N.containsUppercaseCharacter),void 0!==N.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=N.containsNumericCharacter),void 0!==N.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=N.containsNonAlphanumericCharacter),this.enforcementState=c.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=c.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=c.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=c.schemaVersion}validatePassword(c){var d,p,_,w,N,J;const De={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(c,De),this.validatePasswordCharacterOptions(c,De),De.isValid&&(De.isValid=null===(d=De.meetsMinPasswordLength)||void 0===d||d),De.isValid&&(De.isValid=null===(p=De.meetsMaxPasswordLength)||void 0===p||p),De.isValid&&(De.isValid=null===(_=De.containsLowercaseLetter)||void 0===_||_),De.isValid&&(De.isValid=null===(w=De.containsUppercaseLetter)||void 0===w||w),De.isValid&&(De.isValid=null===(N=De.containsNumericCharacter)||void 0===N||N),De.isValid&&(De.isValid=null===(J=De.containsNonAlphanumericCharacter)||void 0===J||J),De}validatePasswordLengthOptions(c,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=c.length>=p),_&&(d.meetsMaxPasswordLength=c.length<=_)}validatePasswordCharacterOptions(c,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<c.length;_++)p=c.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(c,d,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(c.containsLowercaseLetter||(c.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(c.containsUppercaseLetter||(c.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(c.containsNumericCharacter||(c.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(c.containsNonAlphanumericCharacter||(c.containsNonAlphanumericCharacter=w))}}class pn{constructor(c,d,p,_){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new rr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var p=this;return d&&(this._popupRedirectResolver=xt(d)),this._initializationPromise=this.queue((0,y.c)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield Xt.create(p,c),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,y.c)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,y.c)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let w=_,N=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const J=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,De=null==w?void 0:w._redirectEventId,nt=yield d.tryRedirectSignIn(c);(!J||J===De)&&null!=nt&&nt.user&&(w=nt.user,N=!0)}if(!w)return d.directlySetCurrentUser(null);if(!w._redirectEventId){if(N)try{yield d.beforeStateQueue.runMiddleware(w)}catch(J){w=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(J))}return w?d.reloadAndSetCurrentUserOrClear(w):d.directlySetCurrentUser(null)}return D(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===w._redirectEventId?d.directlySetCurrentUser(w):d.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(c){var d=this;return(0,y.c)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,y.c)(function*(){try{yield gi(c)}catch(p){if("auth/network-request-failed"!==(null==p?void 0:p.code))return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var c=this;return(0,y.c)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,y.c)(function*(){const p=c?(0,B.Yj)(c):null;return p&&D(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(c,d=!1){var p=this;return(0,y.c)(function*(){if(!p._deleted)return c&&D(p.tenantId===c.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(c)),p.queue((0,y.c)(function*(){yield p.directlySetCurrentUser(c),p.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,y.c)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,y.c)(function*(){yield d.assertedPersistence.setPersistence(xt(c))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(c){var d=this;return(0,y.c)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(c)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var c=this;return(0,y.c)(function*(){const d=yield function Ar(f){return la.apply(this,arguments)}(c),p=new Er(d);null===c.tenantId?c._projectPasswordPolicy=p:c._tenantPasswordPolicies[c.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new B.UR("auth","Firebase",c())}onAuthStateChanged(c,d,p){return this.registerStateListener(this.authStateSubscription,c,d,p)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,p){return this.registerStateListener(this.idTokenSubscription,c,d,p)}authStateReady(){return new Promise((c,d)=>{if(this.currentUser)c();else{const p=this.onAuthStateChanged(()=>{p(),c()},d)}})}revokeAccessToken(c){var d=this;return(0,y.c)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:c,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function M(f,c){return L.apply(this,arguments)}(d,_)}})()}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var p=this;return(0,y.c)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===c?_.removeCurrentUser():_.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,y.c)(function*(){if(!d.redirectPersistenceManager){const p=c&&xt(c)||d._popupRedirectResolver;D(p,d,"argument-error"),d.redirectPersistenceManager=yield Xt.create(d,[xt(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,y.c)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,y.c)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===c?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,y.c)(function*(){if(c===d.currentUser)return d.queue((0,y.c)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,p,_){if(this._deleted)return()=>{};const w="function"==typeof d?d:d.next.bind(d);let N=!1;const J=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(J,this,"internal-error"),J.then(()=>{N||w(this.currentUser)}),"function"==typeof d){const De=c.addObserver(d,p,_);return()=>{N=!0,De()}}{const De=c.addObserver(d);return()=>{N=!0,De()}}}directlySetCurrentUser(c){var d=this;return(0,y.c)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,y.c)(function*(){var d;const p={"X-Client-Version":c.clientVersion};c.app.options.appId&&(p["X-Firebase-gmpid"]=c.app.options.appId);const _=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield c._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var c=this;return(0,y.c)(function*(){var d;const p=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return null!=p&&p.error&&function Pe(f,...c){Y.logLevel<=At.Ge.WARN&&Y.warn(`Auth (${Ue.SDK_VERSION}): ${f}`,...c)}(`Error while retrieving App Check token: ${p.error}`),null==p?void 0:p.token})()}}function Vn(f){return(0,B.Yj)(f)}class Zi{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,B.my)(d=>this.observer=d)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qo={loadJS:()=>(0,y.c)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tl(f){return qo.loadJS(f)}function ca(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ut{constructor(c){this.type="recaptcha-enterprise",this.auth=Vn(c)}verify(c="verify",d=!1){var p=this;return(0,y.c)(function*(){function w(){return w=(0,y.c)(function*(J){if(!d){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var De=(0,y.c)(function*(nt,Tt){Jt(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Et=>{if(void 0!==Et.recaptchaKey){const Wn=new Mt(Et);return null==J.tenantId?J._agentRecaptchaConfig=Wn:J._tenantRecaptchaConfigs[J.tenantId]=Wn,nt(Wn.siteKey)}Tt(new Error("recaptcha Enterprise site key undefined"))}).catch(Et=>{Tt(Et)})});return function(nt,Tt){return De.apply(this,arguments)}}())}),w.apply(this,arguments)}function N(J,De,nt){const Tt=window.grecaptcha;ze(Tt)?Tt.enterprise.ready(()=>{Tt.enterprise.execute(J,{action:c}).then(Et=>{De(Et)}).catch(()=>{De("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,De)=>{(function _(J){return w.apply(this,arguments)})(p.auth).then(nt=>{if(!d&&ze(window.grecaptcha))N(nt,J,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));let Tt=function rl(){return qo.recaptchaEnterpriseScript}();0!==Tt.length&&(Tt+=nt),tl(Tt).then(()=>{N(nt,J,De)}).catch(Et=>{De(Et)})}}).catch(nt=>{De(nt)})})})()}}function ce(f,c,d){return I.apply(this,arguments)}function I(){return(I=(0,y.c)(function*(f,c,d,p=!1){const _=new Ut(f);let w;try{w=yield _.verify(d)}catch{w=yield _.verify(d,!0)}const N=Object.assign({},c);return Object.assign(N,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(N,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(N,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),N})).apply(this,arguments)}function C(f,c,d,p){return F.apply(this,arguments)}function F(){return F=(0,y.c)(function*(f,c,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield ce(f,c,d,"getOobCode"===d);return p(f,w)}return p(f,c).catch(function(){var w=(0,y.c)(function*(N){if("auth/missing-recaptcha-token"===N.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const J=yield ce(f,c,d,"getOobCode"===d);return p(f,J)}return Promise.reject(N)});return function(N){return w.apply(this,arguments)}}())}),F.apply(this,arguments)}function Le(f){const c=f.indexOf(":");return c<0?"":f.substr(0,c+1)}function Se(f){if(!f)return null;const c=Number(f);return isNaN(c)?null:c}class St{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return V("not implemented")}_getIdTokenResponse(c){return V("not implemented")}_linkToIdToken(c,d){return V("not implemented")}_getReauthenticationResolver(c){return V("not implemented")}}function en(f,c){return xn.apply(this,arguments)}function xn(){return(xn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:resetPassword",ie(f,c))})).apply(this,arguments)}function Xn(){return(Xn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Gn(f,c){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:signUp",c)})).apply(this,arguments)}function Cn(){return(Cn=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",ie(f,c))})).apply(this,arguments)}function Ju(f,c){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithPassword",ie(f,c))})).apply(this,arguments)}function bc(f,c){return ed.apply(this,arguments)}function ed(){return(ed=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendOobCode",ie(f,c))})).apply(this,arguments)}function td(){return(td=(0,y.c)(function*(f,c){return bc(f,c)})).apply(this,arguments)}function T_(f,c){return qf.apply(this,arguments)}function qf(){return(qf=(0,y.c)(function*(f,c){return bc(f,c)})).apply(this,arguments)}function A_(f,c){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,y.c)(function*(f,c){return bc(f,c)})).apply(this,arguments)}function Ji(){return(Ji=(0,y.c)(function*(f,c){return bc(f,c)})).apply(this,arguments)}function nd(){return(nd=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}function Kf(){return(Kf=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithEmailLink",ie(f,c))})).apply(this,arguments)}class Tc extends St{constructor(c,d,p,_=null){super("password",p),this._email=c,this._password=d,this._tenantId=_}static _fromEmailAndPassword(c,d){return new Tc(c,d,"password")}static _fromEmailAndCode(c,d,p=null){return new Tc(c,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(null!=d&&d.email&&null!=d&&d.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,y.c)(function*(){switch(d.signInMethod){case"password":return C(c,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ju);case"emailLink":return function _0(f,c){return nd.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:Ve(c,"internal-error")}})()}_linkToIdToken(c,d){var p=this;return(0,y.c)(function*(){switch(p.signInMethod){case"password":return C(c,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gn);case"emailLink":return function v0(f,c){return Kf.apply(this,arguments)}(c,{idToken:d,email:p._email,oobCode:p._password});default:Ve(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function us(f,c){return rd.apply(this,arguments)}function rd(){return(rd=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithIdp",ie(f,c))})).apply(this,arguments)}class Ko extends St{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Ko(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):Ve("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_}=d,w=(0,Ke.sX)(d,["providerId","signInMethod"]);if(!p||!_)return null;const N=new Ko(p,_);return N.idToken=w.idToken||void 0,N.accessToken=w.accessToken||void 0,N.secret=w.secret,N.nonce=w.nonce,N.pendingToken=w.pendingToken||null,N}_getIdTokenResponse(c){return us(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,us(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,us(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,B.ik)(d)}return c}}function Ge(){return(Ge=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:sendVerificationCode",ie(f,c))})).apply(this,arguments)}function Yf(){return(Yf=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c))})).apply(this,arguments)}function id(){return(id=(0,y.c)(function*(f,c){const d=yield dt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,c));if(d.temporaryProof)throw se(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Pt={USER_NOT_FOUND:"user-not-found"};function rn(){return(rn=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithPhoneNumber",ie(f,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Pt)})).apply(this,arguments)}class Zn extends St{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Zn({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Zn({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function E0(f,c){return Yf.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Yo(f,c){return id.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function $i(f,c){return rn.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}=c;return p||d||_||w?new Zn({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class Pr{constructor(c){var d,p,_,w,N,J;const De=(0,B.aw)((0,B.kF)(c)),nt=null!==(d=De.apiKey)&&void 0!==d?d:null,Tt=null!==(p=De.oobCode)&&void 0!==p?p:null,Et=function ii(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=De.mode)&&void 0!==_?_:null);D(nt&&Tt&&Et,"argument-error"),this.apiKey=nt,this.operation=Et,this.code=Tt,this.continueUrl=null!==(w=De.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(N=De.languageCode)&&void 0!==N?N:null,this.tenantId=null!==(J=De.tenantId)&&void 0!==J?J:null}static parseLink(c){const d=function As(f){const c=(0,B.aw)((0,B.kF)(f)).link,d=c?(0,B.aw)((0,B.kF)(c)).deep_link_id:null,p=(0,B.aw)((0,B.kF)(f)).deep_link_id;return(p?(0,B.aw)((0,B.kF)(p)).link:null)||p||d||c||f}(c);try{return new Pr(d)}catch{return null}}}let od=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return Tc._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=Pr.parseLink(p);return D(_,"argument-error"),Tc._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class vo{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ol extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class sl extends ol{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return D("providerId"in d&&"signInMethod"in d,"argument-error"),Ko._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return D(c.idToken||c.accessToken,"argument-error"),Ko._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return sl.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return sl.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:N,providerId:J}=c;if(!p&&!_&&!d&&!w||!J)return null;try{return new sl(J)._credential({idToken:d,accessToken:p,nonce:N,pendingToken:w})}catch{return null}}}let Jn=(()=>{class f extends ol{constructor(){super("facebook.com")}static credential(d){return Ko._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),et=(()=>{class f extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Ko._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),Ft=(()=>{class f extends ol{constructor(){super("github.com")}static credential(d){return Ko._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class mi extends St{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return us(c,this.buildRequest())}_linkToIdToken(c,d){const p=this.buildRequest();return p.idToken=d,us(c,p)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,us(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:p,signInMethod:_,pendingToken:w}=d;return p&&_&&w&&p===_?new mi(p,w):null}static _create(c,d){return new mi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ui extends vo{constructor(c){D(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ui.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ui.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=mi.fromJSON(c);return D(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:p}=c;if(!d||!p)return null;try{return mi._create(p,d)}catch{return null}}}let da=(()=>{class f extends ol{constructor(){super("twitter.com")}static credential(d,p){return Ko._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function Un(f,c){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signUp",ie(f,c))})).apply(this,arguments)}class xr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,p,_=!1){return(0,y.c)(function*(){const w=yield at._fromIdTokenResponse(c,p,_),N=zt(p);return new xr({user:w,providerId:N,_tokenResponse:p,operationType:d})})()}static _forOperation(c,d,p){return(0,y.c)(function*(){yield c._updateTokensIfNecessary(p,!0);const _=zt(p);return new xr({user:c,providerId:_,_tokenResponse:p,operationType:d})})()}}function zt(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function sd(){return(sd=(0,y.c)(function*(f){var c;const d=Vn(f);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new xr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield Un(d,{returnSecureToken:!0}),_=yield xr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class ds extends B.kx{constructor(c,d,p,_){var w;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:c.name,tenantId:null!==(w=c.tenantId)&&void 0!==w?w:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(c,d,p,_){return new ds(c,d,p,_)}}function ir(f,c,d,p){return("reauthenticate"===c?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?ds._fromErrorAndOperation(f,w,c,p):w})}function al(f){return new Set(f.map(({providerId:c})=>c).filter(c=>!!c))}function yo(){return yo=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f);yield Mo(!0,d,c);const{providerUserInfo:p}=yield function hi(f,c){return Qn.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),_=al(p||[]);return d.providerData=d.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),yo.apply(this,arguments)}function ha(f,c){return ad.apply(this,arguments)}function ad(){return(ad=(0,y.c)(function*(f,c,d=!1){const p=yield Pn(f,c._linkToIdToken(f.auth,yield f.getIdToken()),d);return xr._forOperation(f,"link",p)})).apply(this,arguments)}function Mo(f,c,d){return fa.apply(this,arguments)}function fa(){return(fa=(0,y.c)(function*(f,c,d){yield gi(c);const _=!1===f?"provider-already-linked":"no-such-provider";D(al(c.providerData).has(d)===f,c.auth,_)})).apply(this,arguments)}function Ss(f,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,y.c)(function*(f,c,d=!1){const{auth:p}=f,_="reauthenticate";try{const w=yield Pn(f,ir(p,_,c,f),d);D(w.idToken,p,"internal-error");const N=Gr(w.idToken);D(N,p,"internal-error");const{sub:J}=N;return D(f.uid===J,p,"user-mismatch"),xr._forOperation(f,_,w)}catch(w){throw"auth/user-not-found"===(null==w?void 0:w.code)&&Ve(p,"user-mismatch"),w}})).apply(this,arguments)}function ld(f,c){return pa.apply(this,arguments)}function pa(){return(pa=(0,y.c)(function*(f,c,d=!1){const p="signIn",_=yield ir(f,p,c),w=yield xr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(w.user)),w})).apply(this,arguments)}function eo(f,c){return cl.apply(this,arguments)}function cl(){return(cl=(0,y.c)(function*(f,c){return ld(Vn(f),c)})).apply(this,arguments)}function ga(f,c){return dr.apply(this,arguments)}function dr(){return(dr=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f);return yield Mo(!1,d,c.providerId),ha(d,c)})).apply(this,arguments)}function cd(f,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.c)(function*(f,c){return Ss((0,B.Yj)(f),c)})).apply(this,arguments)}function Sc(){return(Sc=(0,y.c)(function*(f,c){return dt(f,"POST","/v1/accounts:signInWithCustomToken",ie(f,c))})).apply(this,arguments)}function ul(){return ul=(0,y.c)(function*(f,c){const d=Vn(f),p=yield function vi(f,c){return Sc.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),_=yield xr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),ul.apply(this,arguments)}class Ti{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Rc._fromServerResponse(c,d):"totpInfo"in d?Qf._fromServerResponse(c,d):Ve(c,"internal-error")}}class Rc extends Ti{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Rc(d)}}class Qf extends Ti{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new Qf(d)}}function ud(f,c,d){var p;D((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),D(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(D(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(D(d.android.packageName.length>0,f,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Mc(f){return dd.apply(this,arguments)}function dd(){return(dd=(0,y.c)(function*(f){const c=Vn(f);c._getPasswordPolicyInternal()&&(yield c._updatePasswordPolicy())})).apply(this,arguments)}function Pc(){return(Pc=(0,y.c)(function*(f,c,d){const p=Vn(f),_={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};d&&ud(p,_,d),yield C(p,_,"getOobCode",T_)})).apply(this,arguments)}function S_(){return S_=(0,y.c)(function*(f,c,d){yield en((0,B.Yj)(f),{oobCode:c,newPassword:d}).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Mc(f),_});return function(_){return p.apply(this,arguments)}}())}),S_.apply(this,arguments)}function R_(){return R_=(0,y.c)(function*(f,c){yield function Vi(f,c){return Cn.apply(this,arguments)}((0,B.Yj)(f),{oobCode:c})}),R_.apply(this,arguments)}function b0(f,c){return M_.apply(this,arguments)}function M_(){return(M_=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f),p=yield en(d,{oobCode:c}),_=p.requestType;switch(D(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(p.mfaInfo,d,"internal-error");default:D(p.email,d,"internal-error")}let w=null;return p.mfaInfo&&(w=Ti._fromServerResponse(Vn(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function P_(){return(P_=(0,y.c)(function*(f,c){const{data:d}=yield b0((0,B.Yj)(f),c);return d.email})).apply(this,arguments)}function x_(){return(x_=(0,y.c)(function*(f,c,d){const p=Vn(f),N=yield C(p,{returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Un).catch(De=>{throw"auth/password-does-not-meet-requirements"===De.code&&Mc(f),De}),J=yield xr._fromIdTokenResponse(p,"signIn",N);return yield p._updateCurrentUser(J.user),J})).apply(this,arguments)}function hd(){return(hd=(0,y.c)(function*(f,c,d){const p=Vn(f),_={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};(function w(N,J){D(J.handleCodeInApp,p,"argument-error"),J&&ud(p,N,J)})(_,d),yield C(p,_,"getOobCode",A_)})).apply(this,arguments)}function O_(){return(O_=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),_=od.credentialWithLink(c,d||te());return D(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),eo(p,_)})).apply(this,arguments)}function k_(){return(k_=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:createAuthUri",ie(f,c))})).apply(this,arguments)}function fd(){return fd=(0,y.c)(function*(f,c){const p={identifier:c,continueUri:ue()?te():"http://localhost"},{signinMethods:_}=yield function zR(f,c){return k_.apply(this,arguments)}((0,B.Yj)(f),p);return _||[]}),fd.apply(this,arguments)}function Xf(){return Xf=(0,y.c)(function*(f,c){const d=(0,B.Yj)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};c&&ud(d.auth,_,c);const{email:w}=yield function Dc(f,c){return td.apply(this,arguments)}(d.auth,_);w!==f.email&&(yield f.reload())}),Xf.apply(this,arguments)}function Rn(){return Rn=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:c};d&&ud(p.auth,w,d);const{email:N}=yield function m0(f,c){return Ji.apply(this,arguments)}(p.auth,w);N!==f.email&&(yield f.reload())}),Rn.apply(this,arguments)}function _a(){return(_a=(0,y.c)(function*(f,c){return G(f,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Jf(){return Jf=(0,y.c)(function*(f,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const p=(0,B.Yj)(f),w={idToken:yield p.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},N=yield Pn(p,function Zf(f,c){return _a.apply(this,arguments)}(p.auth,w));p.displayName=N.displayName||null,p.photoURL=N.photoUrl||null;const J=p.providerData.find(({providerId:De})=>"password"===De);J&&(J.displayName=p.displayName,J.photoURL=p.photoURL),yield p._updateTokensIfNecessary(N)}),Jf.apply(this,arguments)}function Bi(f,c,d){return ep.apply(this,arguments)}function ep(){return ep=(0,y.c)(function*(f,c,d){const{auth:p}=f,w={idToken:yield f.getIdToken(),returnSecureToken:!0};c&&(w.email=c),d&&(w.password=d);const N=yield Pn(f,function wr(f,c){return Xn.apply(this,arguments)}(p,w));yield f._updateTokensIfNecessary(N,!0)}),ep.apply(this,arguments)}class hl{constructor(c,d,p={}){this.isNewUser=c,this.providerId=d,this.profile=p}}class Po extends hl{constructor(c,d,p,_){super(c,d,p),this.username=_}}class V_ extends hl{constructor(c,d){super(c,"facebook.com",d)}}class D0 extends Po{constructor(c,d){super(c,"github.com",d,"string"==typeof(null==d?void 0:d.login)?null==d?void 0:d.login:null)}}class $_ extends hl{constructor(c,d){super(c,"google.com",d)}}class np extends Po{constructor(c,d,p){super(c,"twitter.com",d,p)}}function rp(f){const{user:c,_tokenResponse:d}=f;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function tp(f){var c,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},w=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&null!=f&&f.idToken){const N=null===(d=null===(c=Gr(f.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(N)return new hl(w,"anonymous"!==N&&"custom"!==N?N:null)}if(!p)return null;switch(p){case"facebook.com":return new V_(w,_);case"github.com":return new D0(w,_);case"google.com":return new $_(w,_);case"twitter.com":return new np(w,_,f.screenName||null);case"custom":case"anonymous":return new hl(w,null);default:return new hl(w,p,_)}}(d)}class va{constructor(c,d,p){this.type=c,this.credential=d,this.user=p}static _fromIdtoken(c,d){return new va("enroll",c,d)}static _fromMfaPendingCredential(c){return new va("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,p;if(null!=c&&c.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return va._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(p=c.multiFactorSession)&&void 0!==p&&p.idToken)return va._fromIdtoken(c.multiFactorSession.idToken)}return null}}class sp{constructor(c,d,p){this.session=c,this.hints=d,this.signInResolver=p}static _fromError(c,d){const p=Vn(c),_=d.customData._serverResponse,w=(_.mfaInfo||[]).map(J=>Ti._fromServerResponse(p,J));D(_.mfaPendingCredential,p,"internal-error");const N=va._fromMfaPendingCredential(_.mfaPendingCredential);return new sp(N,w,function(){var J=(0,y.c)(function*(De){const nt=yield De._process(p,N);delete _.mfaInfo,delete _.mfaPendingCredential;const Tt=Object.assign(Object.assign({},_),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(d.operationType){case"signIn":const Et=yield xr._fromIdTokenResponse(p,d.operationType,Tt);return yield p._updateCurrentUser(Et.user),Et;case"reauthenticate":return D(d.user,p,"internal-error"),xr._forOperation(d.user,d.operationType,Tt);default:Ve(p,"internal-error")}});return function(De){return J.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,y.c)(function*(){return d.signInResolver(c)})()}}class An{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Ti._fromServerResponse(c.auth,p)))})}static _fromUser(c){return new An(c)}getSession(){var c=this;return(0,y.c)(function*(){return va._fromIdtoken(yield c.user.getIdToken(),c.user)})()}enroll(c,d){var p=this;return(0,y.c)(function*(){const _=c,w=yield p.getSession(),N=yield Pn(p.user,_._process(p.user.auth,w,d));return yield p.user._updateTokensIfNecessary(N),p.user.reload()})()}unenroll(c){var d=this;return(0,y.c)(function*(){const p="string"==typeof c?c:c.uid,_=yield d.user.getIdToken();try{const w=yield Pn(d.user,function M0(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:withdraw",ie(f,c))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:N})=>N!==p),yield d.user._updateTokensIfNecessary(w),yield d.user.reload()}catch(w){throw w}})()}}const gd=new WeakMap,to="__sak";class md{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(to,"1"),this.storage.removeItem(to),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zr=(()=>{class f extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ap(){const f=(0,B.Su)();return Di(f)||$t(f)}()&&function yr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=$n(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&d(p,w,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((J,De,nt)=>{this.notifyListeners(J,nt)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(_);if(d.newValue!==J)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const w=()=>{const J=this.storage.getItem(_);!p&&this.localCache[_]===J||this.notifyListeners(_,J)},N=this.storage.getItem(_);!function vr(){return(0,B.Uv)()&&10===document.documentMode}()||N===d.newValue||d.newValue===d.oldValue?w():setTimeout(w,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,w=this;return(0,y.c)(function*(){yield _().call(w,d,p),w.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,y.c)(function*(){const w=yield p().call(_,d);return _.localCache[d]=JSON.stringify(w),w})()}_remove(d){var p=()=>super._remove,_=this;return(0,y.c)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),fs=(()=>{class f extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let ps=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(w=>w.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,y.c)(function*(){const _=d,{eventId:w,eventType:N,data:J}=_.data,De=p.handlersMap[N];if(null==De||!De.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:N});const nt=Array.from(De).map(function(){var Et=(0,y.c)(function*(Wn){return Wn(_.origin,J)});return function(Wn){return Et.apply(this,arguments)}}()),Tt=yield function xo(f){return Promise.all(f.map(function(){var c=(0,y.c)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return c.apply(this,arguments)}}()))}(nt);_.ports[0].postMessage({status:"done",eventId:w,eventType:N,response:Tt})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function kc(f="",c=10){let d="";for(let p=0;p<c;p++)d+=Math.floor(10*Math.random());return f+d}class j_{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,p=50){var _=this;return(0,y.c)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let N,J;return new Promise((De,nt)=>{const Tt=kc("",20);w.port1.start();const Et=setTimeout(()=>{nt(new Error("unsupported_event"))},p);J={messageChannel:w,onMessage(Wn){const zi=Wn;if(zi.data.eventId===Tt)switch(zi.data.status){case"ack":clearTimeout(Et),N=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(N),De(zi.data.response);break;default:clearTimeout(Et),clearTimeout(N),nt(new Error("invalid_response"))}}},_.handlers.add(J),w.port1.addEventListener("message",J.onMessage),_.target.postMessage({eventType:c,eventId:Tt,data:d},[w.port2])}).finally(()=>{J&&_.removeMessageHandler(J)})})()}}function Nr(){return window}function Fc(){return typeof Nr().WorkerGlobalScope<"u"&&"function"==typeof Nr().importScripts}function Lc(){return(Lc=(0,y.c)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cp="firebaseLocalStorageDb",Vc="firebaseLocalStorage",dp="fbase_key";class fl{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function $c(f,c){return f.transaction([Vc],c?"readwrite":"readonly").objectStore(Vc)}function fp(){const f=indexedDB.open(cp,1);return new Promise((c,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Vc,{keyPath:dp})}catch(_){d(_)}}),f.addEventListener("success",(0,y.c)(function*(){const p=f.result;p.objectStoreNames.contains(Vc)?c(p):(p.close(),yield function hp(){const f=indexedDB.deleteDatabase(cp);return new fl(f).toPromise()}(),c(yield fp()))}))})}function oi(f,c,d){return gs.apply(this,arguments)}function gs(){return(gs=(0,y.c)(function*(f,c,d){const p=$c(f,!0).put({[dp]:c,value:d});return new fl(p).toPromise()})).apply(this,arguments)}function pp(){return(pp=(0,y.c)(function*(f,c){const d=$c(f,!1).get(c),p=yield new fl(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function H_(f,c){const d=$c(f,!0).delete(c);return new fl(d).toPromise()}const ya=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.c)(function*(){return d.db||(d.db=yield fp()),d.db})()}_withRetries(d){var p=this;return(0,y.c)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield d(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.c)(function*(){return Fc()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.c)(function*(){d.receiver=ps._getInstance(function O0(){return Fc()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,y.c)(function*(_,w){return{keyProcessed:(yield d._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,y.c)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.c)(function*(){var p,_;if(d.activeServiceWorker=yield function lp(){return Lc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new j_(d.activeServiceWorker);const w=yield d.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,y.c)(function*(){if(p.sender&&p.activeServiceWorker&&function _d(){var f;return(null===(f=null==navigator?void 0:navigator.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.c)(function*(){try{if(!indexedDB)return!1;const d=yield fp();return yield oi(d,to,"1"),yield H_(d,to),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,y.c)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,y.c)(function*(){return _._withPendingWrite((0,y.c)(function*(){return yield _._withRetries(w=>oi(w,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,y.c)(function*(){const _=yield p._withRetries(w=>function qn(f,c){return pp.apply(this,arguments)}(w,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,y.c)(function*(){return p._withPendingWrite((0,y.c)(function*(){return yield p._withRetries(_=>H_(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.c)(function*(){const p=yield d._withRetries(N=>{const J=$c(N,!1).getAll();return new fl(J).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:N,value:J}of p)w.add(N),JSON.stringify(d.localCache[N])!==JSON.stringify(J)&&(d.notifyListeners(N,J),_.push(N));for(const N of Object.keys(d.localCache))d.localCache[N]&&!w.has(N)&&(d.notifyListeners(N,null),_.push(N));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const w of Array.from(_))w(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.c)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Uc=1e12;class $0{constructor(c){this.auth=c,this.counter=Uc,this._widgets=new Map}render(c,d){const p=this.counter;return this._widgets.set(p,new ji(c,this.auth.name,d||{})),this.counter++,p}reset(c){var d;const p=c||Uc;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Uc))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,y.c)(function*(){var p;return null===(p=d._widgets.get(c||Uc))||void 0===p||p.execute(),""})()}}class ji{constructor(c,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof c?document.getElementById(c):c;D(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gl(f){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)c.push(d.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yd=ca("rcb"),Id=new Ee(3e4,6e4);class Ed{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Nr().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return D(function gp(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&fe(Nr().grecaptcha)?Promise.resolve(Nr().grecaptcha):new Promise((p,_)=>{const w=Nr().setTimeout(()=>{_(Me(c,"network-request-failed"))},Id.get());Nr()[yd]=()=>{Nr().clearTimeout(w),delete Nr()[yd];const J=Nr().grecaptcha;if(!J||!fe(J))return void _(Me(c,"internal-error"));const De=J.render;J.render=(nt,Tt)=>{const Et=De(nt,Tt);return this.counter++,Et},this.hostLanguage=d,p(J)},tl(`${function nl(){return qo.recaptchaV2Script}()}?${(0,B.ik)({onload:yd,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(w),_(Me(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Nr().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class QR{load(c){return(0,y.c)(function*(){return new $0(c)})()}clearedOneInstance(){}}const mp="recaptcha",XR={theme:"light",type:"image"};class no{constructor(c,d,p=Object.assign({},XR)){this.parameters=p,this.type=mp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(c),this.isInvisible="invisible"===this.parameters.size,D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;D(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QR:new Ed,this.validateStartingState()}verify(){var c=this;return(0,y.c)(function*(){c.assertNotDestroyed();const d=yield c.render(),p=c.getAssertedRecaptcha();return p.getResponse(d)||new Promise(w=>{const N=J=>{J&&(c.tokenChangeListeners.delete(N),w(J))};c.tokenChangeListeners.add(N),c.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof c)c(d);else if("string"==typeof c){const p=Nr()[c];"function"==typeof p&&p(d)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,y.c)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,y.c)(function*(){D(ue()&&!Fc(),c.auth,"internal-error"),yield function _p(){let f=null;return new Promise(c=>{"complete"!==document.readyState?(f=()=>c(),window.addEventListener("load",f)):c()}).catch(c=>{throw f&&window.removeEventListener("load",f),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function In(f){return Kt.apply(this,arguments)}(c.auth);D(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ps{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Zn._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function wd(){return(wd=(0,y.c)(function*(f,c,d){const p=Vn(f),_=yield Hc(p,c,(0,B.Yj)(d));return new Ps(_,w=>eo(p,w))})).apply(this,arguments)}function Bc(){return(Bc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);yield Mo(!1,p,"phone");const _=yield Hc(p.auth,c,(0,B.Yj)(d));return new Ps(_,w=>ga(p,w))})).apply(this,arguments)}function vp(){return(vp=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f),_=yield Hc(p.auth,c,(0,B.Yj)(d));return new Ps(_,w=>cd(p,w))})).apply(this,arguments)}function Hc(f,c,d){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,y.c)(function*(f,c,d){var p;const _=yield d.verify();try{let w;if(D("string"==typeof _,f,"argument-error"),D(d.type===mp,f,"argument-error"),w="string"==typeof c?{phoneNumber:c}:c,"session"in w){const N=w.session;if("phoneNumber"in w)return D("enroll"===N.type,f,"internal-error"),(yield function S0(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:start",ie(f,c))}(f,{idToken:N.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{D("signin"===N.type,f,"internal-error");const J=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return D(J,f,"missing-multi-factor-info"),(yield function vd(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:start",ie(f,c))}(f,{mfaPendingCredential:N.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:N}=yield function I0(f,c){return Ge.apply(this,arguments)}(f,{phoneNumber:w.phoneNumber,recaptchaToken:_});return N}}finally{d._reset()}}),Cd.apply(this,arguments)}function ml(){return(ml=(0,y.c)(function*(f,c){yield ha((0,B.Yj)(f),c)})).apply(this,arguments)}let Ia=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Vn(d)}verifyPhoneNumber(d,p){return Hc(this.auth,d,(0,B.Yj)(p))}static credential(d,p){return Zn._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?Zn._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function Ea(f,c){return c?xt(c):(D(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Qo extends St{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return us(c,this._buildIdpRequest())}_linkToIdToken(c,d){return us(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return us(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Dt(f){return ld(f.auth,new Qo(f),f.bypassAuthState)}function JR(f){const{auth:c,user:d}=f;return D(d,c,"internal-error"),Ss(d,new Qo(f),f.bypassAuthState)}function No(f){return _l.apply(this,arguments)}function _l(){return(_l=(0,y.c)(function*(f){const{auth:c,user:d}=f;return D(d,c,"internal-error"),ha(d,new Qo(f),f.bypassAuthState)})).apply(this,arguments)}class z_{constructor(c,d,p,_,w=!1){this.auth=c,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,y.c)(function*(p,_){c.pendingPromise={resolve:p,reject:_};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(w){c.reject(w)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,y.c)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:N,error:J,type:De}=c;if(J)return void d.reject(J);const nt={auth:d.auth,requestUri:p,sessionId:_,tenantId:N||void 0,postBody:w||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(De)(nt))}catch(Tt){d.reject(Tt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Dt;case"linkViaPopup":case"linkViaRedirect":return No;case"reauthViaPopup":case"reauthViaRedirect":return JR;default:Ve(this.auth,"internal-error")}}resolve(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const G_=new Ee(2e3,1e4);function vl(){return(vl=(0,y.c)(function*(f,c,d){const p=Vn(f);S(f,c,vo);const _=Ea(p,d);return new rt(p,"signInViaPopup",c,_).executeNotNull()})).apply(this,arguments)}function zc(){return(zc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);S(p.auth,c,vo);const _=Ea(p.auth,d);return new rt(p.auth,"reauthViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}function yp(){return(yp=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);S(p.auth,c,vo);const _=Ea(p.auth,d);return new rt(p.auth,"linkViaPopup",c,_,p).executeNotNull()})).apply(this,arguments)}let rt=(()=>{class f extends z_{constructor(d,p,_,w,N){super(d,p,w,N),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.c)(function*(){const p=yield d.execute();return D(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,y.c)(function*(){X(1===d.filter.length,"Popup operations only handle one event");const p=kc();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Me(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,G_.get())};d()}}return f.currentPopupAction=null,f})();const Td="pendingRedirect",Gc=new Map;class W_ extends z_{constructor(c,d,p=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,y.c)(function*(){let p=Gc.get(d.auth._key());if(!p){try{const w=(yield function Oo(f,c){return K_.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Gc.set(d.auth._key(),p)}return d.bypassAuthState||Gc.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,p=this;return(0,y.c)(function*(){if("signInViaRedirect"===c.type)return d().call(p,c);if("unknown"!==c.type){if(c.eventId){const _=yield p.auth._redirectUserForId(c.eventId);if(_)return p.user=_,d().call(p,c);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,y.c)(function*(){})()}cleanUp(){}}function K_(){return(K_=(0,y.c)(function*(f,c){const d=Nn(c),p=Q_(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Y_(f,c){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,y.c)(function*(f,c){return Q_(f)._set(Nn(c),"true")})).apply(this,arguments)}function Ip(f,c){Gc.set(f._key(),c)}function Q_(f){return xt(f._redirectPersistence)}function Nn(f){return Tr(Td,f.config.apiKey,f.name)}function Bt(f,c,d){return function Sd(f,c,d){return qc.apply(this,arguments)}(f,c,d)}function qc(){return(qc=(0,y.c)(function*(f,c,d){const p=Vn(f);S(f,c,vo),yield p._initializationPromise;const _=Ea(p,d);return yield Y_(_,p),_._openRedirect(p,c,"signInViaRedirect")})).apply(this,arguments)}function Ep(f,c,d){return function X_(f,c,d){return Wc.apply(this,arguments)}(f,c,d)}function Wc(){return(Wc=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);S(p.auth,c,vo),yield p.auth._initializationPromise;const _=Ea(p.auth,d);yield Y_(_,p.auth);const w=yield qt(p);return _._openRedirect(p.auth,c,"reauthViaRedirect",w)})).apply(this,arguments)}function H0(f,c,d){return function wp(f,c,d){return Z_.apply(this,arguments)}(f,c,d)}function Z_(){return(Z_=(0,y.c)(function*(f,c,d){const p=(0,B.Yj)(f);S(p.auth,c,vo),yield p.auth._initializationPromise;const _=Ea(p.auth,d);yield Mo(!1,p,c.providerId),yield Y_(_,p.auth);const w=yield qt(p);return _._openRedirect(p.auth,c,"linkViaRedirect",w)})).apply(this,arguments)}function J_(){return(J_=(0,y.c)(function*(f,c){return yield Vn(f)._initializationPromise,Cp(f,c,!1)})).apply(this,arguments)}function Cp(f,c){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,y.c)(function*(f,c,d=!1){const p=Vn(f),_=Ea(p,c),N=yield new W_(p,_,d).execute();return N&&!d&&(delete N.user._redirectEventId,yield p._persistUserIfCurrent(N.user),yield p._setRedirectUser(null,c)),N})).apply(this,arguments)}function qt(f){return En.apply(this,arguments)}function En(){return(En=(0,y.c)(function*(f){const c=kc(`${f.uid}:::`);return f._redirectEventId=c,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),c})).apply(this,arguments)}class ev{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(c,p)&&(d=!0,this.sendToConsumer(c,p),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function G0(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(f);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var p;if(c.error&&!z0(c)){const _=(null===(p=c.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Me(this.auth,_))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const p=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&p}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(c))}saveEventToCache(c){this.cachedEventUids.add(tv(c)),this.lastProcessedEventTime=Date.now()}}function tv(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(c=>c).join("-")}function z0({type:f,error:c}){return"unknown"===f&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Rd(f){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,y.c)(function*(f,c={}){return G(f,"GET","/v1/projects",c)})).apply(this,arguments)}const nv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hi=/^https?/;function iv(){return(iv=(0,y.c)(function*(f){if(f.config.emulator)return;const{authorizedDomains:c}=yield Rd(f);for(const d of c)try{if(nM(d))return}catch{}Ve(f,"unauthorized-domain")})).apply(this,arguments)}function nM(f){const c=te(),{protocol:d,hostname:p}=new URL(c);if(f.startsWith("chrome-extension://")){const N=new URL(f);return""===N.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&N.hostname===p}if(!Hi.test(d))return!1;if(nv.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Qc=new Ee(3e4,6e4);function Md(){const f=Nr().___jsl;if(null!=f&&f.H)for(const c of Object.keys(f.H))if(f.H[c].r=f.H[c].r||[],f.H[c].L=f.H[c].L||[],f.H[c].r=[...f.H[c].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let xd=null;const W0=new Ee(5e3,15e3),ov="__/auth/iframe",yl="emulator/auth/iframe",K0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y0(f){const c=f.config;D(c.authDomain,f,"auth-domain-config-required");const d=c.emulator?O(c,yl):`https://${f.config.authDomain}/${ov}`,p={apiKey:c.apiKey,appName:f.name,v:Ue.SDK_VERSION},_=xs.get(f.config.apiHost);_&&(p.eid=_);const w=f._getFrameworks();return w.length&&(p.fw=w.join(",")),`${d}?${(0,B.ik)(p).slice(1)}`}function Nd(){return Nd=(0,y.c)(function*(f){const c=yield function q0(f){return xd=xd||function Pd(f){return new Promise((c,d)=>{var p,_,w;function N(){Md(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Md(),d(Me(f,"network-request-failed"))},timeout:Qc.get()})}if(null!==(_=null===(p=Nr().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)c(gapi.iframes.getContext());else{if(null===(w=Nr().gapi)||void 0===w||!w.load){const J=ca("iframefcb");return Nr()[J]=()=>{gapi.load?N():d(Me(f,"network-request-failed"))},tl(`${function il(){return qo.gapiScript}()}?onload=${J}`).catch(De=>d(De))}N()}}).catch(c=>{throw xd=null,c})}(f),xd}(f),d=Nr().gapi;return D(d,f,"internal-error"),c.open({where:document.body,url:Y0(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K0,dontclear:!0},p=>new Promise(function(){var _=(0,y.c)(function*(w,N){yield p.restyle({setHideOnLeave:!1});const J=Me(f,"network-request-failed"),De=Nr().setTimeout(()=>{N(J)},W0.get());function nt(){Nr().clearTimeout(De),w(p)}p.ping(nt).then(nt,()=>{N(J)})});return function(w,N){return _.apply(this,arguments)}}()))}),Nd.apply(this,arguments)}const Be={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sv{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const iM="__/auth/handler",kd="emulator/auth/handler",Z0=encodeURIComponent("fac");function Zc(f,c,d,p,_,w){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,y.c)(function*(f,c,d,p,_,w){D(f.config.authDomain,f,"auth-domain-config-required"),D(f.config.apiKey,f,"invalid-api-key");const N={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:Ue.SDK_VERSION,eventId:_};if(c instanceof vo){c.setDefaultLanguage(f.languageCode),N.providerId=c.providerId||"",(0,B.t7)(c.getCustomParameters())||(N.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Tt,Et]of Object.entries(w||{}))N[Tt]=Et}if(c instanceof ol){const Tt=c.getScopes().filter(Et=>""!==Et);Tt.length>0&&(N.scopes=Tt.join(","))}f.tenantId&&(N.tid=f.tenantId);const J=N;for(const Tt of Object.keys(J))void 0===J[Tt]&&delete J[Tt];const De=yield f._getAppCheckToken(),nt=De?`#${Z0}=${encodeURIComponent(De)}`:"";return`${function Il({config:f}){return f.emulator?O(f,kd):`https://${f.authDomain}/${iM}`}(f)}?${(0,B.ik)(J).slice(1)}${nt}`})).apply(this,arguments)}const El="webStorageSupport",wa=class Fd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Cp,this._overrideRedirectResult=Ip}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){var N;X(null===(N=w.eventManagers[c._key()])||void 0===N?void 0:N.manager,"_initialize() not called before _openPopup()");const J=yield Zc(c,d,p,te(),_);return function X0(f,c,d,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),N=Math.max((window.screen.availWidth-p)/2,0).toString();let J="";const De=Object.assign(Object.assign({},Be),{width:p.toString(),height:_.toString(),top:w,left:N}),nt=(0,B.Su)().toLowerCase();d&&(J=Go(nt)?"_blank":d),Kr(nt)&&(c=c||"http://localhost",De.scrollbars="yes");const Tt=Object.entries(De).reduce((Wn,[zi,Nl])=>`${Wn}${zi}=${Nl},`,"");if(function hn(f=(0,B.Su)()){var c;return $t(f)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(nt)&&"_self"!==J)return function rM(f,c){const d=document.createElement("a");d.href=f,d.target=c;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(c||"",J),new sv(null);const Et=window.open(c||"",J,Tt);D(Et,f,"popup-blocked");try{Et.focus()}catch{}return new sv(Et)}(c,J,kc())})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w._originValidation(c),function N0(f){Nr().location.href=f}(yield Zc(c,d,p,te(),_)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:_,promise:w}=this.eventManagers[d];return _?Promise.resolve(_):(X(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(c);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(c){var d=this;return(0,y.c)(function*(){const p=yield function Ye(f){return Nd.apply(this,arguments)}(c),_=new ev(c);return p.register("authEvent",w=>(D(null==w?void 0:w.authEvent,c,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:_},d.iframes[c._key()]=p,_})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(El,{type:El},_=>{var w;const N=null===(w=null==_?void 0:_[0])||void 0===w?void 0:w[El];void 0!==N&&d(!!N),Ve(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function rv(f){return iv.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return $n()||Di()||$t()}};class wl{constructor(c){this.factorId=c}_process(c,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,p);case"signin":return this._finalizeSignIn(c,d.credential);default:return V("unexpected MultiFactorSessionType")}}}class Ns extends wl{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Ns(c)}_finalizeEnroll(c,d,p){return function we(f,c){return G(f,"POST","/v2/accounts/mfaEnrollment:finalize",ie(f,c))}(c,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Ms(f,c){return G(f,"POST","/v2/accounts/mfaSignIn:finalize",ie(f,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dp=(()=>{class f{constructor(){}static assertion(d){return Ns._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var bl="@firebase/auth";class lv{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,y.c)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(p=>{c((null==p?void 0:p.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ms(){return window}(0,B.sX)("authIdTokenMaxAge"),function Zu(f){qo=f}({loadJS:f=>new Promise((c,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=c,p.onerror=_=>{const w=Me("internal-error");w.customData=_,d(w)},p.type="text/javascript",p.charset="UTF-8",function dv(){var f,c;return null!==(c=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==c?c:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function tw(f){(0,Ue._registerComponent)(new Z.Yl("auth",(c,{options:d})=>{const p=c.getProvider("app").getImmediate(),_=c.getProvider("heartbeat"),w=c.getProvider("app-check-internal"),{apiKey:N,authDomain:J}=p.options;D(N&&!N.includes(":"),"invalid-api-key",{appName:p.name});const De={apiKey:N,authDomain:J,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jt(f)},nt=new pn(p,_,w,De);return function pe(f,c){const d=(null==c?void 0:c.persistence)||[],p=(Array.isArray(d)?d:[d]).map(xt);null!=c&&c.errorMap&&f._updateErrorMap(c.errorMap),f._initializeWithPersistence(p,null==c?void 0:c.popupRedirectResolver)}(nt,d),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,p)=>{c.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new Z.Yl("auth-internal",c=>{const d=Vn(c.getProvider("auth").getImmediate());return new lv(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(bl,"1.6.0",function ew(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,Ue.registerVersion)(bl,"1.6.0","esm2017")}("Browser");function fv(){return fv=(0,y.c)(function*(f,c,d){var p;const{BuildInfo:_}=ms();X(c.sessionId,"AuthEvent did not contain a session ID");const w=yield function Pp(f){return Dl.apply(this,arguments)}(c.sessionId),N={};return $t()?N.ibi=_.packageName:re()?N.apn=_.packageName:Ve(f,"operation-not-supported-in-this-environment"),_.displayName&&(N.appDisplayName=_.displayName),N.sessionId=w,Zc(f,d,c.type,void 0,null!==(p=c.eventId)&&void 0!==p?p:void 0,N)}),fv.apply(this,arguments)}function Sp(){return(Sp=(0,y.c)(function*(f){const{BuildInfo:c}=ms(),d={};$t()?d.iosBundleId=c.packageName:re()?d.androidPackageName=c.packageName:Ve(f,"operation-not-supported-in-this-environment"),yield Rd(f,d)})).apply(this,arguments)}function Mp(){return(Mp=(0,y.c)(function*(f,c,d){const{cordova:p}=ms();let _=()=>{};try{yield new Promise((w,N)=>{let J=null;function De(){var Et;w();const Wn=null===(Et=p.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof Wn&&Wn(),"function"==typeof(null==d?void 0:d.close)&&d.close()}function nt(){J||(J=window.setTimeout(()=>{N(Me(f,"redirect-cancelled-by-user"))},2e3))}function Tt(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}c.addPassiveListener(De),document.addEventListener("resume",nt,!1),re()&&document.addEventListener("visibilitychange",Tt,!1),_=()=>{c.removePassiveListener(De),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",Tt,!1),J&&window.clearTimeout(J)}})}finally{_()}})).apply(this,arguments)}function Dl(){return(Dl=(0,y.c)(function*(f){const c=function Tl(f){if(X(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const c=new ArrayBuffer(f.length),d=new Uint8Array(c);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Sl extends ev{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,y.c)(function*(){yield c.initPromise})()}}function ba(f){return mv.apply(this,arguments)}function mv(){return(mv=(0,y.c)(function*(f){const c=yield Np()._get(Rl(f));return c&&(yield Np()._remove(Rl(f))),c})).apply(this,arguments)}function nu(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Np(){return xt(Zr)}function Rl(f){return Tr("authEvent",f.config.apiKey,f.name)}function Xo(f){if(null==f||!f.includes("?"))return{};const[c,...d]=f.split("?");return(0,B.aw)(d.join("?"))}const Vd=class Op{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cp,this._overrideRedirectResult=Ip}_initialize(c){var d=this;return(0,y.c)(function*(){const p=c._key();let _=d.eventManagers.get(p);return _||(_=new Sl(c),d.eventManagers.set(p,_),d.attachCallbackListeners(c,_)),_})()}_openPopup(c){Ve(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){!function pv(f){var c,d,p,_,w,N,J,De,nt,Tt;const Et=ms();D("function"==typeof(null===(c=null==Et?void 0:Et.universalLinks)||void 0===c?void 0:c.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof(null===(d=null==Et?void 0:Et.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D("function"==typeof(null===(w=null===(_=null===(p=null==Et?void 0:Et.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(De=null===(J=null===(N=null==Et?void 0:Et.cordova)||void 0===N?void 0:N.plugins)||void 0===J?void 0:J.browsertab)||void 0===De?void 0:De.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(Tt=null===(nt=null==Et?void 0:Et.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===Tt?void 0:Tt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const N=yield w._initialize(c);yield N.initialized(),N.resetRedirect(),function j0(){Gc.clear()}(),yield w._originValidation(c);const J=function gv(f,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:nu(),postBody:null,tenantId:f.tenantId,error:Me(f,"no-auth-event")}}(c,p,_);yield function xp(f,c){return Np()._set(Rl(f),c)}(c,J);const De=yield function oM(f,c,d){return fv.apply(this,arguments)}(c,J,d),nt=yield function Ld(f){const{cordova:c}=ms();return new Promise(d=>{c.plugins.browsertab.isAvailable(p=>{let _=null;p?c.plugins.browsertab.openUrl(f):_=c.InAppBrowser.open(f,function st(f=(0,B.Su)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(De);return function Rp(f,c,d){return Mp.apply(this,arguments)}(c,N,nt)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function tu(f){return Sp.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=ms(),N=setTimeout((0,y.c)(function*(){yield ba(c),d.onEvent($d())}),500),J=function(){var Tt=(0,y.c)(function*(Et){clearTimeout(N);const Wn=yield ba(c);let zi=null;Wn&&null!=Et&&Et.url&&(zi=function rw(f,c){var d,p;const _=function Da(f){const c=Xo(f),d=c.link?decodeURIComponent(c.link):void 0,p=Xo(d).link,_=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Xo(_).link||_||p||d||f}(c);if(_.includes("/__/auth/callback")){const w=Xo(_),N=w.firebaseError?function iw(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,J=null===(p=null===(d=null==N?void 0:N.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],De=J?Me(J):null;return De?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(Wn,Et.url)),d.onEvent(zi||$d())});return function(Wn){return Tt.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,J);const De=_,nt=`${w.packageName.toLowerCase()}://`;ms().handleOpenURL=function(){var Tt=(0,y.c)(function*(Et){if(Et.toLowerCase().startsWith(nt)&&J({url:Et}),"function"==typeof De)try{De(Et)}catch(Wn){console.error(Wn)}});return function(Et){return Tt.apply(this,arguments)}}()}};function $d(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Bd(){var f;return(null===(f=null==self?void 0:self.location)||void 0===f?void 0:f.protocol)||null}function Iv(f=(0,B.Su)()){return!("file:"!==Bd()&&"ionic:"!==Bd()&&"capacitor:"!==Bd()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cv(){try{const f=self.localStorage,c=kc();if(f)return f.setItem(c,"1"),f.removeItem(c),!function Ta(f=(0,B.Su)()){return function Ev(){return(0,B.Uv)()&&11===(null==document?void 0:document.documentMode)}()||function wv(f=(0,B.Su)()){return/Edge\/\d+/.test(f)}(f)}()||(0,B.yy)()}catch{return ru()&&(0,B.yy)()}return!1}function ru(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ml(){return(function kp(){return"http:"===Bd()||"https:"===Bd()}()||(0,B.Cc)()||Iv())&&!function Fp(){return(0,B.AL)()||(0,B.yW)()}()&&Cv()&&!ru()}function bv(){return Iv()&&typeof document<"u"}function Pl(){return(Pl=(0,y.c)(function*(){return!!bv()&&new Promise(f=>{const c=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),f(!0)})})})).apply(this,arguments)}const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},Aa=D,Dv="persistence";function jd(f){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.c)(function*(f){yield f._initializationPromise;const c=Tv(),d=Tr(Dv,f.config.apiKey,f.name);c&&c.setItem(d,f._getPersistence())})).apply(this,arguments)}function Tv(){var f;try{return(null===(f=function si(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const lw=D;class Zo{constructor(){this.browserResolver=xt(wa),this.cordovaResolver=xt(Vd),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=Cp,this._overrideRedirectResult=Ip}_initialize(c){var d=this;return(0,y.c)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(c,d,p,_)})()}_openRedirect(c,d,p,_){var w=this;return(0,y.c)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(c,d,p,_)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return bv()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,y.c)(function*(){if(c.underlyingResolver)return;const d=yield function Lp(){return Pl.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function ks(f){return f.unwrap()}function xl(f){return Av(f)}function Av(f){const{_tokenResponse:c}=f instanceof B.kx?f.customData:f;if(!c)return null;if(!(f instanceof B.kx)&&"temporaryProof"in c&&"phoneNumber"in c)return Ia.credentialFromResult(f);const d=c.providerId;if(!d||d===tt.PASSWORD)return null;let p;switch(d){case tt.GOOGLE:p=et;break;case tt.FACEBOOK:p=Jn;break;case tt.GITHUB:p=Ft;break;case tt.TWITTER:p=da;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:J,nonce:De}=c;return w||N||_||J?J?d.startsWith("saml.")?mi._create(d,J):Ko._fromParams({providerId:d,signInMethod:d,pendingToken:J,idToken:_,accessToken:w}):new sl(d).credential({idToken:_,accessToken:w,rawNonce:De}):null}return f instanceof B.kx?p.credentialFromError(f):p.credentialFromResult(f)}function bn(f,c){return c.catch(d=>{throw d instanceof B.kx&&function cw(f,c){var d;const p=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===(null==c?void 0:c.code))c.resolver=new iu(f,function A0(f,c){var d;const p=(0,B.Yj)(f),_=c;return D(c.customData.operationType,p,"argument-error"),D(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),sp._fromError(p,_)}(f,c));else if(p){const _=Av(c),w=c;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:xl(d),additionalUserInfo:rp(d),user:_s.getOrCreate(_)}})}function Hd(f,c){return $p.apply(this,arguments)}function $p(){return($p=(0,y.c)(function*(f,c){const d=yield c;return{verificationId:d.verificationId,confirm:p=>bn(f,d.confirm(p))}})).apply(this,arguments)}class iu{constructor(c,d){this.resolver=d,this.auth=function Vp(f){return f.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return bn(ks(this.auth),this.resolver.resolveSignIn(c))}}class _s{constructor(c){this._delegate=c,this.multiFactor=function Oc(f){const c=(0,B.Yj)(f);return gd.has(c)||gd.set(c,An._fromUser(c)),gd.get(c)}(c)}static getOrCreate(c){return _s.USER_MAP.has(c)||_s.USER_MAP.set(c,new _s(c)),_s.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,y.c)(function*(){return bn(d.auth,ga(d._delegate,c))})()}linkWithPhoneNumber(c,d){var p=this;return(0,y.c)(function*(){return Hd(p.auth,function U0(f,c,d){return Bc.apply(this,arguments)}(p._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,y.c)(function*(){return bn(d.auth,function q_(f,c,d){return yp.apply(this,arguments)}(d._delegate,c,Zo))})()}linkWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield jd(Vn(d.auth)),H0(d._delegate,c,Zo)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,y.c)(function*(){return bn(d.auth,cd(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return Hd(this.auth,function jc(f,c,d){return vp.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return bn(this.auth,function Dd(f,c,d){return zc.apply(this,arguments)}(this._delegate,c,Zo))}reauthenticateWithRedirect(c){var d=this;return(0,y.c)(function*(){return yield jd(Vn(d.auth)),Ep(d._delegate,c,Zo)})()}sendEmailVerification(c){return function L_(f,c){return Xf.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,y.c)(function*(){return yield function ll(f,c){return yo.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function xc(f,c){return Bi((0,B.Yj)(f),c,null)}(this._delegate,c)}updatePassword(c){return function dl(f,c){return Bi((0,B.Yj)(f),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function bd(f,c){return ml.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ai(f,c){return Jf.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function GR(f,c,d){return Rn.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_s.USER_MAP=new WeakMap;const ou=D;let Sv=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;ou(_,"invalid-api-key",{appName:d.name}),ou(_,"invalid-api-key",{appName:d.name});const w=typeof window<"u"?Zo:void 0;this._delegate=p.initialize({options:{persistence:uw(_,d.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_s.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function je(f,c,d){const p=Vn(f);D(p._canInitEmulator,p,"emulator-config-failed"),D(/^https?:\/\//.test(c),p,"invalid-emulator-scheme");const _=!(null==d||!d.disableWarnings),w=Le(c),{host:N,port:J}=function Oe(f){const c=Le(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(c.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:Se(p.substr(w.length+1))}}{const[w,N]=p.split(":");return{host:w,port:Se(N)}}}(c);p.config.emulator={url:`${w}//${N}${null===J?"":`:${J}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:N,port:J,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function We(){function f(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function VR(f,c){return R_.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return b0(this._delegate,d)}confirmPasswordReset(d,p){return function LR(f,c,d){return S_.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,y.c)(function*(){return bn(_._delegate,function UR(f,c,d){return x_.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function F_(f,c){return fd.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function N_(f,c){const d=Pr.parseLink(c);return"EMAIL_SIGNIN"===(null==d?void 0:d.operation)}(0,d)}getRedirectResult(){var d=this;return(0,y.c)(function*(){ou(Ml(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function eM(f,c){return J_.apply(this,arguments)}(d._delegate,Zo);return p?bn(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function ow(f,c){Vn(f)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:w,error:N,complete:J}=Rv(d,p,_);return this._delegate.onAuthStateChanged(w,N,J)}onIdTokenChanged(d,p,_){const{next:w,error:N,complete:J}=Rv(d,p,_);return this._delegate.onIdTokenChanged(w,N,J)}sendSignInLinkToEmail(d,p){return function jR(f,c,d){return hd.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function C0(f,c,d){return Pc.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,y.c)(function*(){let _;switch(function sw(f,c){Aa(Object.values(Jr).includes(c),f,"invalid-persistence-type"),(0,B.AL)()?Aa(c!==Jr.SESSION,f,"unsupported-persistence-type"):(0,B.yW)()?Aa(c===Jr.NONE,f,"unsupported-persistence-type"):ru()?Aa(c===Jr.NONE||c===Jr.LOCAL&&(0,B.yy)(),f,"unsupported-persistence-type"):Aa(c===Jr.NONE||Cv(),f,"unsupported-persistence-type")}(p._delegate,d),d){case Jr.SESSION:_=fs;break;case Jr.LOCAL:_=(yield xt(ya)._isAvailable())?ya:Zr;break;case Jr.NONE:_=wt;break;default:return Ve("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return bn(this._delegate,function Ac(f){return sd.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return bn(this._delegate,eo(this._delegate,d))}signInWithCustomToken(d){return bn(this._delegate,function ma(f,c){return ul.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return bn(this._delegate,function BR(f,c,d){return eo((0,B.Yj)(f),od.credential(c,d)).catch(function(){var p=(0,y.c)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&Mc(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return bn(this._delegate,function HR(f,c,d){return O_.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Hd(this._delegate,function ZR(f,c,d){return wd.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,y.c)(function*(){return ou(Ml(),p._delegate,"operation-not-supported-in-this-environment"),bn(p._delegate,function B0(f,c,d){return vl.apply(this,arguments)}(p._delegate,d,Zo))})()}signInWithRedirect(d){var p=this;return(0,y.c)(function*(){return ou(Ml(),p._delegate,"operation-not-supported-in-this-environment"),yield jd(p._delegate),Bt(p._delegate,d,Zo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function $R(f,c){return P_.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=Jr,f})();function Rv(f,c,d){let p=f;"function"!=typeof f&&({next:p,error:c,complete:d}=f);const _=p;return{next:N=>_(N&&_s.getOrCreate(N)),error:c,complete:d}}function uw(f,c){const d=function aw(f,c){const d=Tv();if(!d)return[];const p=Tr(Dv,f,c);switch(d.getItem(p)){case Jr.NONE:return[wt];case Jr.LOCAL:return[ya,fs];case Jr.SESSION:return[fs];default:return[]}}(f,c);if(typeof self<"u"&&!d.includes(ya)&&d.push(ya),typeof window<"u")for(const p of[Zr,fs])d.includes(p)||d.push(p);return d.includes(wt)||d.push(wt),d}class Up{constructor(){this.providerId="phone",this._delegate=new Ia(ks(xe.c.auth()))}static credential(c,d){return Ia.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Up.PHONE_SIGN_IN_METHOD=Ia.PHONE_SIGN_IN_METHOD,Up.PROVIDER_ID=Ia.PROVIDER_ID;const Bp=D;class zd{constructor(c,d,p=xe.c.app()){var _;Bp(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new no(p.auth(),c,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mv(f){f.INTERNAL.registerComponent(new Z.Yl("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),p=c.getProvider("auth");return new Sv(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:od,FacebookAuthProvider:Jn,GithubAuthProvider:Ft,GoogleAuthProvider:et,OAuthProvider:sl,SAMLAuthProvider:Ui,PhoneAuthProvider:Up,PhoneMultiFactorGenerator:Dp,RecaptchaVerifier:zd,TwitterAuthProvider:da,Auth:Sv,AuthCredential:St,Error:B.kx}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.2")}(xe.c)},1528:(Mn,Ot,oe)=>{"use strict";function y(B,Ue,At,Ke,Z,Xe,tt){try{var ee=B[Xe](tt),W=ee.value}catch(ve){return void At(ve)}ee.done?Ue(W):Promise.resolve(W).then(Ke,Z)}function xe(B){return function(){var Ue=this,At=arguments;return new Promise(function(Ke,Z){var Xe=B.apply(Ue,At);function tt(W){y(Xe,Ke,Z,tt,ee,"next",W)}function ee(W){y(Xe,Ke,Z,tt,ee,"throw",W)}tt(void 0)})}}oe.d(Ot,{c:()=>xe})},1316:(Mn,Ot,oe)=>{"use strict";function Ue(O,T){var P={};for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&T.indexOf(j)<0&&(P[j]=O[j]);if(null!=O&&"function"==typeof Object.getOwnPropertySymbols){var ie=0;for(j=Object.getOwnPropertySymbols(O);ie<j.length;ie++)T.indexOf(j[ie])<0&&Object.prototype.propertyIsEnumerable.call(O,j[ie])&&(P[j[ie]]=O[j[ie]])}return P}function At(O,T,P,j){var He,ie=arguments.length,G=ie<3?T:null===j?j=Object.getOwnPropertyDescriptor(T,P):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(O,T,P,j);else for(var lt=O.length-1;lt>=0;lt--)(He=O[lt])&&(G=(ie<3?He(G):ie>3?He(T,P,G):He(T,P))||G);return ie>3&&G&&Object.defineProperty(T,P,G),G}function ve(O,T,P,j){return new(P||(P=Promise))(function(G,He){function lt(kt){try{dt(j.next(kt))}catch(ln){He(ln)}}function Je(kt){try{dt(j.throw(kt))}catch(ln){He(ln)}}function dt(kt){kt.done?G(kt.value):function ie(G){return G instanceof P?G:new P(function(He){He(G)})}(kt.value).then(lt,Je)}dt((j=j.apply(O,T||[])).next())})}function Re(O){return this instanceof Re?(this.v=O,this):new Re(O)}function Ve(O,T,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,j=P.apply(O,T||[]),G=[];return ie={},He("next"),He("throw"),He("return"),ie[Symbol.asyncIterator]=function(){return this},ie;function He(gt){j[gt]&&(ie[gt]=function(Ae){return new Promise(function(se,fe){G.push([gt,Ae,se,fe])>1||lt(gt,Ae)})})}function lt(gt,Ae){try{!function Je(gt){gt.value instanceof Re?Promise.resolve(gt.value.v).then(dt,kt):ln(G[0][2],gt)}(j[gt](Ae))}catch(se){ln(G[0][3],se)}}function dt(gt){lt("next",gt)}function kt(gt){lt("throw",gt)}function ln(gt,Ae){gt(Ae),G.shift(),G.length&&lt(G[0][0],G[0][1])}}function Ze(O){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P,T=O[Symbol.asyncIterator];return T?T.call(O):(O=function be(O){var T="function"==typeof Symbol&&Symbol.iterator,P=T&&O[T],j=0;if(P)return P.call(O);if(O&&"number"==typeof O.length)return{next:function(){return O&&j>=O.length&&(O=void 0),{value:O&&O[j++],done:!O}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")}(O),P={},j("next"),j("throw"),j("return"),P[Symbol.asyncIterator]=function(){return this},P);function j(G){P[G]=O[G]&&function(He){return new Promise(function(lt,Je){!function ie(G,He,lt,Je){Promise.resolve(Je).then(function(dt){G({value:dt,done:lt})},He)}(lt,Je,(He=O[G](He)).done,He.value)})}}}oe.d(Ot,{U1:()=>Re,UN:()=>At,kH:()=>ve,mA:()=>Ze,o7:()=>Ve,sX:()=>Ue}),"function"==typeof SuppressedError&&SuppressedError}},Mn=>{Mn(Mn.s=904)}]);